#LyX 2.1 created this file. For more info see http://www.lyx.org/
\lyxformat 474
\begin_document
\begin_header
\textclass book
\begin_preamble
\usepackage{pgf,tikz}
\usetikzlibrary{arrows}

\usepackage[Algoritmo]{algorithm}
\usepackage{algpseudocode}
\usepackage{hyperref}
\usepackage[style=authoryear,backend=biber]{biblatex}

%empieza codigo para usar [] en biblatex
\newrobustcmd*{\parentexttrack}[1]{%
  \begingroup
  \blx@blxinit
  \blx@setsfcodes
  \blx@bibopenparen#1\blx@bibcloseparen
  \endgroup}

\AtEveryCite{%
  \let\parentext=\parentexttrack%
  \let\bibopenparen=\bibopenbracket%
  \let\bibcloseparen=\bibclosebracket}
%termina codigo para usar [] en biblatex

%empieza codigo para usar biblatex con un bib en ./
\ifcsname input@path\endcsname 
  \edef\@basepath{\expandafter\@firstofone\input@path} %remove curly braces
  \def\rm@quotes#1"#2"#3\@nul{\ifx\relax#2\relax #1\else #2\fi} %
  \edef\@basepath{\expandafter\rm@quotes\@basepath""\@nul} %remove quotes
\else\edef\@basepath{./}\fi

 \let\orig@addbibresource\addbibresource
\renewrobustcmd*{\addbibresource}[2][type=file]{\orig@addbibresource[#1]{\@basepath#2}}
%termina codigo para usar biblatex con un bib en ./

\addbibresource{tesis.bib}

%que todas las citas tengan parentesis
\renewcommand{\cite}{\parencite}


\usepackage{color}
\definecolor{gray97}{gray}{.97}
\definecolor{gray75}{gray}{.75}
\definecolor{gray45}{gray}{.45}

\usepackage{listings}


% minimizar fragmentado de listados
\lstnewenvironment{listing}[1][]
{\lstset{#1}\pagebreak[0]}{\pagebreak[0]}

% defino un nuevo estilo para la consola
\lstdefinestyle{consola}
{basicstyle=\scriptsize\bf\ttfamily,
backgroundcolor=\color{gray75},
}

%la usan las representaciones de reticulados para los tres puntos
\usepackage{mathdots}

%invierto los margenes, para que anden bien
\let\tmp\oddsidemargin
\let\oddsidemargin\evensidemargin
\let\evensidemargin\tmp
\reversemarginpar

%agrego comandos especiales para algoritmthx 
\algnewcommand\algorithmicinput{\textbf{Entrada:}}
\algnewcommand\Input{\item[\algorithmicinput]}

\algnewcommand\algorithmicoutput{\textbf{Salida:}}
\algnewcommand\Output{\item[\algorithmicoutput]}

%%para tener margenes iguales a pesar de usar book con doble faz
%\usepackage{geometry}
%\geometry{bindingoffset=0.7cm,hratio=1:1}
\end_preamble
\use_default_options false
\begin_modules
theorems-ams
eqs-within-sections
figs-within-sections
theorems-ams-extended
\end_modules
\maintain_unincluded_children false
\language spanish
\language_package default
\inputencoding auto
\fontencoding global
\font_roman default
\font_sans default
\font_typewriter default
\font_math auto
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100
\font_tt_scale 100
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command biber
\index_command default
\paperfontsize default
\spacing single
\use_hyperref false
\papersize a4paper
\use_geometry false
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 4cm
\rightmargin 2cm
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\quotes_language french
\papercolumns 1
\papersides 2
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{titlepage}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
quiza no deberia tener el margen tan asimetrico!
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/escudo unc.svg
	scale 40

\end_inset


\shape smallcaps
\size largest

\begin_inset VSpace 2cm
\end_inset


\size larger

\begin_inset Newline newline
\end_inset


\size largest
Facultad de Matemática, Astronomía, Física y Computación
\begin_inset VSpace 1.5cm
\end_inset


\begin_inset Newline newline
\end_inset


\size larger
Trabajo especial de la Licenciatura en Ciencias de la Computación
\size largest

\begin_inset VSpace 0.5cm
\end_inset


\begin_inset Newline newline
\end_inset


\shape default
\size default

\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "100col%"
height "0.5mm"

\end_inset


\shape smallcaps
\size largest

\begin_inset VSpace 0.4cm
\end_inset


\series bold
\shape default
\size huge
Algoritmos para decidir definibilidad de relaciones en fragmentos de primer
 orden
\end_layout

\begin_layout Plain Layout
\align center
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "100col%"
height "0.5mm"

\end_inset


\shape smallcaps
\size largest

\begin_inset VSpace 1.5cm
\end_inset


\shape default
\size default

\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "40text%"
special "none"
height "1in"
height_special "totalheight"
status open

\begin_layout Plain Layout

\size large
\emph on
Autor:
\emph default

\begin_inset Newline newline
\end_inset

Pablo 
\shape smallcaps
Ventura
\end_layout

\end_inset


\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "40text%"
special "none"
height "1in"
height_special "totalheight"
status open

\begin_layout Plain Layout
\align right

\size large
\emph on
Director:
\emph default

\begin_inset Newline newline
\end_inset

Dr.
 Miguel 
\shape smallcaps
Campercholi
\end_layout

\end_inset


\shape smallcaps
\size largest

\begin_inset VSpace 2cm
\end_inset


\begin_inset Newline newline
\end_inset


\shape default
\size large
Marzo de 2016
\end_layout

\begin_layout Plain Layout
\align center
\begin_inset VSpace 1.5cm
\end_inset


\begin_inset Graphics
	filename img/by-nc-nd.svg
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Quotes fld
\end_inset

Algoritmos para decidir definibilidad de relaciones en fragmentos de primer
 orden
\begin_inset Quotes frd
\end_inset

 por Pablo Ventura, se distribuye bajo la 
\begin_inset CommandInset href
LatexCommand href
name "Licencia Creative Commons Atribución-NoComercial-SinDerivadas 2.5 Argentina"
target "http://creativecommons.org/licenses/by-nc-nd/2.5/ar/"

\end_inset

.
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{titlepage}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\enumeracion}[3][n][x][1]{#2_{#3},\dots,#2_{#1}}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\fee}[3][\gamma]{#1:\mathbf{#2}\rightarrow\mathbf{#3}}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\funcion}[3][\gamma]{#1:#2\rightarrow#3}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\embedding}[3][\gamma]{#1:\mathbf{#2}\hookrightarrow\mathbf{#3}}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\deff}[2][\varphi][\bar{x}]{#1\left(#2\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\sat}[3]{#1\vDash#2\left[#3\right]}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\nsat}[3]{\mathbf{#1}\not\vDash#2\left[#3\right]}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\subuniv}[2]{\left\langle \bar{#1}\right\rangle ^{\mathbf{#2}}}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\subiso}[1]{\operatorname{sub\, iso}\left(#1\right)}
{\mathrm{sub\, iso}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\subhom}[1]{\operatorname{sub\, hom}\left(#1\right)}
{\mathrm{sub\, hom}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\iso}[1]{\operatorname{iso}\left(#1\right)}
{\mathrm{iso}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\aut}[1]{\operatorname{aut}\left(#1\right)}
{\mathrm{aut}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\hom}[1]{\operatorname{hom}\left(#1\right)}
{\mathrm{hom}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\subestr}[1]{\operatorname{\mathbb{S}}\left(#1\right)}
{\mathrm{\mathbb{S}}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\subestrl}[2]{\operatorname{\mathbb{S}}_{#2}\left(#1\right)}
{\mathrm{\mathbb{S}}_{#2}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\dominio}[1]{\operatorname{Dom}\left(#1\right)}
{\mathrm{Dom}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\imagen}[1]{\operatorname{Im}\left(#1\right)}
{\mathrm{Im}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\partes}[1]{\operatorname{\mathcal{P}}\left(#1\right)}
{\mathrm{\mathcal{P}}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\bihom}[1]{\operatorname{bi\, hom}\left(#1\right)}
{\mathrm{bi\, hom}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\grafico}[1]{\operatorname{graph}\left(#1\right)}
{\mathrm{graph}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\primerorden}[1]{\operatorname{Fo}\left(#1\right)}
{\mathrm{Fo}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\abiertas}[1]{\operatorname{Op}\left(#1\right)}
{\mathrm{Op}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\abiertaspositivas}[1]{\operatorname{Op^{+}}\left(#1\right)}
{\mathrm{Op}^{+}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\existenciales}[1]{\operatorname{E}\left(#1\right)}
{\mathrm{E}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\existencialespositivas}[1]{\operatorname{E^{+}}\left(#1\right)}
{\mathrm{E}^{+}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard

\end_layout

\begin_layout Chapter*
\begin_inset space ~
\end_inset


\end_layout

\begin_layout Standard
\begin_inset VSpace -6cm
\end_inset


\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "90text%"
special "none"
height "1in"
height_special "totalheight"
status open

\begin_layout Plain Layout
\align center

\series bold
\lang english
Abstract
\end_layout

\begin_layout Plain Layout

\lang english
In this work we develop algorithms to decide definability of relations over
 finite families of finite first order structures.
 We present algorithms for the following kinds of formulas: open, positive
 open, existential, positive existential and without restrictions.
 The starting point to these algorithms is a series of theoretical results
 characterizing definability in terms of preservation of morphisms.
 We also present procedures to generate the algebras of definable relations
 for each of the above listed formats.
\end_layout

\begin_layout Plain Layout

\lang english
Additionally, we introduce a package for SageMath, 
\emph on
Definability
\emph default
, where the algorithms are implemented.
 The testing of this package inspired a theorem characterizing the binary
 relations definable by positive existential formulas over distributive
 lattices.
\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Description
\noindent

\lang english
Classification: F.4.1 - Model theory.
\end_layout

\begin_layout Description
\noindent

\lang english
Keywords: Finite model theory, definability, relations, algorithms, morphisms,
 fragments of first order.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset VSpace 1cm
\end_inset


\begin_inset Box Frameless
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "90text%"
special "none"
height "1in"
height_special "totalheight"
status open

\begin_layout Plain Layout
\align center

\series bold
Resumen
\end_layout

\begin_layout Plain Layout
En este trabajo desarrollamos algoritmos para decidir definibilidad de relacione
s sobre familias finitas de estructuras finitas de primer orden.
 Presentamos algoritmos para los siguientes tipos de fórmulas: abiertas,
 abiertas positivas, existenciales, existenciales positivas y fórmulas sin
 restricciones.
 El punto de partida para estos algoritmos es una serie de resultados teóricos
 que caracterizan la definibilidad en términos de la preservación de morfismos.
 Presentamos además procedimientos para generar las álgebras de relaciones
 definibles en los formatos arriba enumerados.
\end_layout

\begin_layout Plain Layout
Adicionalmente, introducimos el paquete 
\emph on
Definability
\emph default
 desarrollado para SageMath, en el cual se implementan los algoritmos desarrolla
dos.
 Las pruebas de este paquete inspiraron un teorema que caracteriza las relacione
s binarias definibles por existenciales positivas en reticulados distributivos.
\end_layout

\begin_layout Plain Layout
\noindent
\align center
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Description
\noindent
Clasificación: F.4.1 - Model theory.
\begin_inset Note Note
status open

\begin_layout Plain Layout
esta bien esta clasificacion? y las palabras clave?, sigo esto 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.famaf.unc.edu.ar/institucional/biblioteca/requisitos-presentacion-de-trab
ajos/
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Description
\noindent
Palabras
\begin_inset space ~
\end_inset

clave: Teoría de modelos finitos, definibilidad, relaciones, algoritmos,
 morfismos, fragmentos de primer orden.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Chapter*
Agradecimientos
\end_layout

\begin_layout Standard
\noindent
\align left
A Inés, por acompañarme siempre y soportar los fines de semana de estudio,
\begin_inset Newline newline
\end_inset

a mi familia, por el apoyo y el incentivo,
\begin_inset Newline newline
\end_inset

a mis amigos, dentro y fuera de la facultad,
\begin_inset Newline newline
\end_inset

a Camper, por el entusiasmo y la confianza,
\begin_inset Newline newline
\end_inset

y a todo FaMAF, por la emoción de cada clase.
\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Chapter
Introducción
\end_layout

\begin_layout Section
Motivación
\end_layout

\begin_layout Standard
Al definir un objeto entre otros es fundamental la capacidad expresiva del
 lenguaje con el que contamos.
 Para ilustrar la idea, veamos el siguiente esquema con figuras geométricas.
 Cada figura tiene una forma y una ubicación propia.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/ejemplo leng natural.svg
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Figuras geométricas
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Supongamos que queremos definir el círculo.
 Para lograrlo necesitamos una propiedad que solo se cumpla en él.
 Un ejemplo trivial podría ser 
\begin_inset Quotes fld
\end_inset

Soy un círculo
\begin_inset Quotes frd
\end_inset

.
 Es claro que esta oración solo se cumple cuando ponemos como hablante al
 círculo.
 Esto sería haber 
\emph on
definido
\emph default
 al círculo en nuestro dibujo.
\end_layout

\begin_layout Standard
El problema se vuelve más interesante si restringimos un poco el lenguaje.
 Supongamos ahora que queremos definir al circulo, pero ya no podemos usar
 los nombres de las figuras geométricas.
 Tenemos la alternativa de definirlo como 
\begin_inset Quotes fld
\end_inset

Soy el que está a la izquierda de todos los demás
\begin_inset Quotes frd
\end_inset

 y todavía podemos afirmar que efectivamente la oración es solo verdad cuando
 el círculo es quién la dice.
\end_layout

\begin_layout Standard
Ahora restrinjamos aún más el lenguaje, esta vez utilizando solo expresiones
 del tipo 
\begin_inset Quotes fld
\end_inset

está arriba o a la misma altura que
\begin_inset Quotes frd
\end_inset

 y 
\begin_inset Quotes fld
\end_inset

está abajo o a la misma altura que
\begin_inset Quotes frd
\end_inset

.
 Es fácil definir al triangulo como 
\begin_inset Quotes fld
\end_inset

Tengo a todos abajo o a la misma altura que yo
\begin_inset Quotes frd
\end_inset

 y también al hexágono como 
\begin_inset Quotes fld
\end_inset

Tengo a todos arriba o a la misma altura que yo
\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Standard
Pero si intentamos definir el círculo, esta vez nuestro lenguaje ha perdido
 la capacidad de distinguir entre derecha e izquierda.
 Todo lo que podemos decir sobre él es que 
\begin_inset Quotes fld
\end_inset

Tengo alguien arriba o a la misma altura que yo, que no soy yo y tengo alguien
 abajo o a la misma altura que yo, que yo soy yo
\begin_inset Quotes frd
\end_inset

.
 Finalmente estamos ante un problema, ya que el cuadrado cumple esa misma
 propiedad.
 Ahora ya no podemos definir al circulo, ya que todo lo que podemos decir
 de él en nuestro nuevo lenguaje, lo cumple también el cuadrado.
\end_layout

\begin_layout Standard
Esto se debe a que reflejar nuestro dibujo como en la figura siguiente,
 mantiene el orden respecto de quién estaba abajo de quién (i.e preserva
 las propiedades expresables en nuestro lenguaje), pero invierte derecha
 e izquierda.
 Esto representa un 
\emph on
automorfismo
\emph default
 de nuestro dibujo, que en particular, no 
\emph on
preserva
\emph default
 la ubicación del círculo.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/ejemplo leng natural espejo.svg
	scale 25

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Figuras geométricas reflejadas
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Es interesante notar que en cambio, para aquellas figuras geométricas sobre
 las que sí se preserva la ubicación, pudimos encontrar definiciones a pesar
 de lo restringido de nuestro lenguaje.
\end_layout

\begin_layout Section
El problema
\end_layout

\begin_layout Standard
El problema sobre el que trabajamos, no trata sobre decidir definibilidad
 en el lenguaje natural sino en el lenguaje formal llamado Lógica de Primer
 Orden.
\end_layout

\begin_layout Standard
Sean 
\begin_inset Formula $\mathcal{L}$
\end_inset

 un lenguaje de primer orden y 
\begin_inset Formula $\mathcal{K}$
\end_inset

 una clase de 
\begin_inset Formula $\mathcal{L}$
\end_inset

-estructuras.
 Dado un símbolo de relación n-ario 
\begin_inset Formula $R\in\mathcal{L}$
\end_inset

 diremos que la fórmula 
\begin_inset Formula $\varphi\left(x_{1},\dots,x_{n}\right)$
\end_inset

 
\emph on
define
\emph default
 a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

 si
\begin_inset Formula 
\[
\mathcal{K}\vDash\forall\overline{x}\ R\left(\overline{x}\right)\leftrightarrow\varphi\left(\overline{x}\right)\text{.}
\]

\end_inset

El problema computacional estudiado en esta monografía es el siguiente.
\end_layout

\begin_layout Problem
\begin_inset CommandInset label
LatexCommand label
name "prob:principal"

\end_inset

Dados:
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $\mathcal{L}$
\end_inset

 un lenguaje de primer orden finito,
\end_layout

\begin_layout Itemize
\begin_inset Formula $\mathcal{K}$
\end_inset

 un conjunto finito de estructuras finitas de 
\begin_inset Formula $\mathcal{L}$
\end_inset

,
\end_layout

\begin_layout Itemize
\begin_inset Formula $R\in\mathcal{L}$
\end_inset

 un símbolo de relación, y
\end_layout

\begin_layout Itemize
\begin_inset Formula $\Sigma$
\end_inset

 uno de los siguientes subconjuntos de 
\begin_inset Formula $\mathcal{L}-\{R\}$
\end_inset

-fórmulas:
\end_layout

\begin_deeper
\begin_layout Itemize
abiertas,
\end_layout

\begin_layout Itemize
abiertas positivas,
\end_layout

\begin_layout Itemize
existenciales,
\end_layout

\begin_layout Itemize
existenciales positivas,
\end_layout

\begin_layout Itemize
fórmulas sin restricciones
\end_layout

\end_deeper
\end_deeper
\begin_layout Problem
decidir si hay una fórmula de 
\begin_inset Formula $\Sigma$
\end_inset

 que define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
 
\end_layout

\begin_layout Standard
La tipología de este problema sugiere que su complejidad computacional en
 el caso general será muy elevada.
 Una solución por 
\begin_inset Quotes fld
\end_inset

fuerza bruta
\begin_inset Quotes frd
\end_inset

 requiere la construcción de todas las relaciones 
\begin_inset Formula $\Sigma$
\end_inset

-definibles en 
\begin_inset Formula $\mathcal{K}$
\end_inset

 para poder dar una respuesta negativa.
 Nuestro enfoque es evitar este costo explotando propiedades de preservación
 que pueda tener el conjunto 
\begin_inset Formula $\Sigma$
\end_inset

.
\end_layout

\begin_layout Standard
En el trabajo 
\begin_inset CommandInset citation
LatexCommand cite
key "Campercholi15"

\end_inset

 se presentan condiciones semánticas equivalentes a la existencia de una
 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmula 
\begin_inset Formula $\varphi\left(\bar{x}\right)$
\end_inset

 que define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

, donde 
\begin_inset Formula $\varphi$
\end_inset

 pertenece a un fragmento de primer orden especifico, como las fórmulas
 abiertas, las abiertas positivas, las existenciales, etc.
\end_layout

\begin_layout Standard
Por ejemplo, en el caso de la definibilidad por una fórmula abierta (i.e.,
 fórmulas sin cuantificadores) el trabajo establece que (cf.
 Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad abierta"

\end_inset

) dado 
\begin_inset Formula $\mathcal{L}$
\end_inset

 un lenguaje de primer orden, 
\begin_inset Formula $R\in\mathcal{L}$
\end_inset

 un símbolo de relación n-ario y 
\begin_inset Formula $\mathcal{\mathbf{A}}$
\end_inset

 una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-estructura finita, los siguientes son equivalentes:
\end_layout

\begin_layout Enumerate
Hay una fórmula abierta que define 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathbf{A}$
\end_inset

.
\end_layout

\begin_layout Enumerate
Todo isomorfismo 
\begin_inset Formula $\sigma:\mathbf{A}_{0}\rightarrow\mathbf{B}_{0}$
\end_inset

 con 
\begin_inset Formula $\mathbf{A}_{0}$
\end_inset

 y 
\begin_inset Formula $\mathbf{B}_{0}$
\end_inset

 
\begin_inset Formula $\mathcal{L}-\left\{ R\right\} $
\end_inset

-subestructuras de 
\begin_inset Formula $\mathbf{A}$
\end_inset

, preserva 
\begin_inset Formula $R$
\end_inset

 (i.e.
 si 
\begin_inset Formula $\left(\enumeracion[][a]\right)\in R$
\end_inset

, entonces 
\begin_inset Formula $\left(\sigma\left(a_{1}\right),\dots,\sigma\left(a_{n}\right)\right)\in R$
\end_inset

).
\end_layout

\begin_layout Standard
Al utilizar este resultado teórico, decidir definibilidad se convierte en
 un problema de búsqueda y chequeo de morfismos entre estructuras, potencialment
e más tratable en su costo computacional.
\end_layout

\begin_layout Subsection
Ejemplo
\end_layout

\begin_layout Standard
Consideremos en el reticulado 
\begin_inset Formula $\mathbf{2}\times\mathbf{2}$
\end_inset

 la relación unaria 
\begin_inset Formula $P=\left\{ 2,3\right\} $
\end_inset

 representada en el siguiente diagrama.
 ¿Es 
\begin_inset Formula $P$
\end_inset

 definible por una fórmula abierta en 
\begin_inset Formula $\mathbf{2}\times\mathbf{2}$
\end_inset

?
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{center}
\end_layout

\begin_layout Plain Layout


\backslash
begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=1.0cm,y=1.0cm]
 
\backslash
clip(-3.14,-0.61) rectangle (3.01,2.56); 
\backslash
draw (-1,1)-- (0,2); 
\backslash
draw (0,2)-- (1,1); 
\backslash
draw (1,1)-- (0,0); 
\backslash
draw (0,0)-- (-1,1); 
\backslash
draw [rotate around={0:(0,1)}] (0,1) ellipse (1.36cm and 0.39cm); 
\backslash
draw (-1.86,1.29) node[anchor=north west] {$P$}; 
\backslash
begin{scriptsize} 
\backslash
fill [color=black] (0,0) circle (1.5pt); 
\backslash
draw[color=black] (0.01,-0.17) node {0}; 
\backslash
fill [color=black] (1,1) circle (1.5pt); 
\backslash
draw[color=black] (1.15,1.02) node {3}; 
\backslash
fill [color=black] (-1,1) circle (1.5pt); 
\backslash
draw[color=black] (-1.15,1.01) node {2}; 
\backslash
fill [color=black] (0,2) circle (1.5pt); 
\backslash
draw[color=black] (0.01,2.14) node {1}; 
\backslash
end{scriptsize} 
\backslash
end{tikzpicture}
\end_layout

\begin_layout Plain Layout


\backslash
end{center}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Reticulado 
\begin_inset Formula $\mathbf{2}\times\mathbf{2}$
\end_inset

 con una relación unaria 
\begin_inset Formula $P$
\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Notar que entre el subreticulado con universo 
\begin_inset Formula $\{1\}$
\end_inset

 y el subreticulado con universo 
\begin_inset Formula $\{2\}$
\end_inset

 hay un isomorfismo 
\begin_inset Formula $\sigma$
\end_inset

 que no preserva 
\begin_inset Formula $R$
\end_inset

, ya que 
\begin_inset Formula $1\in R$
\end_inset

 pero 
\begin_inset Formula $\sigma\left(1\right)=2\notin R$
\end_inset

.
 A la luz del resultado mencionado anteriormente esto nos permite asegurar
 que no existe una fórmula abierta (del lenguaje de los reticulados) que
 defina la relación 
\begin_inset Formula $P$
\end_inset

 en 
\begin_inset Formula $\mathbf{2}\times\mathbf{2}$
\end_inset

.
\end_layout

\begin_layout Section
La solución desarrollada
\end_layout

\begin_layout Standard
En vista de lo expuesto anteriormente nuestro enfoque consiste en cambiar
 el costo computacional de construir las relaciones definibles sobre una
 clase de estructuras por el costo de computar una familia adecuada de morfismos
 y verificar que estos preservan la relación a definir.
 Sin dudas el mayor peso computacional de este enfoque está en encontrar
 la familia de morfismos.
 Por esta razón nuestra investigación se centró en estudiar el problema
 de cómo reducir el número de morfismos a construir.
 Los resultados obtenidos en esta dirección, como los Teoremas 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta"

\end_inset

 y 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta positiva"

\end_inset

, se basan en encontrar un subconjunto 
\emph on
generador
\emph default
 de la familia de morfismos a calcular.
\end_layout

\begin_layout Standard
Otra característica importante de los algoritmos desarrollados, en este
 caso en relación a su implementación, es que la construcción de morfismos
 se lleva a cabo como una instancia del 
\emph on
\lang english
Constraint Satisfaction Problem
\emph default
\lang spanish
 (CSP) (ver, e.g., 
\begin_inset CommandInset citation
LatexCommand citep
after "Capítulo 6"
key "russell2010artificial"

\end_inset

).
 Esto nos permite usufructuar la eficiencia alcanzada por los resolvedores
 de CSP, y hace muy promisoria la especialización del Problema 
\begin_inset CommandInset ref
LatexCommand ref
reference "prob:principal"

\end_inset

 a clases de estructuras en las cuales el CSP para cómputo de morfismos
 está bien condicionado como explicamos en la Sección 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Trabajo-futuro"

\end_inset

.
\end_layout

\begin_layout Section
Estructura del trabajo
\end_layout

\begin_layout Standard
El trabajo se encuentra organizado de la siguiente forma:
\end_layout

\begin_layout Standard
En el Capítulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Teoremas-de-definibilidad"

\end_inset

 se prueban algunos lemas fundamentales para luego probar los teoremas de
 definibilidad de relaciones por fórmulas de primer orden, abiertas, abiertas
 positivas, existenciales, existenciales positivas, conjunción de atómicas
 y fórmulas primitivas positivas.
\end_layout

\begin_layout Standard
En el Capítulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:algoritmos de chequeo"

\end_inset

, se encuentran los algoritmos para chequeo de definibilidad y los resultados
 teóricos que fundamentan sobre el subconjunto de morfismos que genera por
 composición a todo el conjunto de morfismos a chequear.
 Luego de los algoritmos mostramos cómo modelizar la búsqueda de homomorfismos
 mediante un CSP, y finalizamos el capítulo con la generación de subestructuras.
\end_layout

\begin_layout Standard
En el Capítulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Álgebras-de-Lindenbaum"

\end_inset

, presentamos los algoritmos para generar el álgebra de relaciones definibles
 de una estructura.
 Luego mostramos algunos ejemplos mediante el uso de nuestro paquete 
\emph on
Definability
\emph default
 sobre reticulados.
 Finalizamos el capítulo con un teorema que caracteriza las relaciones binarias
 definibles por existenciales positivas en los reticulados distributivos,
 inspirado en los ejemplos probados sobre el paquete.
\end_layout

\begin_layout Standard
En el Capítulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Documentación-de-Definability"

\end_inset

, presentamos nuestro paquete 
\emph on
Definability
\emph default
 para el software matemático SageMath, documentando su instalación y su
 uso.
\end_layout

\begin_layout Standard
En el Capítulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Conclusiones-y-trabajo"

\end_inset

, se exponen nuestras conclusiones y las posibles continuaciones a este
 trabajo.
\end_layout

\begin_layout Chapter
Teoremas de definibilidad
\begin_inset CommandInset label
LatexCommand label
name "chap:Teoremas-de-definibilidad"

\end_inset


\end_layout

\begin_layout Standard
En este capítulo presentamos resultados que caracterizan la definibilidad,
 en diferentes fragmentos de primer orden, de relaciones sobre familias
 de estructuras.
 Estas caracterizaciones reducen la pregunta de si una relación es definible
 a la pregunta de si dicha relación es preservada por una colección de morfismos
 que depende del fragmento de primer orden considerado.
 Por ejemplo, (cf.
 Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad abierta"

\end_inset

) dados 
\begin_inset Formula $\mathcal{L}$
\end_inset

 un lenguaje de primer orden, 
\begin_inset Formula $R\in\mathcal{L}$
\end_inset

 un símbolo de relación n-ario y 
\begin_inset Formula $\mathcal{\mathbf{A}}$
\end_inset

 una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-estructura, entonces hay una fórmula abierta que define 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathbf{A}$
\end_inset

, sii todo isomorfismo 
\begin_inset Formula $\sigma:\mathbf{A}_{0}\rightarrow\mathbf{B}_{0}$
\end_inset

 donde 
\begin_inset Formula $\mathbf{A}_{0}$
\end_inset

 y 
\begin_inset Formula $\mathbf{B}_{0}$
\end_inset

 son subestructuras en 
\begin_inset Formula $\mathcal{L}-\left\{ R\right\} $
\end_inset

 de 
\begin_inset Formula $\mathbf{A}$
\end_inset

, preserva 
\begin_inset Formula $R$
\end_inset

 (i.e.
 si 
\begin_inset Formula $\left(\enumeracion[][a]\right)\in R$
\end_inset

, entonces 
\begin_inset Formula $\left(\sigma\left(a_{1}\right),\dots,\sigma\left(a_{n}\right)\right)\in R$
\end_inset

).
\end_layout

\begin_layout Standard
Estos resultados, expuestos originalmente en 
\begin_inset CommandInset citation
LatexCommand citet
key "Campercholi15"

\end_inset

, constituyen el punto de partida para nuestro estudio del chequeo computacional
 de la definibilidad.
 
\end_layout

\begin_layout Section
Preliminares
\end_layout

\begin_layout Standard
Presentamos a continuación los resultados básicos de teoría de modelos que
 serán necesarios para demostrar los teoremas de definibilidad en la sección
 siguiente.
 Si bien la intención ha sido la de escribir un trabajo autocontenido, suponemos
 que el lector está familiarizado con los conceptos básicos de la lógica
 de primer orden y su teoría de modelos elemental.
 Textos clásicos de referencia en estos temas son por ejemplo 
\begin_inset CommandInset citation
LatexCommand cite
key "matematicallogic"

\end_inset

 y 
\begin_inset CommandInset citation
LatexCommand cite
key "Hodges199304"

\end_inset

.
\end_layout

\begin_layout Standard
Una fórmula es 
\emph on
abierta
\emph default
 si no tiene ocurrencias de 
\begin_inset Formula $\forall$
\end_inset

, 
\begin_inset Formula $\exists$
\end_inset

.
 Es 
\emph on
positiva
\emph default
 si no tiene ocurrencias de 
\begin_inset Formula $\neg$
\end_inset

, 
\begin_inset Formula $\rightarrow$
\end_inset

, 
\begin_inset Formula $\leftrightarrow$
\end_inset

.
 Una fórmula es 
\emph on
existencial
\emph default
 si es de la forma 
\begin_inset Formula $\exists\bar{x}\,\varphi\left(\bar{x},\bar{y}\right)$
\end_inset

, con 
\begin_inset Formula $\varphi\left(\bar{x},\bar{y}\right)$
\end_inset

 una fórmula abierta, mientras que es 
\emph on
existencial positiva
\emph default
 si 
\begin_inset Formula $\varphi\left(\bar{x},\bar{y}\right)$
\end_inset

 es abierta y positiva.
 Una fórmula es 
\emph on
conjunción de atómicas
\emph default
 si es de la forma 
\begin_inset Formula $\varphi_{1}\left(\bar{x}\right)\wedge\dots\wedge\varphi_{n}\left(\bar{x}\right)$
\end_inset

, donde cada 
\begin_inset Formula $\varphi_{i}$
\end_inset

 es una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmula atómica.
 Una fórmula es 
\emph on
primitiva positiva
\emph default
 si es de la forma 
\begin_inset Formula $\exists\bar{x}\,\varphi\left(\bar{x},\bar{y}\right)$
\end_inset

, con 
\begin_inset Formula $\varphi\left(\bar{x},\bar{y}\right)$
\end_inset

 conjunción de atómicas.
\end_layout

\begin_layout Standard
A continuación introducimos dos nociones centrales del presente trabajo:
 
\begin_inset Quotes fld
\end_inset

definibilidad
\begin_inset Quotes frd
\end_inset

 y 
\begin_inset Quotes fld
\end_inset

preservación
\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Definition
Sean 
\begin_inset Formula $\mathcal{L}$
\end_inset

 un lenguaje de primer orden y 
\begin_inset Formula $\mathcal{K}$
\end_inset

 una clase de 
\begin_inset Formula $\mathcal{L}$
\end_inset

-estructuras.
 Si 
\begin_inset Formula $R\in\mathcal{L}$
\end_inset

 es un símbolo de relación n-ario, diremos que la fórmula 
\begin_inset Formula $\deff[][\enumeracion]$
\end_inset

 
\emph on
define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset


\emph default
 si para todo 
\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

 y todo 
\begin_inset Formula $\enumeracion[][a]\in A$
\end_inset

 vale que
\begin_inset Formula 
\[
\left(\enumeracion[][a]\right)\in R^{\mathbf{A}}\iff\mathbf{A}\vDash\varphi\left(\enumeracion[][a]\right).
\]

\end_inset


\end_layout

\begin_layout --Separator--

\end_layout

\begin_layout Definition
Sean 
\begin_inset Formula $\mathcal{L}$
\end_inset

 un lenguaje de primer orden, 
\begin_inset Formula $R\in\mathcal{L}$
\end_inset

 un símbolo de relación n-ario y 
\begin_inset Formula $\mathbf{A}$
\end_inset

, 
\begin_inset Formula $\mathbf{B}$
\end_inset

 dos 
\begin_inset Formula $\mathcal{L}$
\end_inset

-estructuras.
 Diremos que una función 
\begin_inset Formula $\funcion[f]AB$
\end_inset

 
\emph on
preserva
\emph default
 a 
\begin_inset Formula $R$
\end_inset

 si para toda tupla 
\begin_inset Formula $\left(a_{1},\ldots,a_{n}\right)\in A$
\end_inset

 tenemos que si 
\begin_inset Formula $\left(a_{1},\ldots,a_{n}\right)\in R^{\mathbf{A}}$
\end_inset

 implica que 
\begin_inset Formula $(f(a_{1}),\ldots,f(a_{n}))\in R^{\mathbf{B}}$
\end_inset

.
 Es decir, 
\begin_inset Formula $f$
\end_inset

 es un homomorfismo de 
\begin_inset Formula $\left\langle A,R^{\mathbf{A}}\right\rangle $
\end_inset

 en 
\begin_inset Formula $\left\langle B,R^{\mathbf{B}}\right\rangle $
\end_inset

.
\end_layout

\begin_layout Standard
Dado un conjunto de fórmulas 
\begin_inset Formula $\Delta$
\end_inset

, escribiremos 
\begin_inset Formula $\Delta\left(\bar{x}\right)$
\end_inset

 para anunciar que cada una de las fórmulas en 
\begin_inset Formula $\Delta$
\end_inset

 tiene sus variables libres contenidas en la tupla 
\begin_inset Formula $\bar{x}$
\end_inset

.
 Si 
\begin_inset Formula $\mathbf{A}$
\end_inset

 es una estructura y 
\begin_inset Formula $\bar{a}$
\end_inset

 es una tupla de elementos de 
\begin_inset Formula $A$
\end_inset

, escribiremos 
\begin_inset Formula $\mathbf{A}\vDash\Delta\left[\bar{a}\right]$
\end_inset

 cuando 
\begin_inset Formula $\mathbf{A}\vDash\delta\left[\bar{a}\right]$
\end_inset

 para cada 
\begin_inset Formula $\delta\in\Delta(\bar{x})$
\end_inset

.
\end_layout

\begin_layout Standard
Dados 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden y 
\begin_inset Formula $\mathbf{A}$
\end_inset

 una 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructura, usaremos 
\begin_inset Formula $\mathbf{A}_{\mathcal{L}}$
\end_inset

 para indicar el reducto de 
\begin_inset Formula $\mathbf{A}$
\end_inset

 al lenguaje 
\begin_inset Formula $\mathcal{L}$
\end_inset

.
 Dada una clase de estructuras 
\begin_inset Formula $\mathcal{K}$
\end_inset

, usaremos 
\begin_inset Formula $\mathcal{K}_{\mathcal{L}}$
\end_inset

 para indicar la clase formada por cada 
\begin_inset Formula $\mathbf{A}_{\mathcal{L}}$
\end_inset

, con 
\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

.
 Si 
\begin_inset Formula $\mathbf{A},\mathbf{B}$
\end_inset

 son 
\begin_inset Formula $\mathcal{L}$
\end_inset

-estructuras, escribimos 
\begin_inset Formula $\mathbf{A}\leq\mathbf{B}$
\end_inset

 para expresar que 
\begin_inset Formula $\mathbf{A}$
\end_inset

 es subestructura de 
\begin_inset Formula $\mathbf{B}$
\end_inset

.
 Dada una estructura 
\begin_inset Formula $\mathbf{A}$
\end_inset

 y 
\begin_inset Formula $\bar{a}=\enumeracion[][a]\in A$
\end_inset

 utilizaremos 
\begin_inset Formula $\subuniv aA$
\end_inset

 para denotar la subestructura de 
\begin_inset Formula $\mathbf{A}$
\end_inset

 generada por 
\begin_inset Formula $\bar{a}$
\end_inset

.
\end_layout

\begin_layout --Separator--

\end_layout

\begin_layout Definition
\begin_inset CommandInset label
LatexCommand label
name "def:equiv-formulas"

\end_inset

Dos fórmulas 
\begin_inset Formula $\alpha\left(\bar{x}\right)$
\end_inset

 y 
\begin_inset Formula $\beta\left(\bar{x}\right)$
\end_inset

 se dicen 
\emph on
equivalentes
\emph default
 sobre una familia de estructuras 
\begin_inset Formula $\mathcal{K}$
\end_inset

 si para cada 
\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

 y cada 
\begin_inset Formula $\bar{a}$
\end_inset

 de 
\begin_inset Formula $A$
\end_inset

 vale que 
\begin_inset Formula 
\[
\mathbf{A}\vDash\alpha\left[\bar{a}\right]\Longleftrightarrow\mathbf{A}\vDash\beta\left[\bar{a}\right].
\]

\end_inset


\end_layout

\begin_layout Standard
El siguiente teorema será utilizado para demostrar todas las caracterizaciones
 de definibilidad; es la herramienta que nos permitirá transformar un diagrama
 infinitario (i.e el conjunto infinito de fórmulas que se satisfacen para
 una tupla de elementos, que se definirá formalmente más adelante) en una
 fórmula.
\end_layout

\begin_layout --Separator--

\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:cantidad de formulas es finita"

\end_inset

 Sea 
\begin_inset Formula $\mathcal{K}$
\end_inset

 un conjunto finito de estructuras finitas.
 Hay un conjunto finito de fórmulas 
\begin_inset Formula $\Sigma\left(x_{1},\dots,x_{n}\right)$
\end_inset

 tal que para toda fórmula 
\begin_inset Formula $\deff[\varphi][\overline{x}]$
\end_inset

 hay 
\begin_inset Formula $\sigma\left(\overline{x}\right)\in\Sigma\left(\overline{x}\right)$
\end_inset

 tal que 
\begin_inset Formula $\varphi(\bar{x})$
\end_inset

 y 
\begin_inset Formula $\sigma\left(\overline{x}\right)$
\end_inset

 son equivalentes sobre 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Proof
Supongamos 
\begin_inset Formula $\mathcal{K}=\left\{ \enumeracion[m][\mathbf{A}]\right\} $
\end_inset

.
 Para un fórmula 
\begin_inset Formula $\deff$
\end_inset

 sea 
\begin_inset Formula 
\[
[\deff]^{\mathcal{K}}=\left\{ \bar{a}\in A_{1}^{n}\mid\sat{\mathbf{A}_{1}}{\varphi}{\bar{a}}\right\} \times\cdots\times\left\{ \bar{a}\in A_{m}^{n}\mid\sat{\mathbf{A}_{m}}{\varphi}{\bar{a}}\right\} .
\]

\end_inset

Notar que 
\begin_inset Formula $\varphi(\bar{x})$
\end_inset

 es equivalente 
\begin_inset Formula $\psi(\bar{x})$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

 sii 
\begin_inset Formula $[\deff]^{\mathcal{K}}=[\psi(\bar{x})]^{\mathcal{K}}$
\end_inset

.
 Luego el número de clases de equivalencia es finito ya que está acotado
 por 
\begin_inset Formula $\left|\mathcal{P}(A_{1}^{n}\times\cdots\times A_{m}^{n})\right|.$
\end_inset


\end_layout

\begin_layout Standard
Recordamos que una función 
\begin_inset Formula $\gamma:A\rightarrow B$
\end_inset

 es un 
\emph on
embedding
\emph default
 de 
\begin_inset Formula $\mathbf{A}$
\end_inset

 en 
\begin_inset Formula $\mathbf{B}$
\end_inset

 si 
\begin_inset Formula $\gamma$
\end_inset

 es un isomorfismo de 
\begin_inset Formula $\mathbf{A}$
\end_inset

 en 
\begin_inset Formula $\mathbf{Im}(\gamma)$
\end_inset

.
\end_layout

\begin_layout Lemma
\begin_inset Argument 1
status open

\begin_layout Plain Layout
Los embeddings preservan fórmulas abiertas
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "thm:embeddings preservan abiertas"

\end_inset


\end_layout

\begin_layout Lemma
Sean 
\begin_inset Formula $\mathbf{A}$
\end_inset

,
\begin_inset Formula $\mathbf{B}$
\end_inset

 estructuras y 
\begin_inset Formula $\gamma:A\rightarrow B$
\end_inset

 una función.
 Son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $\gamma$
\end_inset

 es un embedding de 
\begin_inset Formula $\mathbf{A}$
\end_inset

 en 
\begin_inset Formula $\mathbf{B}$
\end_inset

.
\end_layout

\begin_layout Enumerate
Para toda fórmula abierta 
\begin_inset Formula $\deff$
\end_inset

 y para cada 
\begin_inset Formula $\bar{a}$
\end_inset

 de 
\begin_inset Formula $A$
\end_inset

 vale que
\begin_inset Formula 
\[
\sat{\mathbf{A}}{\varphi}{\bar{a}}\Leftrightarrow\sat{\mathbf{B}}{\varphi}{\gamma(\bar{a})}.
\]

\end_inset


\end_layout

\end_deeper
\begin_layout Proof
1
\begin_inset Formula $\Rightarrow$
\end_inset

2) Sea 
\begin_inset Formula $\gamma$
\end_inset

 un embedding de 
\series bold

\begin_inset Formula $\mathbf{A}$
\end_inset


\series default
 en 
\begin_inset Formula $\mathbf{B}$
\end_inset

, sea 
\begin_inset Formula $\varphi(x_{1},...,x_{n})$
\end_inset

 una fórmula abierta y 
\begin_inset Formula $\bar{a}\in A^{n}$
\end_inset

.
 Lo probaremos por inducción en las fórmulas.
 El caso base es directo ya que los homomorfismos preservan términos y relacione
s.
 Veamos los casos inductivos:
\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $\varphi(\bar{x})=\neg\varphi_{1}(\bar{x})$
\end_inset

: 
\begin_inset Formula 
\[
\mathbf{A}\vDash\neg\varphi_{1}[\bar{a}]\textnormal{ sii }\mathbf{A}\not\vDash\varphi_{1}[\bar{a}]\textnormal{ sii }\mathbf{B}\not\vDash\varphi_{1}[\gamma(\bar{a})]\textnormal{ sii }\mathbf{B}\vDash\neg\varphi_{1}[\gamma(\bar{a})].
\]

\end_inset


\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $\varphi(\bar{x})=(\varphi_{1}\eta\varphi_{2})(\bar{x})$
\end_inset

:
\end_layout

\begin_layout Proof
\begin_inset Formula 
\[
\mathbf{A}\vDash(\varphi_{1}\eta\varphi_{2})[\bar{a}]\textnormal{ sii }\mathbf{A}\vDash\varphi_{1}[\bar{a}]\,``\eta"\,\mathbf{A}\vDash\varphi_{2}[\bar{a}]
\]

\end_inset


\begin_inset Formula 
\[
\mathbf{\textnormal{ sii }A}\vDash\varphi_{1}[\gamma(\bar{a})]\,``\eta"\,\mathbf{B}\vDash\varphi_{2}[\gamma(\bar{a})]\textnormal{ sii }\mathbf{B}\vDash(\varphi_{1}\eta\varphi_{2})[\gamma(\bar{a})].
\]

\end_inset


\end_layout

\begin_layout Proof
2
\begin_inset Formula $\Rightarrow$
\end_inset

1) Supongamos que para toda fórmula abierta 
\begin_inset Formula $\varphi(\bar{x})$
\end_inset

 y cada 
\begin_inset Formula $\bar{a}\in A^{m}$
\end_inset

 vale que:
\begin_inset Formula 
\[
\mathbf{A}\vDash\varphi[\bar{a}]\Leftrightarrow\mathbf{B}\vDash\varphi[\gamma(\bar{a})].
\]

\end_inset

 Es de rutina ver que 
\begin_inset Formula $\gamma$
\end_inset

 es homomorfismo.
\end_layout

\begin_deeper
\begin_layout Itemize
Veamos que 
\begin_inset Formula $\gamma$
\end_inset

 es inyectiva:
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\gamma(a) & =\gamma(a')\\
\mbox{sii }\mathbf{B} & \vDash(x_{1}=x_{2})[\gamma(a),\gamma(a')]\\
\mbox{sii }\mathbf{A} & \vDash(x_{1}=x_{2})[a,a']\\
\mbox{sii }a & =a'.
\end{align*}

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Veamos que 
\begin_inset Formula $\gamma$
\end_inset

 es embedding:
\end_layout

\begin_deeper
\begin_layout Standard
Sea 
\begin_inset Formula $r\in\mathcal{R}_{n}$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
(\gamma(a_{1}),\dots,\gamma(a_{n})) & \in r^{\mathbf{B}}\\
\mbox{sii }\mathbf{B} & \vDash r(x_{1},\dots,x_{n})[\gamma(a_{1}),\dots,\gamma(a_{n})]\\
\mbox{sii }\mathbf{A} & \vDash r(x_{1},\dots,x_{n})[a_{1},\dots,a_{n}]\\
\mbox{sii }(a_{1},\dots,a_{n}) & \in r^{\mathbf{A}}.
\end{align*}

\end_inset


\end_layout

\end_deeper
\end_deeper
\begin_layout Standard
El siguiente lema muestra que las subestructuras preservan fórmulas abiertas.
\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "thm:abiertas valen en subestructuras y viceversa"

\end_inset

Si 
\begin_inset Formula $\mathbf{A}$
\end_inset

 es una subestructura de 
\begin_inset Formula $\mathbf{B}$
\end_inset

 y 
\begin_inset Formula $\deff$
\end_inset

 es una fórmula abierta, entonces para cada 
\begin_inset Formula $\bar{a}\in A^{n}$
\end_inset

 vale que
\begin_inset Formula 
\[
\sat{\mathbf{A}}{\varphi}{\bar{a}}\Leftrightarrow\sat{\mathbf{B}}{\varphi}{\bar{a}}.
\]

\end_inset


\end_layout

\begin_layout Proof
Notar que la inclusión 
\begin_inset Formula $\iota:A\rightarrow B$
\end_inset

, definida por 
\begin_inset Formula $\iota(a)=a$
\end_inset

, es un embedding de 
\begin_inset Formula $\mathbf{A}$
\end_inset

 en 
\begin_inset Formula $\mathbf{B}$
\end_inset

.
 Luego una aplicación directa del Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:embeddings preservan abiertas"

\end_inset

, produce el resultado deseado.
\end_layout

\begin_layout Standard
Definimos a continuación el diagrama abierto, que será utilizado en la construcc
ión de fórmulas abiertas que definen relaciones.
\end_layout

\begin_layout Definition
Sea 
\series bold

\begin_inset Formula $\mathbf{A}$
\end_inset


\series default
 una estructura y sean 
\begin_inset Formula $a_{1},\ldots,a_{n}\in A$
\end_inset

.
 Definimos el 
\emph on
diagrama abierto
\emph default
 para 
\begin_inset Formula $\enumeracion[n][a]$
\end_inset

 en 
\begin_inset Formula $\mathbf{A}$
\end_inset

 como: 
\begin_inset Formula 
\[
\Delta_{\mathbf{A},\bar{a}}\left(x_{1},\ldots,x_{n}\right):=\{\alpha(\bar{x})\mid\alpha\textnormal{ una }\mathcal{L}\textnormal{-fórmula abierta}\mbox{ y }\mathbf{A}\vDash\alpha\left[\bar{a}\right]\}.
\]

\end_inset


\end_layout

\begin_layout Standard
El siguiente lema establece una relación muy interesante entre elementos
 de dos estructuras al mostrar que si dos secuencias de elementos tienen
 las mismas propiedades abiertas (i.e., el mismo diagrama abierto) significa
 que generan subestructuras isomorfas.
\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "thm:diagrama sii isomorfismo"

\end_inset

Sea 
\begin_inset Formula $\mathbf{A}$
\end_inset

 una estructura y 
\begin_inset Formula $b_{1},\dots,b_{n}\in B$
\end_inset

, son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $\sat{\mathbf{B}}{\Delta_{\mathbf{A},\bar{a}}}{\bar{b}}$
\end_inset

,
\end_layout

\begin_layout Enumerate
Hay un isomorfismo 
\begin_inset Formula $\gamma$
\end_inset

 de 
\begin_inset Formula $\subuniv aA$
\end_inset

 en 
\begin_inset Formula $\subuniv bB$
\end_inset

 tal que 
\begin_inset Formula $\gamma(\bar{a})=\bar{b}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
\noindent
1
\begin_inset Formula $\Rightarrow$
\end_inset

2) Supongamos que 
\begin_inset Formula $\sat{\mathbf{B}}{\Delta_{\mathbf{A},\bar{a}}}{\bar{b}}$
\end_inset

.
 Es decir que si 
\begin_inset Formula $\alpha(\bar{x})$
\end_inset

 es una fórmula abierta y 
\begin_inset Formula $\sat{\mathbf{A}}{\alpha}{\bar{a}}$
\end_inset

, luego 
\begin_inset Formula $\sat{\mathbf{B}}{\text{\alpha}}{\bar{b}}$
\end_inset

.
 Notar que
\begin_inset Formula 
\begin{align*}
\gamma & :\subuniv aA\rightarrow\subuniv bA\\
\gamma & (t^{\mathbf{A}}[a_{1},\dots,a_{n}])=t^{\mathbf{B}}[\enumeracion[n][b]]
\end{align*}

\end_inset

es un función bien definida que cumple 
\begin_inset Formula $\gamma(\bar{a})=\bar{b}$
\end_inset

.
 Además, por hipótesis preserva fórmulas abiertas.
 Así, por el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:embeddings preservan abiertas"

\end_inset

, sabemos que 
\begin_inset Formula $\gamma$
\end_inset

 es un embedding.
 Por último, es evidente de la definición que 
\begin_inset Formula $\gamma$
\end_inset

 es sobreyectiva.
\end_layout

\begin_layout Proof
\noindent
2
\begin_inset Formula $\Rightarrow$
\end_inset

1) Consecuencia directa del Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:embeddings preservan abiertas"

\end_inset

.
\end_layout

\begin_layout Standard
En el lema siguiente se determina que los homomorfismos preservan fórmulas
 atómicas, y también fórmulas abiertas positivas.
\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "thm:homomorfismos preservan atomicas y abiertas positivas"

\end_inset

Sean 
\begin_inset Formula $\mathbf{A},\mathbf{B}$
\end_inset

 estructuras y 
\begin_inset Formula $h:A\rightarrow B$
\end_inset

 una función, son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $h$
\end_inset

 es un homomorfismo de 
\begin_inset Formula $\mathbf{A}$
\end_inset

 en 
\begin_inset Formula $\mathbf{B}$
\end_inset

.
\end_layout

\begin_layout Enumerate
Para toda fórmula atómica 
\begin_inset Formula $\varphi\left(\bar{x}\right)$
\end_inset

 y para cada 
\begin_inset Formula $\bar{a}$
\end_inset

 de 
\begin_inset Formula $A$
\end_inset

 vale que 
\begin_inset Formula 
\[
\mathbf{A}\vDash\varphi\left[\bar{a}\right]\Longrightarrow\mathbf{B}\vDash\varphi\left[h\left(\bar{a}\right)\right].
\]

\end_inset


\end_layout

\begin_layout Enumerate
Para toda fórmula abierta positiva 
\begin_inset Formula $\varphi\left(\bar{x}\right)$
\end_inset

 y para cada 
\begin_inset Formula $\bar{a}$
\end_inset

 de 
\begin_inset Formula $A$
\end_inset

 vale que 
\begin_inset Formula 
\[
\mathbf{A}\vDash\varphi\left[\bar{a}\right]\Longrightarrow\mathbf{B}\vDash\varphi\left[h\left(\bar{a}\right)\right].
\]

\end_inset


\end_layout

\end_deeper
\begin_layout Proof
Rutina.
\end_layout

\begin_layout Standard
Ahora definimos el diagrama atómico positivo.
 Éste se utilizará para la construcción de fórmulas positivas (i.e.
 fórmulas sin ocurrencias de 
\begin_inset Formula $\neg$
\end_inset

, 
\begin_inset Formula $\rightarrow$
\end_inset

, 
\begin_inset Formula $\leftrightarrow$
\end_inset

).
\end_layout

\begin_layout Definition
Sea 
\series bold

\begin_inset Formula $\mathbf{A}$
\end_inset


\series default
 una estructura y sean 
\begin_inset Formula $a_{1},\ldots,a_{n}\in A$
\end_inset

.
 Definimos el diagrama atómico positivo de 
\begin_inset Formula $\bar{a}$
\end_inset

 en 
\begin_inset Formula $\mathbf{A}$
\end_inset

 como 
\begin_inset Formula 
\[
\Delta_{\mathbf{A},\bar{a}}^{+}\left(x_{1},\ldots,x_{n}\right):=\{\alpha\mid\alpha\textnormal{ }\mathcal{L}\textnormal{-fórmula atómica y }\mathbf{A}\vDash\alpha\left[\bar{a}\right]\}.
\]

\end_inset


\end_layout

\begin_layout Standard
De manera análoga al Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:diagrama sii isomorfismo"

\end_inset

, si dos secuencias de elementos en dos estructuras satisfacen las mismas
 propiedades atómicas positivas, hay un homomorfismo entre las subestructuras
 generadas.
\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:diagrama atomico positivo sii homomorfismo"

\end_inset

Sean 
\series bold

\begin_inset Formula $\mathbf{B}$
\end_inset


\series default
 una estructura y 
\begin_inset Formula $b_{1},\ldots,b_{n}\in B$
\end_inset

, son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $\mathbf{B}\vDash\Delta_{\mathbf{A},\bar{a}}^{+}\left[\bar{b}\right]$
\end_inset

.
\end_layout

\begin_layout Enumerate
Hay un homomorfismo 
\begin_inset Formula $h$
\end_inset

 de 
\begin_inset Formula $\left\langle \bar{a}\right\rangle ^{\mathbf{A}}$
\end_inset

 en 
\begin_inset Formula $\left\langle \bar{b}\right\rangle ^{\mathbf{B}}$
\end_inset

 tal que 
\begin_inset Formula $h\left(\bar{a}\right)=\bar{b}$
\end_inset

.
 
\end_layout

\end_deeper
\begin_layout Proof
Esta prueba es muy similar a la del Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:diagrama sii isomorfismo"

\end_inset

.
\end_layout

\begin_layout Section
Definibilidad por fórmulas abiertas
\begin_inset CommandInset label
LatexCommand label
name "sec:Definibilidad-abierta"

\end_inset


\end_layout

\begin_layout Standard
Presentamos a continuación el primero de los teoremas de definibilidad,
 en este caso por fórmulas abiertas.
 Antes necesitaremos el siguiente resultado.
\end_layout

\begin_layout --Separator--

\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "thm:formula para el diagrama"

\end_inset

Sean 
\begin_inset Formula $\mathbf{A},\mathbf{B}$
\end_inset

 estructuras finita y 
\begin_inset Formula $\enumeracion[][a]\in A$
\end_inset

.
 Existe una fórmula abierta 
\begin_inset Formula $\deff$
\end_inset

 tal que para todo 
\begin_inset Formula $\bar{b}\in B^{n}$
\end_inset

 son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset

.
\end_layout

\begin_layout Enumerate
Hay un isomorfismo 
\begin_inset Formula $\gamma$
\end_inset

 de 
\begin_inset Formula $\subuniv aA$
\end_inset

 en 
\begin_inset Formula $\subuniv bB$
\end_inset

 tal que 
\begin_inset Formula $\gamma(\bar{a})=\bar{b}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
Por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:cantidad de formulas es finita"

\end_inset

 hay una fórmula 
\begin_inset Formula $\varphi(\bar{x})$
\end_inset

 equivalente sobre 
\begin_inset Formula $\{\mathbf{A},\mathbf{B}\}$
\end_inset

 al diagrama abierto 
\begin_inset Formula $\Delta_{\mathbf{A},\bar{a}}(\bar{x})$
\end_inset

.
 Luego por el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:diagrama sii isomorfismo"

\end_inset

 es inmediata la equivalencia del enunciado.
\end_layout

\begin_layout Standard
Estamos listos para demostrar el primer resultado de definibilidad.
\end_layout

\begin_layout Theorem
\begin_inset Argument 1
status open

\begin_layout Plain Layout
cf.
 
\begin_inset CommandInset citation
LatexCommand cite
after "Thm. 1"
key "Campercholi15"

\end_inset


\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "thm:definibilidad abierta"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden, sea 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 un símbolo de relación n-ario.
 Para una clase finita 
\begin_inset Formula $\mathcal{K}$
\end_inset

 de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras finitas, los siguientes son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
Hay una fórmula abierta que define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Enumerate
Para todas 
\begin_inset Formula $\mathbf{A},\mathbf{B}\in\mathcal{K}$
\end_inset

, todas 
\begin_inset Formula $\mathbf{A}_{0}\leq\mathbf{A}_{\mathcal{L}}$
\end_inset

, 
\begin_inset Formula $\mathbf{B}_{0}\leq\mathbf{B}_{\mathcal{L}}$
\end_inset

, se tiene que todo isomorfismo 
\begin_inset Formula $\sigma:\mathbf{A}_{0}\rightarrow\mathbf{B}_{0}$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
1
\begin_inset Formula $\Rightarrow$
\end_inset

2) Sea 
\begin_inset Formula $\varphi\left(\bar{x}\right)$
\end_inset

 la fórmula que define 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
 Sean 
\begin_inset Formula $\mathbf{A,B}\in\mathcal{K}$
\end_inset

, sean 
\begin_inset Formula $\mathbf{A}_{0}\leq\mathbf{A_{\mathcal{L}}}$
\end_inset

, 
\begin_inset Formula $\mathbf{B}_{0}\leq\mathbf{B_{\mathcal{L}}}$
\end_inset

 y 
\begin_inset Formula $\funcion[\sigma]{\mathbf{A}_{0}}{\mathbf{B}_{0}}$
\end_inset

 un isomorfismo.
 Fijamos 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}_{0}}$
\end_inset

; veremos que 
\begin_inset Formula $\sigma\left(\bar{a}\right)\in R^{\mathbf{B}_{0}}$
\end_inset

.
 Como 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}_{0}}\Rightarrow\bar{a}\in R^{\mathbf{A}}\Leftrightarrow\sat{\mathbf{A}}{\varphi}{\bar{a}}$
\end_inset

, por Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:abiertas valen en subestructuras y viceversa"

\end_inset

, 
\begin_inset Formula $\sat{\mathbf{A}_{0}}{\varphi}{\bar{a}}$
\end_inset

.
 Además como 
\begin_inset Formula $\mathbf{A}_{0}$
\end_inset

 y 
\begin_inset Formula $\mathbf{B}_{0}$
\end_inset

 son isomorfos por 
\begin_inset Formula $\sigma$
\end_inset

, 
\begin_inset Formula $\sat{\mathbf{B}_{0}}{\varphi}{\sigma\left(\bar{a}\right)}$
\end_inset

.
 Nuevamente por Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:abiertas valen en subestructuras y viceversa"

\end_inset

, 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\sigma\left(\bar{a}\right)}$
\end_inset

, y ya que por hipótesis 
\begin_inset Formula $\varphi$
\end_inset

 define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

, tenemos que 
\begin_inset Formula $\sigma\left(\bar{a}\right)\in R^{\mathbf{B}}$
\end_inset

.
\end_layout

\begin_layout Proof
2
\begin_inset Formula $\Rightarrow$
\end_inset

1) Por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:cantidad de formulas es finita"

\end_inset

, para cada 
\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

 y cada 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}}$
\end_inset

 hay una fórmula 
\begin_inset Formula $\delta_{\mathbf{A},\bar{a}}(\bar{x})$
\end_inset

 equivalente sobre 
\begin_inset Formula $\mathcal{K}$
\end_inset

 al diagrama abierto 
\begin_inset Formula $\Delta_{\mathbf{A},\bar{a}}(\bar{x}).$
\end_inset

 Definimos 
\begin_inset Formula 
\[
\varphi(\bar{x})=\bigvee_{\mathbf{A}\in\mathcal{K}}\bigvee_{\bar{a}\in R^{\mathbf{A}}}\delta_{\mathbf{A},\bar{a}}(\bar{x}),
\]

\end_inset

Probamos ahora que 
\begin_inset Formula $\varphi(\bar{x})$
\end_inset

 define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
 Fijamos 
\begin_inset Formula $\mathbf{B}\in\mathcal{K}$
\end_inset

 y 
\begin_inset Formula $\bar{b}\in B^{n}$
\end_inset

.
 Supongamos primero que 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset

.
 Entonces hay 
\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

 y 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}}$
\end_inset

 tales que 
\begin_inset Formula 
\[
\sat{\mathbf{B}}{\delta_{\mathbf{A},\bar{a}}}{\bar{b}}.
\]

\end_inset

Por Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:formula para el diagrama"

\end_inset

, hay un isomorfismo 
\begin_inset Formula $\funcion[\gamma]{\subuniv aA}{\subuniv bB}$
\end_inset

 tal que 
\begin_inset Formula $\gamma\left(\bar{a}\right)=\bar{b}$
\end_inset

.
 Ya que por hipótesis 
\begin_inset Formula $\gamma$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

 y 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}}$
\end_inset

, se sigue que 
\begin_inset Formula $\bar{b}=\gamma\left(\bar{a}\right)\in R^{\mathbf{B}}$
\end_inset

.
 Para probar la implicación restante, supongamos que 
\begin_inset Formula $\bar{b}\in R^{\mathbf{B}}$
\end_inset

.
 Como 
\begin_inset Formula $\sat{\mathbf{B}}{\delta_{\mathbf{B},\bar{b}}}{\bar{b}}$
\end_inset

 es evidente que 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset

.
\end_layout

\begin_layout Section
Definibilidad por fórmulas abiertas positivas
\begin_inset CommandInset label
LatexCommand label
name "sec:Definibilidad-positiva"

\end_inset


\end_layout

\begin_layout Standard
En esta sección, probamos la caracterización semántica para la definibilidad
 abierta positiva.
 Al igual que en el caso abierto necesitaremos construir fórmulas equivalentes
 a diagramas.
\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "thm:formula para diagrama abierto positivo"

\end_inset

Sean 
\begin_inset Formula $\mathbf{A,B}$
\end_inset

 estructuras finitas y 
\begin_inset Formula $\enumeracion[][a]\in A$
\end_inset

, entonces existe una fórmula abierta positiva 
\begin_inset Formula $\deff$
\end_inset

 tal que para todo 
\begin_inset Formula $\bar{b}\in B^{n}$
\end_inset

 son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset

.
\end_layout

\begin_layout Enumerate
Hay un homomorfismo 
\begin_inset Formula $h$
\end_inset

 de 
\begin_inset Formula $\subuniv aA$
\end_inset

 en 
\begin_inset Formula $\subuniv bB$
\end_inset

 tal que 
\begin_inset Formula $h(\bar{a})=\bar{b}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
Muy similar a la del Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:formula para el diagrama"

\end_inset

.
\end_layout

\begin_layout Theorem
\begin_inset Argument 1
status open

\begin_layout Plain Layout
cf.
 
\begin_inset CommandInset citation
LatexCommand cite
after "Thm. 1"
key "Campercholi15"

\end_inset


\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "thm:definibilidad abierta positiva"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden, sea 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 un símbolo de relación n-ario.
 Para una clase finita 
\begin_inset Formula $\mathcal{K}$
\end_inset

 de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras finitas, los siguientes son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
Hay una fórmula abierta positiva que define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Enumerate
Para todas 
\begin_inset Formula $\mathbf{A},\mathbf{B}\in\mathcal{K}$
\end_inset

, todas 
\begin_inset Formula $\mathbf{A}_{0}\leq\mathbf{A}_{\mathcal{L}}$
\end_inset

,
\begin_inset Formula $\mathbf{B}_{0}\leq\mathbf{B}_{\mathcal{L}}$
\end_inset

, se tiene que todo homomorfismo 
\begin_inset Formula $h:\mathbf{A}_{0}\rightarrow\mathbf{B}_{0}$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
Análoga a la prueba del Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad abierta"

\end_inset

, solo que usando el diagrama atómico positivo, y los Lemas 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:homomorfismos preservan atomicas y abiertas positivas"

\end_inset

 y 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:formula para diagrama abierto positivo"

\end_inset

.
\end_layout

\begin_layout Section
Definibilidad por fórmulas existenciales
\end_layout

\begin_layout Standard
El siguiente resultado se construye sobre la idea de los Lemas 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:diagrama sii isomorfismo"

\end_inset

 y 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:formula para el diagrama"

\end_inset

 incorporando cuantificadores existenciales.
\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "thm:formula para diagrama existencial"

\end_inset

Sea 
\begin_inset Formula $\mathbf{A}$
\end_inset

 una estructura finita y 
\begin_inset Formula $\enumeracion[][a]\in A$
\end_inset

.
 Entonces hay una fórmula existencial 
\begin_inset Formula $\deff[\varphi][\enumeracion]$
\end_inset

 tal que para toda estructura 
\begin_inset Formula $\mathbf{B}$
\end_inset

 y para todo 
\begin_inset Formula $\bar{b}\in B^{n}$
\end_inset

 los siguientes son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset

.
\end_layout

\begin_layout Enumerate
Hay un embedding 
\begin_inset Formula $\funcion[\gamma]{\mathbf{A}}{\mathbf{B}}$
\end_inset

 tal que 
\begin_inset Formula $\gamma\left(\bar{a}\right)=\bar{b}$
\end_inset


\end_layout

\end_deeper
\begin_layout Proof
Sean 
\begin_inset Formula $\enumeracion[m][a']$
\end_inset

 tales que 
\begin_inset Formula $\left\langle \enumeracion[n][a],\enumeracion[m][a']\right\rangle ^{\mathbf{A}}=\mathbf{A}$
\end_inset

.
 Por el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:formula para el diagrama"

\end_inset

 hay una fórmula 
\begin_inset Formula $\alpha\left(\bar{x},\bar{y}\right)$
\end_inset

 tal que 
\begin_inset Formula $\sat{\mathbf{B}}{\alpha}{\bar{b},\bar{b'}}$
\end_inset

 si y solo si hay un isomorfismo 
\begin_inset Formula $\funcion[\gamma]{\left\langle \bar{a},\bar{a'}\right\rangle ^{\mathbf{A}}}{\left\langle \bar{b},\bar{b'}\right\rangle ^{\mathbf{B}}}$
\end_inset

 tal que 
\begin_inset Formula $\gamma\left(\bar{a}\right)=\bar{b}$
\end_inset

 y 
\begin_inset Formula $\gamma\left(\bar{a'}\right)=\bar{b'}$
\end_inset

.
 Ahora definimos 
\begin_inset Formula 
\[
\varphi\left(\bar{x}\right)=\exists\enumeracion[m][y]\alpha\left(\bar{x},\bar{y}\right);
\]

\end_inset

por lo que es claro que 
\begin_inset Formula $\varphi$
\end_inset

 es la fórmula buscada.
\end_layout

\begin_layout Theorem
\begin_inset Argument 1
status open

\begin_layout Plain Layout
cf.
 
\begin_inset CommandInset citation
LatexCommand cite
after "Thm. 22"
key "Campercholi15"

\end_inset


\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "thm:definibiliad existencial"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden, sea 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 un símbolo de relación n-ario.
 Para una clase finita 
\begin_inset Formula $\mathcal{K}$
\end_inset

 de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras finitas, los siguientes son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
Hay una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmula existencial que define 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Enumerate
Para todas 
\begin_inset Formula $\mathbf{A},\mathbf{B}\in\mathcal{K}$
\end_inset

, se tiene que todo embedding 
\begin_inset Formula $\gamma:\mathbf{A}_{\mathcal{L}}\rightarrow\mathbf{B}_{\mathcal{L}}$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
1
\begin_inset Formula $\Rightarrow$
\end_inset

2) Sea 
\begin_inset Formula $\varphi\left(\bar{x}\right)$
\end_inset

 existencial que define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

, y sea 
\begin_inset Formula $\funcion[\gamma]{\mathbf{A}}{\mathbf{B}}$
\end_inset

 un embedding.
 Entonces 
\begin_inset Formula $\funcion[\gamma]{\mathbf{A}}{\mathbf{S}\leq\mathbf{B}}$
\end_inset

 es un isomorfismo.
 Supongamos 
\begin_inset Formula $\sat{\mathbf{A}}{\varphi}{\bar{a}}$
\end_inset

 entonces 
\begin_inset Formula $\sat{\mathbf{S}}{\varphi}{\gamma\left(\bar{a}\right)}$
\end_inset

.
 Como 
\begin_inset Formula $\varphi$
\end_inset

 es de la forma 
\begin_inset Formula $\varphi=\exists\bar{y}\,\psi\left(\bar{x},\bar{y}\right)$
\end_inset

 con 
\begin_inset Formula $\psi$
\end_inset

 abierta, existe un 
\begin_inset Formula $\bar{s}$
\end_inset

 tal que 
\begin_inset Formula $\sat{\mathbf{S}}{\psi}{\gamma\left(\bar{a}\right),\bar{s}}$
\end_inset

.
 Como 
\begin_inset Formula $\psi$
\end_inset

 es abierta y 
\begin_inset Formula $\mathbf{S}\leq\mathbf{B}$
\end_inset

, por el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:abiertas valen en subestructuras y viceversa"

\end_inset

 
\begin_inset Formula $\sat{\mathbf{B}}{\psi}{\gamma\left(\bar{a}\right),\bar{s}}$
\end_inset

.
 Entonces 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\gamma\left(\bar{a}\right)}$
\end_inset

 y como 
\begin_inset Formula $\varphi$
\end_inset

 define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

, entonces 
\begin_inset Formula $\gamma\left(\bar{a}\right)\in R^{\mathbf{B}}$
\end_inset

.
\end_layout

\begin_layout Proof
2
\begin_inset Formula $\Rightarrow$
\end_inset

1) Para cada 
\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

 y cada 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}}$
\end_inset

 tomamos 
\begin_inset Formula $\bar{a'}$
\end_inset

 tal que 
\begin_inset Formula $\left\langle \bar{a},\bar{a'}\right\rangle ^{\mathbf{A}}=\mathbf{A}$
\end_inset

.
 Por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:cantidad de formulas es finita"

\end_inset

, hay una fórmula 
\begin_inset Formula $\delta_{\mathbf{A},(\bar{a},\bar{a'})}(\bar{x})$
\end_inset

 equivalente sobre 
\begin_inset Formula $\mathcal{K}$
\end_inset

 al diagrama abierto 
\begin_inset Formula $\Delta_{\mathbf{A},(\bar{a},\bar{a'})}(\bar{x}).$
\end_inset

 Ahora tomamos 
\begin_inset Formula 
\[
\varphi\left(\bar{x}\right)=\bigvee_{\mathbf{A}\in\mathcal{K}}\left(\bigvee_{\bar{a}\in R^{\mathbf{A}}}\left(\exists\bar{y}\,\delta_{\mathbf{A},(\bar{a},\bar{a'})}\left(\bar{x},\bar{y}\right)\right)\right)
\]

\end_inset


\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $\left(\enumeracion[][b]\right)\in R^{\mathbf{B}}$
\end_inset

.
 Entonces como 
\begin_inset Formula 
\[
\varphi=\dots\vee\exists\bar{y}\,\delta_{\mathbf{B},(\bar{b},\bar{b'})}\left(\bar{x},\bar{y}\right)\vee\dots,
\]

\end_inset

y como 
\begin_inset Formula 
\[
\sat{\mathbf{B}}{\exists\bar{y}\,\delta_{\mathbf{B},(\bar{b},\bar{b'})}\left(\bar{x},\bar{y}\right)}{\bar{b},\bar{b'}},
\]

\end_inset

luego 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset

.
\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\enumeracion[][b]}$
\end_inset

.
 Entonces para algún 
\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

, y algún 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}}$
\end_inset

 tales que 
\begin_inset Formula $\sat{\mathbf{B}}{\exists\bar{y}\,\delta_{\mathbf{A},(\bar{a},\bar{a'})}\left(\bar{x},\bar{y}\right)}{\bar{b}}$
\end_inset

.
 Entonces por el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:formula para diagrama existencial"

\end_inset

 hay 
\begin_inset Formula $\funcion[\gamma]{\mathbf{A}}{\mathbf{B}}$
\end_inset

 embedding tal que 
\begin_inset Formula $\gamma\left(\bar{a}\right)=\bar{b}$
\end_inset

.
 Finalmente como 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}}$
\end_inset

, 
\begin_inset Formula $\bar{b}=\gamma\left(\bar{a}\right)\in R^{\mathbf{B}}$
\end_inset

.
\end_layout

\begin_layout Proof
Finalmente, notar que como 
\begin_inset Formula $\varphi$
\end_inset

 es disyunción de existenciales, por teorema puede ser convertida en una
 fórmula existencial.
\end_layout

\begin_layout Section
Definibilidad por fórmulas existenciales positivas
\end_layout

\begin_layout Standard
Análogamente al Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:formula para diagrama existencial"

\end_inset

, el siguiente resultado se basa en los resultados de los Lemas 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:diagrama atomico positivo sii homomorfismo"

\end_inset

 y 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:formula para diagrama abierto positivo"

\end_inset

.
\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "thm:formula para diagrama existencial positivo"

\end_inset

Sea 
\begin_inset Formula $\mathbf{A}$
\end_inset

 una estructura finita y 
\begin_inset Formula $\enumeracion[][a]\in A$
\end_inset

.
 Entonces hay una fórmula existencial positiva 
\begin_inset Formula $\deff[\varphi][\enumeracion]$
\end_inset

 tal que para toda estructura 
\begin_inset Formula $\mathbf{B}$
\end_inset

 y para todo 
\begin_inset Formula $\bar{b}\in B^{n}$
\end_inset

 los siguientes son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset

.
\end_layout

\begin_layout Enumerate
Hay un homomorfismo 
\begin_inset Formula $\funcion[h]{\mathbf{A}}{\mathbf{B}}$
\end_inset

 tal que 
\begin_inset Formula $h\left(\bar{a}\right)=\bar{b}$
\end_inset


\end_layout

\end_deeper
\begin_layout Proof
Sean 
\begin_inset Formula $\enumeracion[m][a']$
\end_inset

 tales que 
\begin_inset Formula $\left\langle \enumeracion[n][a],\enumeracion[m][a']\right\rangle ^{\mathbf{A}}=\mathbf{A}$
\end_inset

.
 Por el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:formula para diagrama abierto positivo"

\end_inset

 hay una fórmula 
\begin_inset Formula $\alpha\left(\bar{x},\bar{y}\right)$
\end_inset

 tal que 
\begin_inset Formula $\sat{\mathbf{B}}{\alpha}{\bar{b},\bar{b'}}$
\end_inset

 si y solo si hay un homomorfismo 
\begin_inset Formula $\funcion[\gamma]{\left\langle \bar{a},\bar{a'}\right\rangle ^{\mathbf{A}}}{\left\langle \bar{b},\bar{b'}\right\rangle ^{\mathbf{B}}}$
\end_inset

 tal que 
\begin_inset Formula $\gamma\left(\bar{a}\right)=\bar{b}$
\end_inset

 y 
\begin_inset Formula $\gamma\left(\bar{a'}\right)=\bar{b'}$
\end_inset

.
 Ahora definimos 
\begin_inset Formula 
\[
\varphi\left(\bar{x}\right)=\exists\enumeracion[m][y]\alpha\left(\bar{x},\bar{y}\right);
\]

\end_inset

por lo que es claro que 
\begin_inset Formula $\varphi$
\end_inset

 es la fórmula buscada.
\end_layout

\begin_layout Theorem
\begin_inset Argument 1
status open

\begin_layout Plain Layout
cf.
 
\begin_inset CommandInset citation
LatexCommand cite
after "Thm. 22"
key "Campercholi15"

\end_inset


\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "thm:definibilidad existencial positiva"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden, sea 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 un símbolo de relación n-ario.
 Para una clase finita 
\begin_inset Formula $\mathcal{K}$
\end_inset

 de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras finitas, los siguientes son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
Hay una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmula existencial positiva que define 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Enumerate
Para todas 
\begin_inset Formula $\mathbf{A},\mathbf{B}\in\mathcal{K}$
\end_inset

, se tiene que todo homomorfismo 
\begin_inset Formula $\gamma:\mathbf{A}_{\mathcal{L}}\rightarrow\mathbf{B}_{\mathcal{L}}$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
Igual a la prueba del Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibiliad existencial"

\end_inset

, pero utilizando las fórmulas dadas por el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:formula para diagrama existencial positivo"

\end_inset

.
\end_layout

\begin_layout Section
Definibilidad por conjunción de atómicas y primitivas positivas
\begin_inset Argument 1
status open

\begin_layout Plain Layout
Conjunción de atómicas y primitivas positivas
\end_layout

\end_inset


\end_layout

\begin_layout Standard
En estos tipos de definibilidad se determina una relación con el producto
 de estructuras en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
 Lo primero es definir nuevamente el concepto de preservación pero esta
 vez para un morfismo que parte de un producto de estructuras.
 
\end_layout

\begin_layout Definition
Sean 
\begin_inset Formula $\enumeracion[m][A],B$
\end_inset

 conjuntos, 
\begin_inset Formula $R^{A_{i}}\subseteq A_{i}^{n}$
\end_inset

 para cada 
\begin_inset Formula $i\in[1,m]$
\end_inset

, 
\begin_inset Formula $R^{B}\subseteq B^{n}$
\end_inset

 y 
\begin_inset Formula $h:D\subseteq A_{1}\times\cdots\times A_{m}\rightarrow B$
\end_inset

 una función.
 Diremos que 
\begin_inset Formula $h$
\end_inset

 
\emph on
preserva
\emph default
 
\begin_inset Formula $R$
\end_inset

 si dados 
\begin_inset Formula 
\[
\bar{a}_{1}=\left(a_{11},\ldots,a_{1m}\right),\ldots,\bar{a}_{n}=\left(a_{n1},\ldots,a_{nm}\right)\in D
\]

\end_inset

tales que 
\begin_inset Formula 
\[
\left(a_{1i},\ldots,a_{ni}\right)\in R^{A_{i}}\text{ para cada }i\in\left\{ 1,\dots,m\right\} 
\]

\end_inset

se tiene que 
\begin_inset Formula $\left(h\left(\bar{a}_{1}\right),\ldots,h\left(\bar{a}_{n}\right)\right)\in R^{B}$
\end_inset

.
\end_layout

\begin_layout Standard
El siguiente lema determina que el producto entre estructuras preserva las
 fórmulas atómicas.
\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "thm:preservacion existencial conj atomicas producto"

\end_inset

Sean 
\begin_inset Formula $\enumeracion[m][\mathbf{A}]$
\end_inset

 estructuras y 
\begin_inset Formula $\varphi\left(\bar{x}\right)=\exists\bar{y}\,\psi\left(\bar{x},\bar{y}\right)$
\end_inset

 con 
\begin_inset Formula $\psi$
\end_inset

 una conjunción de fórmulas atómicas.
 Entonces son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
Para todo 
\begin_inset Formula $i=1,\dots,m$
\end_inset

 se da que 
\begin_inset Formula $\sat{\mathbf{A}_{i}}{\varphi}{\enumeracion[ni][a][1i]}$
\end_inset


\end_layout

\begin_layout Enumerate
\begin_inset Formula $\sat{\mathbf{A}_{1}\times\cdots\times\mathbf{A}_{m}}{\varphi}{\enumeracion[][\bar{a}]}$
\end_inset

, con 
\begin_inset Formula $\bar{a}_{j}=\left(a_{j1},\dots,a_{jm}\right)$
\end_inset


\end_layout

\end_deeper
\begin_layout Proof
Rutina.
\end_layout

\begin_layout Theorem
\begin_inset Argument 1
status open

\begin_layout Plain Layout
cf.
 
\begin_inset CommandInset citation
LatexCommand cite
after "Thm. 11"
key "Campercholi15"

\end_inset


\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "thm:definibilidad conjuncion de atomicas"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden, sea 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 un símbolo de relación n-ario.
 Para una clase finita 
\begin_inset Formula $\mathcal{K}$
\end_inset

 de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras finitas, los siguientes son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
Para cada 
\begin_inset Formula $m\geq1$
\end_inset

, para todas 
\begin_inset Formula $\enumeracion[m][\mathbf{A}],\mathbf{B}\in\mathcal{K}$
\end_inset

, para cada 
\begin_inset Formula 
\[
\mathbf{S}\leq\left(\mathbf{A}_{1}\times\cdots\times\mathbf{A}_{m}\right)_{\mathcal{L}},
\]

\end_inset

se tiene que todo homomorfismo 
\begin_inset Formula $h:\mathbf{S}\rightarrow\mathbf{B}_{\mathcal{L}}$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

.
\end_layout

\begin_layout Enumerate
Hay una conjunción finita de 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmulas atómicas que define 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
2
\begin_inset Formula $\Rightarrow$
\end_inset

1) Sea 
\begin_inset Formula $\deff$
\end_inset

 conjunción de atómicas que define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
 Sean 
\begin_inset Formula $m\geq1$
\end_inset

, 
\begin_inset Formula $\enumeracion[m][\mathbf{A}],\mathbf{B}\in\mathcal{K}$
\end_inset

, 
\begin_inset Formula $\mathbf{S}\leq\left(\mathbf{A}_{1}\times\cdots\times\mathbf{A}_{m}\right)_{\mathcal{L}}$
\end_inset

, y 
\begin_inset Formula $h:\mathbf{S}\rightarrow\mathbf{B}_{\mathcal{L}}$
\end_inset

 un homomorfismo.
 Sean 
\begin_inset Formula 
\[
\bar{s}_{1}=\left(s_{11},\ldots,s_{1m}\right),\ldots,\bar{s}_{n}=\left(s_{n1},\ldots,s_{nm}\right)\in S
\]

\end_inset

tales que 
\begin_inset Formula 
\[
\left(s_{1i},\ldots,s_{ni}\right)\in R^{A_{i}}\text{ para cada }i\in\{1,\dots,m\}.
\]

\end_inset

Veamos que 
\begin_inset Formula $\left(h\left(\bar{s}_{1}\right),\ldots,h\left(\bar{s}_{n}\right)\right)\in R^{B}$
\end_inset

.
 Como 
\begin_inset Formula $\left(s_{1i},\ldots,s_{ni}\right)\in R^{A_{i}}$
\end_inset

 y 
\begin_inset Formula $\varphi$
\end_inset

 define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

, tenemos que 
\begin_inset Formula 
\[
\sat{\mathbf{A}_{i}}{\varphi}{\enumeracion[ni][s]}\mbox{ para }i\in\{1,\dots,m\}.
\]

\end_inset

Luego, por el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:preservacion existencial conj atomicas producto"

\end_inset

, 
\begin_inset Formula 
\[
\sat{\mathbf{A}_{1}\times\cdots\times\mathbf{A}_{m}}{\varphi}{\enumeracion[][\bar{s}]}.
\]

\end_inset

Como 
\begin_inset Formula $\varphi$
\end_inset

 es abierta y 
\begin_inset Formula $\mathbf{S}\leq\left(\mathbf{A}_{1}\times\cdots\times\mathbf{A}_{m}\right)_{\mathcal{L}}$
\end_inset

, entonces el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:abiertas valen en subestructuras y viceversa"

\end_inset

 implica que 
\begin_inset Formula $\sat{\mathbf{S}}{\varphi}{\enumeracion[][\bar{s}]}$
\end_inset

, y aplicando luego el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:homomorfismos preservan atomicas y abiertas positivas"

\end_inset

 obtenemos que 
\begin_inset Formula 
\[
\sat{\mathbf{B}}{\varphi}{h\left(\bar{s}_{1}\right),\dots,h\left(\bar{s}_{n}\right)}.
\]

\end_inset

Luego, como 
\begin_inset Formula $\varphi$
\end_inset

 define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

 y 
\begin_inset Formula $\mathbf{B}\in\mathcal{K}$
\end_inset

, concluimos que 
\begin_inset Formula 
\[
\left(h\left(\bar{s}_{1}\right),\dots,h\left(\bar{s}_{n}\right)\right)\in R^{\mathbf{B}}.
\]

\end_inset


\end_layout

\begin_layout Proof
1
\begin_inset Formula $\Rightarrow$
\end_inset

2) Supongamos 
\begin_inset Formula $\mathcal{K}=\left\{ \enumeracion[m][\mathbf{A}]\right\} $
\end_inset

, 
\begin_inset Formula $R$
\end_inset

 n-aria.
 Sea 
\begin_inset Formula $\mathbf{P}=\mathbf{A}_{1}^{\left|R^{\mathbf{A}_{1}}\right|}\times\cdots\times\mathbf{A}_{m}^{\left|R^{\mathbf{A}_{m}}\right|}$
\end_inset

, sean 
\begin_inset Formula 
\[
\enumeracion[][\bar{x}]\in P
\]

\end_inset

tales que 
\begin_inset Formula 
\[
\bar{x}_{i}=\left(x_{i1}^{1},\dots,x_{i\left|R^{\mathbf{A}_{1}}\right|}^{1},\dots,x_{i1}^{m},\dots,x_{i\left|R^{\mathbf{A}_{m}}\right|}^{m}\right)
\]

\end_inset

para cada 
\begin_inset Formula $i\in\left\{ 1,\dots,m\right\} $
\end_inset

 con 
\begin_inset Formula 
\[
R_{j}=\left\{ \left(x_{1i}^{j},\dots,x_{ni}^{j}\right)\text{ con }i\in\left\{ 1,\dots,\left|R^{\mathbf{A}_{j}}\right|\right\} \right\} 
\]

\end_inset

para cada 
\begin_inset Formula $j\in\left\{ 1,\dots,m\right\} $
\end_inset

 .
 Por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:cantidad de formulas es finita"

\end_inset

, hay una fórmula 
\begin_inset Formula $\varphi(\bar{x})$
\end_inset

 equivalente sobre 
\begin_inset Formula $\mathcal{K}$
\end_inset

 al diagrama atómico positivo 
\begin_inset Formula 
\[
\Delta_{\mathbf{P},\left(\enumeracion[][\bar{x}]\right)}^{+}(\bar{x}).
\]

\end_inset

 Supongamos 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\enumeracion[][b]}$
\end_inset

 y veamos que 
\begin_inset Formula $\left(\enumeracion[][b]\right)\in R^{\mathbf{B}}$
\end_inset

.
 Como 
\begin_inset Formula 
\[
\sat{\mathbf{B}}{\Delta_{\mathbf{P},\left(\enumeracion[][\bar{x}]\right)}^{+}}{\enumeracion[][b]},
\]

\end_inset

por Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:diagrama atomico positivo sii homomorfismo"

\end_inset

 hay 
\begin_inset Formula $h$
\end_inset

 homomorfismo de 
\begin_inset Formula $\left\langle \enumeracion[][\bar{x}]\right\rangle ^{\mathbf{P}}$
\end_inset

 en 
\begin_inset Formula $\left\langle \enumeracion[][b]\right\rangle ^{\mathbf{B}}$
\end_inset

 tal que 
\begin_inset Formula $h\left(\bar{x}_{i}\right)=b_{i}$
\end_inset

.
 Por hipótesis 
\begin_inset Formula $h$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

, luego como 
\begin_inset Formula $\left(x_{1i}^{j},\dots,x_{ni}^{j}\right)\in R^{\mathbf{A}_{j}}$
\end_inset

, se da que 
\begin_inset Formula $\left(\enumeracion[][b]\right)=\left(h\left(\bar{x}_{1}\right),\dots,h\left(\bar{x}_{n}\right)\right)\in R^{\mathbf{B}}$
\end_inset

.
\end_layout

\begin_layout Proof
Ahora supongamos 
\begin_inset Formula $\left(\enumeracion[][b]\right)\in R^{\mathbf{B}}$
\end_inset

 y veamos que 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\enumeracion[][b]}$
\end_inset

, luego hay algún 
\begin_inset Formula $j$
\end_inset

 tal que 
\begin_inset Formula $\mathbf{A}_{j}=\mathbf{B}$
\end_inset

 y hay algún 
\begin_inset Formula $k$
\end_inset

 y algún 
\begin_inset Formula $j$
\end_inset

 tal que 
\begin_inset Formula 
\[
\left(x_{1k}^{j},\dots,x_{nk}^{j}\right)=\left(\enumeracion[][b]\right).
\]

\end_inset

Entonces como 
\begin_inset Formula 
\[
\mathbf{A}_{1}^{\left|R^{\mathbf{A}_{1}}\right|}\times\cdots\times\mathbf{B}^{\left|R^{\mathbf{B}}\right|}\times\cdots\times\mathbf{A}_{m}^{\left|R^{\mathbf{A}_{m}}\right|}\vDash\varphi\left[\enumeracion[][\bar{x}]\right]
\]

\end_inset

por Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:preservacion existencial conj atomicas producto"

\end_inset

 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{x_{1k}^{j},\dots,x_{nk}^{j}}$
\end_inset

, por lo tanto 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\enumeracion[][b]}$
\end_inset

.
\end_layout

\begin_layout Theorem
\begin_inset Argument 1
status open

\begin_layout Plain Layout
cf.
 
\begin_inset CommandInset citation
LatexCommand cite
after "Thm. 22"
key "Campercholi15"

\end_inset


\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "thm:definibilidad primitiva positiva"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden, sea 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 un símbolo de relación n-ario.
 Para una clase finita 
\begin_inset Formula $\mathcal{K}$
\end_inset

 de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras finitas, los siguientes son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
Para cada 
\begin_inset Formula $m\geq1$
\end_inset

, para todas 
\begin_inset Formula $\enumeracion[m][\mathbf{A}],\mathbf{B}\in\mathcal{K}$
\end_inset

, se tiene que todo homomorfismo 
\begin_inset Formula $h:\left(\mathbf{A}_{1}\times\cdots\times\mathbf{A}_{m}\right)_{\mathcal{L}}\rightarrow\mathbf{B}_{\mathcal{L}}$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

.
\end_layout

\begin_layout Enumerate
Hay una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmula primitiva positiva que define 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
2
\begin_inset Formula $\Rightarrow$
\end_inset

1) Sea 
\begin_inset Formula $\varphi\left(\bar{x}\right)=\exists\bar{y}\,\psi\left(\bar{x},\bar{y}\right)$
\end_inset

 primitiva positiva que define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
 Sean 
\begin_inset Formula $m\geq1$
\end_inset

, 
\begin_inset Formula $\enumeracion[m][\mathbf{A}],\mathbf{B}\in\mathcal{K}$
\end_inset

 y 
\begin_inset Formula $h:\left(\mathbf{A}_{1}\times\cdots\times\mathbf{A}_{m}\right)_{\mathcal{L}}\rightarrow\mathbf{B}_{\mathcal{L}}$
\end_inset

 un homomorfismo.
 Sean 
\begin_inset Formula 
\[
\bar{a}_{1}=\left(a_{11},\ldots,a_{1m}\right),\ldots,\bar{a}_{n}=\left(a_{n1},\ldots,a_{nm}\right)\in S
\]

\end_inset

tales que 
\begin_inset Formula 
\[
\left(a_{1i},\ldots,a_{ni}\right)\in R^{A_{i}}\text{ para cada }i\in\{1,\dots,m\}.
\]

\end_inset

Veamos que 
\begin_inset Formula $\left(h\left(\bar{a}_{1}\right),\ldots,h\left(\bar{a}_{n}\right)\right)\in R^{B}$
\end_inset

.
 Como 
\begin_inset Formula $\left(a_{1i},\ldots,a_{ni}\right)\in R^{A_{i}}$
\end_inset

 y 
\begin_inset Formula $\varphi$
\end_inset

 define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

, tenemos que 
\begin_inset Formula 
\[
\sat{\mathbf{A}_{i}}{\varphi}{\enumeracion[ni][a]}\mbox{ para }i\in\{1,\dots,m\}.
\]

\end_inset

Luego, por el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:preservacion existencial conj atomicas producto"

\end_inset

, 
\begin_inset Formula 
\[
\sat{\mathbf{A}_{1}\times\cdots\times\mathbf{A}_{m}}{\varphi}{\enumeracion[][\bar{a}]}.
\]

\end_inset

Entonces hay 
\begin_inset Formula $\enumeracion[k][b]\in A_{1}\times\cdots\times A_{m}$
\end_inset

, tales que 
\begin_inset Formula 
\[
\sat{\mathbf{A}_{1}\times\cdots\times\mathbf{A}_{m}}{\psi}{\enumeracion[][\bar{a}],\enumeracion[k][b]}.
\]

\end_inset

Como 
\begin_inset Formula $\psi$
\end_inset

 es abierta positiva, aplicando el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:homomorfismos preservan atomicas y abiertas positivas"

\end_inset

 obtenemos que 
\begin_inset Formula 
\[
\sat{\mathbf{B}}{\varphi}{h\left(\bar{a}_{1}\right),\dots,h\left(\bar{a}_{n}\right)}.
\]

\end_inset

Luego, como 
\begin_inset Formula $\varphi$
\end_inset

 define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

 y 
\begin_inset Formula $\mathbf{B}\in\mathcal{K}$
\end_inset

, concluimos que 
\begin_inset Formula 
\[
\left(h\left(\bar{a}_{1}\right),\dots,h\left(\bar{a}_{n}\right)\right)\in R^{\mathbf{B}}.
\]

\end_inset


\end_layout

\begin_layout Proof
1
\begin_inset Formula $\Rightarrow$
\end_inset

2) Supongamos 
\begin_inset Formula $\mathcal{K}=\left\{ \enumeracion[m][\mathbf{A}]\right\} $
\end_inset

, 
\begin_inset Formula $R$
\end_inset

 n-aria.
 Sea 
\begin_inset Formula 
\[
\mathbf{P}=\mathbf{A}_{1}^{\left|R^{\mathbf{A}_{1}}\right|}\times\cdots\times\mathbf{A}_{m}^{\left|R^{\mathbf{A}_{m}}\right|},
\]

\end_inset

y sean 
\begin_inset Formula 
\[
\enumeracion[][\bar{x}]\in\mathbf{P}
\]

\end_inset

tales que 
\begin_inset Formula 
\[
\bar{x}_{i}=\left(x_{i1}^{1},\dots,x_{i\left|R^{\mathbf{A}_{1}}\right|}^{1},\dots,x_{i1}^{m},\dots,x_{i\left|R^{\mathbf{A}_{m}}\right|}^{m}\right)
\]

\end_inset

para cada 
\begin_inset Formula $i\in\left\{ 1,\dots,m\right\} $
\end_inset

 con 
\begin_inset Formula 
\[
R_{j}=\left\{ \left(x_{1i}^{j},\dots,x_{ni}^{j}\right)\text{ con }i\in\left\{ 1,\dots,\left|R^{\mathbf{A}_{j}}\right|\right\} \right\} 
\]

\end_inset

para cada 
\begin_inset Formula $j\in\left\{ 1,\dots,m\right\} $
\end_inset

.
 Sean 
\begin_inset Formula 
\[
\enumeracion[k][\bar{x'}]\in\mathbf{P},
\]

\end_inset

tales que 
\begin_inset Formula 
\[
\left\langle \enumeracion[][\bar{x}],\enumeracion[k][\bar{x'}]\right\rangle ^{\mathbf{P}}=\mathbf{P}.
\]

\end_inset

Por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:cantidad de formulas es finita"

\end_inset

, hay una fórmula 
\begin_inset Formula $\psi(\bar{x},\bar{y})$
\end_inset

 equivalente sobre 
\begin_inset Formula $\mathcal{K}$
\end_inset

 al diagrama atómico positivo 
\begin_inset Formula 
\[
\Delta_{\mathbf{P},\left(\enumeracion[][\bar{x}],\enumeracion[k][\bar{x'}]\right)}^{+}(\bar{x},\bar{y}).
\]

\end_inset

Sea 
\begin_inset Formula 
\[
\varphi\left(\bar{x}\right)=\exists\bar{y}\,\psi\left(\bar{x},\bar{y}\right).
\]

\end_inset

Supongamos 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\enumeracion[][b]}$
\end_inset

 y veamos que 
\begin_inset Formula $\left(\enumeracion[][b]\right)\in R^{\mathbf{B}}$
\end_inset

.
 Entonces hay 
\begin_inset Formula $\enumeracion[k][b']$
\end_inset

 tal que 
\begin_inset Formula 
\[
\sat{\mathbf{B}}{\Delta_{\mathbf{P},\left(\enumeracion[][\bar{x}],\enumeracion[k][\bar{x'}]\right)}^{+}}{\enumeracion[][b],\enumeracion[k][b']},
\]

\end_inset

por Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:diagrama atomico positivo sii homomorfismo"

\end_inset

 hay 
\begin_inset Formula $h$
\end_inset

 homomorfismo de 
\begin_inset Formula 
\[
\left\langle \enumeracion[][\bar{x}],\enumeracion[k][\bar{x'}]\right\rangle ^{\mathbf{A}_{1}^{\left|R^{\mathbf{A}_{1}}\right|}\times\cdots\times\mathbf{A}_{m}^{\left|R^{\mathbf{A}_{m}}\right|}}
\]

\end_inset

en 
\begin_inset Formula 
\[
\left\langle \enumeracion[][b],\enumeracion[k][b']\right\rangle ^{\mathbf{B}}
\]

\end_inset

tal que 
\begin_inset Formula $h\left(\bar{x}_{i}\right)=b_{i}$
\end_inset

 y 
\begin_inset Formula $h\left(\bar{x'}_{i}\right)=b'_{i}$
\end_inset

, claramente 
\begin_inset Formula $h$
\end_inset

 es homomorfismo de 
\begin_inset Formula $\mathbf{P}$
\end_inset

 en 
\begin_inset Formula $\mathbf{B}$
\end_inset

.
 Por hipótesis 
\begin_inset Formula $h$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

, luego como 
\begin_inset Formula $\left(x_{1i}^{j},\dots,x_{ni}^{j}\right)\in R^{\mathbf{A}_{j}}$
\end_inset

 se da que 
\begin_inset Formula $\left(h\left(\bar{x}_{1}\right),\dots,h\left(\bar{x}_{n}\right)\right)\in R^{\mathbf{B}}$
\end_inset

, que es exactamente 
\begin_inset Formula $\left(\enumeracion[][b]\right)\in R^{\mathbf{B}}$
\end_inset

.
\end_layout

\begin_layout Proof
Ahora supongamos 
\begin_inset Formula $\left(\enumeracion[][b]\right)\in R^{\mathbf{B}}$
\end_inset

 y veamos que 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\enumeracion[][b]}$
\end_inset

, luego hay algún 
\begin_inset Formula $j$
\end_inset

 tal que 
\begin_inset Formula $\mathbf{A}_{j}=\mathbf{B}$
\end_inset

 y hay algún 
\begin_inset Formula $k$
\end_inset

 y algún 
\begin_inset Formula $j$
\end_inset

 tal que 
\begin_inset Formula 
\[
\left(x_{1k}^{j},\dots,x_{nk}^{j}\right)=\left(\enumeracion[][b]\right).
\]

\end_inset

Entonces como 
\begin_inset Formula 
\[
\mathbf{A}_{1}^{\left|R^{\mathbf{A}_{1}}\right|}\times\cdots\times\mathbf{B}^{\left|R^{\mathbf{B}}\right|}\times\cdots\times\mathbf{A}_{m}^{\left|R^{\mathbf{A}_{m}}\right|}\vDash\varphi\left[\enumeracion[][\bar{x}]\right]
\]

\end_inset

 por Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:preservacion existencial conj atomicas producto"

\end_inset

 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{x_{1k}^{j},\dots,x_{nk}^{j}}$
\end_inset

, por lo tanto 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\enumeracion[][b]}$
\end_inset

.
\end_layout

\begin_layout Section
Definibilidad de primer orden
\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:definibiliad de primer orden"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden, sea 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 un símbolo de relación n-ario.
 Para una clase finita 
\begin_inset Formula $\mathcal{K}$
\end_inset

 de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras finitas, los siguientes son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
Hay una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmula que define 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Enumerate
Para todas 
\begin_inset Formula $\mathbf{A},\mathbf{B}\in\mathcal{K}$
\end_inset

, todo isomorfismo 
\begin_inset Formula $\gamma:\mathbf{A}_{\mathcal{L}}\rightarrow\mathbf{B}_{\mathcal{L}}$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
1
\begin_inset Formula $\Rightarrow$
\end_inset

2) Sea 
\begin_inset Formula $\varphi\left(\bar{x}\right)$
\end_inset

 una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmula que define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

, y sea un isomorfismo 
\begin_inset Formula $\funcion[\gamma]{\mathbf{A}}{\mathbf{B}}$
\end_inset

.
 Si 
\begin_inset Formula $\sat{\mathbf{A}}{\varphi}{\bar{a}}$
\end_inset

, entonces 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\gamma\left(\bar{a}\right)},$
\end_inset

 y como 
\begin_inset Formula $\varphi$
\end_inset

 define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

, tenemos que 
\begin_inset Formula $\gamma\left(\bar{a}\right)\in R^{\mathbf{B}}$
\end_inset

.
\end_layout

\begin_layout Proof
2
\begin_inset Formula $\Rightarrow$
\end_inset

1) Para cada 
\begin_inset Formula $\mathbf{A}\in\mathcal{K},$
\end_inset

 cada 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}}$
\end_inset

, fijamos 
\begin_inset Formula $\bar{a'}$
\end_inset

 tal que 
\begin_inset Formula $\left\langle \bar{a},\bar{a'}\right\rangle ^{\mathbf{A}}=\mathbf{A}$
\end_inset

.
 Por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:cantidad de formulas es finita"

\end_inset

, para cada 
\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

 y cada 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}}$
\end_inset

 hay una fórmula 
\begin_inset Formula $\delta_{\mathbf{A},(\bar{a},\bar{a'})}\left(\bar{x},\bar{y}\right)$
\end_inset

 equivalente sobre 
\begin_inset Formula $\mathcal{K}$
\end_inset

 al diagrama abierto 
\begin_inset Formula $\Delta_{\left(\bar{a},\bar{a'}\right),\mathbf{A}}$
\end_inset

.
 Definimos 
\begin_inset Formula 
\[
\varphi(\bar{x})=\bigvee_{\mathbf{A}\in\mathcal{K}}\left(\left(\bigvee_{\bar{a}\in R^{\mathbf{A}}}\left(\exists\bar{y}\,\delta_{\mathbf{A},(\bar{a},\bar{a'})}\left(\bar{x},\bar{y}\right)\right)\right)\wedge\left(\forall\enumeracion[\left|\mathbf{A}\right|+1][x]\bigvee_{i\neq j}x_{i}=x_{j}\right)\right).
\]

\end_inset

Veremos que 
\begin_inset Formula $\varphi(\bar{x})$
\end_inset

 define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
 Fijamos 
\begin_inset Formula $\mathbf{B}$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

 y 
\begin_inset Formula $\enumeracion[][b]\in B$
\end_inset

.
 Supongamos que 
\begin_inset Formula $\left(\enumeracion[][b]\right)\in R^{\mathbf{B}}$
\end_inset

.
 Entonces, como 
\begin_inset Formula 
\[
\varphi=\dots\vee\left(\left(\exists\bar{y}\,\delta_{\mathbf{B},(\bar{b},\bar{b'})}\left(\bar{x},\bar{y}\right)\vee\dots\right)\wedge\left(\forall\enumeracion[\left|\mathbf{B}\right|+1][x]\bigvee_{i\neq j}x_{i}=x_{j}\right)\right)\vee\dots,
\]

\end_inset

y como 
\begin_inset Formula $\sat{\mathbf{B}}{\exists\bar{y}\,\delta_{\mathbf{B},(\bar{b},\bar{b'})}\left(\bar{x},\bar{y}\right)}{\bar{b},\bar{b'}}$
\end_inset

 y 
\begin_inset Formula $\sat{\mathbf{B}}{\forall\enumeracion[\left|\mathbf{B}\right|+1][x]\bigvee_{i\neq j}x_{i}=x_{j}}{\bar{b},\bar{b'}}$
\end_inset

, tenemos que entonces 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset

.
\end_layout

\begin_layout Proof
Entonces hay algún 
\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

, y algún 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}}$
\end_inset

 tales que 
\begin_inset Formula 
\[
\sat{\mathbf{B}}{\left(\exists\bar{y}\,\delta_{\mathbf{A},(\bar{a},\bar{a'})}\left(\bar{x},\bar{y}\right)\right)\wedge\left(\forall\enumeracion[\left|\mathbf{A}\right|+1][x]\bigvee_{i\neq j}x_{i}=x_{j}\right)}{\bar{b}}.
\]

\end_inset

Se sigue que hay un 
\begin_inset Formula $\bar{z}$
\end_inset

 en 
\begin_inset Formula $\mathbf{B}$
\end_inset

 tal que 
\begin_inset Formula 
\[
\sat{\mathbf{B}}{\delta_{\mathbf{A},(\bar{a},\bar{a'})}\left(\bar{x},\bar{y}\right)}{\bar{b},\bar{z}}.
\]

\end_inset

Como 
\begin_inset Formula $\sat{\mathbf{B}}{\Delta_{\left(\bar{a},\bar{a'}\right),\mathbf{A}}}{\bar{b},\bar{z}}$
\end_inset

, por Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:diagrama sii isomorfismo"

\end_inset

, hay 
\begin_inset Formula $\funcion[\gamma]{\left\langle \bar{a},\bar{a'}\right\rangle ^{\mathbf{A}}}{\left\langle \bar{b},\bar{b'}\right\rangle ^{\mathbf{B}}}$
\end_inset

 isomorfismo tal que 
\begin_inset Formula $\left(\gamma\left(\bar{a}\right),\gamma\left(\bar{a'}\right)\right)=\left(\bar{b},\bar{z}\right)$
\end_inset

 con 
\begin_inset Formula $\left\langle \bar{a},\bar{a'}\right\rangle ^{\mathbf{A}}=\mathbf{A}$
\end_inset

 y 
\begin_inset Formula $\left\langle \bar{b},\bar{b'}\right\rangle ^{\mathbf{B}}\leq\mathbf{B}$
\end_inset

, lo que implica que 
\begin_inset Formula $\left|\mathbf{A}\right|\leq\left|\mathbf{B}\right|$
\end_inset

.
 Pero como 
\begin_inset Formula 
\[
\sat{\mathbf{B}}{\forall\enumeracion[\left|\mathbf{A}\right|+1][x]\bigvee_{i\neq j}x_{i}=x_{j}}{\enumeracion[][b]}
\]

\end_inset

tenemos que 
\begin_inset Formula $\left|\mathbf{B}\right|\leq\left|\mathbf{A}\right|$
\end_inset

, y así 
\begin_inset Formula $\left|\mathbf{B}\right|=\left|\mathbf{A}\right|$
\end_inset

.
 Luego 
\begin_inset Formula $\funcion[\gamma]{\mathbf{A}}{\mathbf{B}}$
\end_inset

 es un isomorfismo que cumple 
\begin_inset Formula $\left(\gamma\left(\bar{a}\right),\gamma\left(\bar{a'}\right)\right)=\left(\bar{b},\bar{z}\right)$
\end_inset

, y sabemos que los isomorfismos entre estructuras de 
\begin_inset Formula $\mathcal{K}$
\end_inset

 preservan 
\begin_inset Formula $R$
\end_inset

.
 Entonces, ya que 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}}$
\end_inset

, tenemos que 
\begin_inset Formula $\gamma\left(\bar{a}\right)=\bar{b}\in R^{\mathbf{B}}$
\end_inset

.
\end_layout

\begin_layout Chapter
Algoritmos para decidir definibilidad
\begin_inset CommandInset label
LatexCommand label
name "chap:algoritmos de chequeo"

\end_inset


\end_layout

\begin_layout Standard
En este capítulo exponemos los algoritmos para el chequeo de definibilidad
 de relaciones.
 La exposición se centra en los algoritmos para definibilidad abierta y
 abierta positiva, ya que consideramos que estos capturan las principales
 ideas desarrolladas.
 Luego se exponen, pero con menos detalle, algoritmos para definibilidad
 existencial, existencial positiva y de primer orden.
\end_layout

\begin_layout Section
Definiciones e ideas preliminares
\end_layout

\begin_layout Standard
Una clase de estructuras 
\begin_inset Formula $\mathcal{K}$
\end_inset

 será 
\emph on
normal
\emph default
 si es finita y cada una de las estructuras en 
\begin_inset Formula $\mathcal{K}$
\end_inset

 es finita.
 Supondremos en lo que sigue que las clases son siempre normales.
 
\end_layout

\begin_layout Standard
Dada una clase de estructuras 
\begin_inset Formula $\mathcal{K}$
\end_inset

 escribiremos 
\begin_inset Formula $\subestr{\mathcal{K}}$
\end_inset

 para denotar la clase formada por las subestructuras de miembros de 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
 
\end_layout

\begin_layout Standard
A la hora de reducir la complejidad de nuestros algoritmos en la búsqueda
 de homomorfismos utilizaremos conjuntos reducidos de morfismos, que 
\emph on
generan
\emph default
 al resto.
 Dados 
\begin_inset Formula $\mathcal{F}_{0}$
\end_inset

 y 
\begin_inset Formula $\mathcal{F}$
\end_inset

 dos conjuntos de funciones, diremos que 
\begin_inset Formula $\mathcal{F}_{0}$
\end_inset

 
\emph on
genera
\emph default
 a 
\begin_inset Formula $\mathcal{F}$
\end_inset

 si para toda 
\begin_inset Formula $f\in\mathcal{F}$
\end_inset

 hay 
\begin_inset Formula $\enumeracion[][f]\in\mathcal{F}_{0}$
\end_inset

 (posiblemente repetidas) tales que 
\begin_inset Formula $f=f_{1}\circ\cdots\circ f_{n}$
\end_inset

.
\end_layout

\begin_layout Standard
Dado un conjunto 
\begin_inset Formula $\mathcal{K}$
\end_inset

 de estructuras, para referirnos a los morfismos nombrados en los Teoremas
 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad abierta"

\end_inset

, 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad abierta positiva"

\end_inset

 definimos los siguientes conjuntos:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
\subiso{\mathcal{K}}=\left\{ \gamma:\gamma\textnormal{ isomorfismo de }\mathbf{A}_{0}\textnormal{ en }\mathbf{B}_{0}\textnormal{ con }\mathbf{A}_{0},\mathbf{B}_{0}\in\subestr{\mathcal{K}}\right\} ,
\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
\subhom{\mathcal{K}}=\left\{ \gamma:\gamma\textnormal{ homomorfismo de }\mathbf{A}_{0}\textnormal{ en }\mathbf{B}_{0}\textnormal{ con }\mathbf{A}_{0},\mathbf{B}_{0}\in\subestr{\mathcal{K}}\right\} .
\]

\end_inset


\end_layout

\begin_layout Section
Preprocesamiento
\end_layout

\begin_layout Standard
Una vez que tenemos una clase normal 
\begin_inset Formula $\mathcal{K}$
\end_inset

 en la que chequear definibilidad tratamos de reducir su redundancia basándonos
 en el siguiente resultado.
\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "lem:quito sombras"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden, 
\begin_inset Formula $\mathcal{K}$
\end_inset

 una clase normal de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras y 
\begin_inset Formula $\mathbf{A},\tilde{\mathbf{A}}\in\mathcal{K}$
\end_inset

, con 
\begin_inset Formula $\mathbf{A}\neq\tilde{\mathbf{A}}$
\end_inset

, tales que hay un 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfismo 
\begin_inset Formula $\funcion[\gamma]A{\tilde{A}}$
\end_inset

.
 Entonces para toda 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 y toda 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmula 
\begin_inset Formula $\varphi\left(\bar{x}\right)$
\end_inset

 son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $\varphi$
\end_inset

 define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\gamma$
\end_inset

 es un 
\begin_inset Formula $\mathcal{L}\cup\left\{ R\right\} $
\end_inset

-isomorfismo y 
\begin_inset Formula $\varphi$
\end_inset

 define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}-\{\tilde{\mathbf{A}}\}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
1
\begin_inset Formula $\Rightarrow$
\end_inset

2) Trivial.
\end_layout

\begin_layout Proof
2
\begin_inset Formula $\Rightarrow$
\end_inset

1) 
\begin_inset Formula $\tilde{\mathbf{A}}\vDash R\left[\bar{a}\right]$
\end_inset

 sii 
\begin_inset Formula $\mathbf{A}\vDash R\left[\gamma^{-1}\left(\bar{a}\right)\right]$
\end_inset

 sii 
\begin_inset Formula $\mathbf{A}\vDash\varphi\left[\gamma^{-1}\left(\bar{a}\right)\right]$
\end_inset

 sii 
\begin_inset Formula $\tilde{\mathbf{A}}\vDash\varphi\left[\bar{a}\right]$
\end_inset

.
 
\end_layout

\begin_layout Standard
Independientemente del tipo de definibilidad que uno quiera chequear el
 Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:quito sombras"

\end_inset

 sugiere que uno puede comenzar por reducir 
\begin_inset Formula $\mathcal{K}$
\end_inset

 eliminando copias de estructuras 
\begin_inset Formula $\mathcal{L}\cup\left\{ R\right\} $
\end_inset

-isomorfas.
 El algoritmo siguiente aprovecha este resultado.
\end_layout

\begin_layout Standard
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Preprocesamiento
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "alg:preprocesamiento"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{algorithmic}[1]
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B}\in\mathcal{K}-\left\{ \mathbf{A}\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
If{
\end_layout

\end_inset

hay 
\begin_inset Formula $\text{\funcion[\gamma]{\mathbf{A}}{\mathbf{B}}}$
\end_inset

 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfismo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 es un 
\begin_inset Formula $\mathcal{L}\cup\left\{ R\right\} $
\end_inset

-isomorfismo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{K}=\mathcal{K}-\left\{ \mathbf{B}\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
Else
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $R$
\end_inset

 no es definible y 
\begin_inset Formula $\gamma$
\end_inset

 es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\mathcal{K}$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\mathcal{K}$
\end_inset

 sin estructuras 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfas
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{algorithmic}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Notar que los isomorfismos revisados por este algoritmo deben ser necesariamente
 revisados para comprobar definibilidad en cualquiera de los formatos, con
 la ventaja de que al chequear estos en primer lugar, podría reducirse la
 clase 
\begin_inset Formula $\mathcal{K}$
\end_inset

 en el proceso.
\end_layout

\begin_layout Standard
Observar además que para poder aplicar los Teoremas del Capítulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Teoremas-de-definibilidad"

\end_inset

, habría que verificar que cada uno de los 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfismos entre estructuras de 
\begin_inset Formula $\mathcal{K}$
\end_inset

 preserven 
\begin_inset Formula $R$
\end_inset

.
 Vemos que basta con chequear solo uno gracias al Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:quito sombras"

\end_inset

.
\end_layout

\begin_layout Standard
Para ejemplificar el funcionamiento del algoritmo, supongamos que 
\begin_inset Formula $\mathcal{K}$
\end_inset

 está dado por la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:k sin preprocesamiento"

\end_inset

, donde cada tipo de isomorfismo está representado por una forma geométrica.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/k sin preprocesamiento.svg
	scale 40

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:k sin preprocesamiento"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset Formula $\mathcal{K}$
\end_inset

 antes del preprocesamiento
\end_layout

\end_inset


\end_layout

\end_inset


\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/k preprocesado.svg
	scale 40

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:k preprocesado"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset Formula $\mathcal{K}$
\end_inset

 luego del preprocesamiento
\end_layout

\end_inset


\end_layout

\end_inset


\begin_inset Caption Standard

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
El algoritmo de preprocesamiento detecta el 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfismo entre los dos octágonos y revisa que sea también un 
\begin_inset Formula $\mathcal{L}\cup\left\{ R\right\} $
\end_inset

-isomorfismo, dando lugar a la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:k preprocesado"

\end_inset

, donde la flecha es el isomorfismo a chequear.
\end_layout

\begin_layout Section
Definibilidad abierta
\end_layout

\begin_layout Standard
A partir del Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad abierta"

\end_inset

, habría que chequear todo isomorfismo entre subestructuras de estructuras
 de 
\begin_inset Formula $\mathcal{K}$
\end_inset

, como en el siguiente lema.
\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "lem:categoria abierta completa alcanza"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden tales que 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 es un símbolo de relación n-ario y 
\begin_inset Formula $\mathcal{K}$
\end_inset

 un conjunto normal de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras.
 Entonces si cada 
\begin_inset Formula $\gamma\in\subiso{\mathcal{K}_{\mathcal{L}}}$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

, 
\begin_inset Formula $R$
\end_inset

 es definible por una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmula abierta en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Proof
Directo del Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad abierta"

\end_inset

.
\end_layout

\begin_layout Standard
En el teorema enunciado a continuación describimos un conjunto suficiente
 de morfismos para generar 
\begin_inset Formula $\subiso{\mathcal{K}_{\mathcal{L}}}$
\end_inset

.
 Notar que al tomar 
\begin_inset Formula $\mathcal{K}$
\end_inset

 como un conjunto normal de 
\begin_inset Formula $\mathcal{L}$
\end_inset

-estructuras sin estructuras isomorfas estamos pensando en la aplicación
 previa del Algoritmo 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:preprocesamiento"

\end_inset

.
\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:construccion de constelacion abierta"

\end_inset

Sea 
\begin_inset Formula $\mathcal{K}$
\end_inset

 un conjunto normal de 
\begin_inset Formula $\mathcal{L}$
\end_inset

-estructuras donde no hay estructuras isomorfas.
 Sea 
\begin_inset Formula $\mathcal{S}\subseteq\subestr{\mathcal{K}}$
\end_inset

 tal que contiene exactamente un representante por cada tipo de isomorfismo
 en 
\begin_inset Formula $\subestr{\mathcal{K}}$
\end_inset

.
 Sea 
\begin_inset Formula $\mathcal{F}\subseteq\subiso{\mathcal{K}}$
\end_inset

 tal que:
\end_layout

\begin_deeper
\begin_layout Enumerate
para cada 
\begin_inset Formula $\mathbf{S}\in\mathcal{S}$
\end_inset

 se tiene que 
\begin_inset Formula $\aut{\mathbf{S}}\subseteq\mathcal{F}$
\end_inset

,
\end_layout

\begin_layout Enumerate
para cada 
\begin_inset Formula $\mathbf{A}\in\mathbb{S}(\mathcal{K})-\mathcal{S}$
\end_inset

 
\shape italic
hay 
\begin_inset Formula $\mathbf{A}'\in\mathcal{S}$
\end_inset

 y 
\begin_inset Formula $\gamma,\gamma^{-1}\in\mathcal{F}$
\end_inset

 tal que 
\begin_inset Formula $\gamma:A\rightarrow A'$
\end_inset

 es un isomorfismo.
\end_layout

\end_deeper
\begin_layout Theorem
Entonces 
\begin_inset Formula $\mathcal{F}$
\end_inset

 genera 
\begin_inset Formula $\subiso{\mathcal{K}}$
\end_inset

.
\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $\gamma\in\subiso{\mathcal{K}}$
\end_inset

; es decir hay 
\begin_inset Formula $\mathbf{A}_{0},\mathbf{B}_{0}\in\mathbb{S}(\mathcal{K})$
\end_inset

 y 
\begin_inset Formula $\funcion[\gamma]{\mathbf{A}_{0}}{\mathbf{B}_{0}}$
\end_inset

 es un isomorfismo.
 Queremos ver que 
\begin_inset Formula $\gamma$
\end_inset

 se puede obtener componiendo miembros de 
\begin_inset Formula $\mathcal{F}$
\end_inset

.
 Consideramos tres casos.
 Si 
\begin_inset Formula $\mathbf{A}_{0},\mathbf{B}_{0}\in\mathcal{S}$
\end_inset

, como no hay estructuras isomorfas en 
\begin_inset Formula $\mathcal{S}$
\end_inset

, 
\begin_inset Formula $\mathbf{A}_{0}=\mathbf{B}_{0}$
\end_inset

, por lo tanto 
\begin_inset Formula $\gamma\in\aut{\mathbf{A}_{0}}\subseteq\mathcal{F}$
\end_inset

.
 Por otro lado, si 
\begin_inset Formula $\mathbf{A}_{0}\in\mathcal{S}$
\end_inset

 pero 
\begin_inset Formula $\mathbf{B}_{0}\notin\mathcal{S}$
\end_inset

, luego 
\begin_inset Formula $\mathbf{A}_{0}$
\end_inset

 es el representante de 
\begin_inset Formula $\mathbf{B}_{0}$
\end_inset

 en 
\begin_inset Formula $\mathcal{S}$
\end_inset

, y por lo tanto hay un isomorfismo 
\begin_inset Formula $\funcion[\delta]{\mathbf{B}_{0}}{\mathbf{A}_{0}}$
\end_inset

 tal que 
\begin_inset Formula $\delta,\delta^{-1}\in\mathcal{F}$
\end_inset

.
 Claramente 
\begin_inset Formula $\delta\gamma=\lambda\in\aut{\mathbf{A}_{0}}\subseteq\mathcal{F}$
\end_inset

, por lo tanto 
\begin_inset Formula $\gamma=\delta^{-1}\lambda$
\end_inset

.
 Por último supongamos 
\begin_inset Formula $\mathbf{A}_{0},\mathbf{B}_{0}\notin\mathcal{S}$
\end_inset

.
 Entonces hay 
\begin_inset Formula $\mathbf{C}_{0}\in\mathcal{S}$
\end_inset

 que es representante de 
\begin_inset Formula $\mathbf{A}_{0}$
\end_inset

 y 
\begin_inset Formula $\mathbf{B}_{0}$
\end_inset

.
 Luego hay 
\begin_inset Formula $\funcion[\delta]{\mathbf{A}_{0}}{\mathbf{C}_{0}}$
\end_inset

 y 
\begin_inset Formula $\funcion[\delta']{\mathbf{B}_{0}}{\mathbf{C}_{0}}$
\end_inset

 tales que 
\begin_inset Formula $\delta,\delta^{-1},\delta',\delta'^{-1}\in\mathcal{F}$
\end_inset

.
 Claramente 
\begin_inset Formula $\delta'\gamma\delta^{-1}=\lambda\in\aut{\mathbf{C}_{0}}\subseteq\mathcal{F}$
\end_inset

, por lo tanto 
\begin_inset Formula $\gamma=\delta'^{-1}\lambda\delta$
\end_inset

.
\end_layout

\begin_layout Corollary
\begin_inset CommandInset label
LatexCommand label
name "cor:preservar en la constelacion abierta es ser abierta definible"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden tales que 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 es un símbolo de relación n-ario y 
\begin_inset Formula $\mathcal{K}$
\end_inset

 un conjunto normal de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras.
 Supongamos 
\begin_inset Formula $\mathcal{F}$
\end_inset

 es como en el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta"

\end_inset

 para la familia 
\begin_inset Formula $\mathcal{K}_{\mathcal{L}}$
\end_inset

.
 Entonces si cada 
\begin_inset Formula $\gamma\in\mathcal{F}$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

, se tiene que 
\begin_inset Formula $R$
\end_inset

 es definible por una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmula abierta en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Proof
Directa ya que la composición de funciones que preservan 
\begin_inset Formula $R$
\end_inset

, trivialmente también preserva 
\begin_inset Formula $R$
\end_inset

.
 Luego aplicando el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta"

\end_inset

 y el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:categoria abierta completa alcanza"

\end_inset

 queda probado.
\end_layout

\begin_layout Standard
El Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta"

\end_inset

 sugiere un subconjunto de isomorfismos que bastan para revisar definibilidad
 abierta a través del Corolario 
\begin_inset CommandInset ref
LatexCommand ref
reference "cor:preservar en la constelacion abierta es ser abierta definible"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float algorithm
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Chequeo de definibilidad abierta
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "alg:constelacion abierta"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{algorithmic}[1]
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{S}=\emptyset$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

, desde la mayor a la menor cardinalidad
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $Sub=\left[\mathbf{C}:\mathbf{C}\in\subestr{\mathbf{A}_{\mathcal{L}}},\textnormal{ de la mayor a menor cardinalidad}\right]$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B}\in Sub$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $(iso,\, ce)=$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Call{
\end_layout

\end_inset

chequearIsos
\begin_inset ERT
status open

\begin_layout Plain Layout

}{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B},\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset

 hay un 
\begin_inset Formula $\mathcal{L}$
\end_inset

-iso de 
\begin_inset Formula $\mathbf{B}$
\end_inset

 en 
\begin_inset Formula $\mathbf{S}\in\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $ce\neq\textnormal{\texttt{Null}}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $ce$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset

 
\begin_inset Formula $ce$
\end_inset

 es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
ElsIf{
\end_layout

\end_inset


\begin_inset Formula $iso$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $Sub=\left[\mathbf{C}:\mathbf{C}\in Sub\textnormal{ tal que }C\nsubseteq B\right]$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "lin:abierta-saco-subestructuras"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
Else
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{S}=\mathcal{S}\cup\left\{ \mathbf{B}\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\alpha\in\textrm{Aut}(\mathbf{B}_{\mathcal{L}})$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\alpha$
\end_inset

 no preserva 
\begin_inset Formula $R$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "lin:abierta-auto2"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

					
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\alpha$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\alpha$
\end_inset

 es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $R$
\end_inset

 es abierta-definible
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Statex
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Function{
\end_layout

\end_inset

chequearIsos
\begin_inset ERT
status open

\begin_layout Plain Layout

}{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B},\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{S}\in\mathcal{S}$
\end_inset

, con 
\begin_inset Formula $\left|\mathbf{B}\right|=\left|\mathbf{S}\right|$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
If{
\end_layout

\end_inset

hay 
\begin_inset Formula $\funcion[\gamma]{\mathbf{B}}{\mathbf{S}}$
\end_inset

 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfismo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 no es un 
\begin_inset Formula $\mathcal{L}\cup\left\{ R\right\} $
\end_inset

-isomorfismo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $(\textnormal{\texttt{True}},\gamma)$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
Else
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $(\textnormal{\texttt{True}},\textnormal{\texttt{Null}})$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 es iso que preserva
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $(\textnormal{\texttt{False}},\textnormal{\texttt{Null}})$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset

No tiene representante
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFunction
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{algorithmic}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
En el Algoritmo 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:constelacion abierta"

\end_inset

 se construye 
\begin_inset Formula $\mathcal{S}$
\end_inset

 a la vez que se van revisando los isomorfismos en 
\begin_inset Formula $\mathcal{F}$
\end_inset

.
 Para esto recorremos las estructuras en 
\begin_inset Formula $\mathcal{K}$
\end_inset

 de mayor a menor tamaño.
 Al momento de procesar una 
\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

 lo primero que se hace es buscar un 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfismo 
\begin_inset Formula $\gamma$
\end_inset

 entre 
\begin_inset Formula $\mathbf{A}$
\end_inset

 y un miembro de 
\begin_inset Formula $\mathcal{S}$
\end_inset

.
 Si un tal 
\begin_inset Formula $\gamma$
\end_inset

 existe, tanto 
\begin_inset Formula $\gamma$
\end_inset

 como su inversa son revisados (miembros de 
\begin_inset Formula $\mathcal{F}$
\end_inset

 correspondientes al punto (2) del Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta"

\end_inset

).
 Si no hay un tal 
\begin_inset Formula $\gamma$
\end_inset

, la estructura 
\begin_inset Formula $\mathbf{A}$
\end_inset

 es agregada a 
\begin_inset Formula $\mathcal{S}$
\end_inset

 y sus 
\begin_inset Formula $\mathcal{L}$
\end_inset

-automorfismos son revisados (miembros de 
\begin_inset Formula $\mathcal{F}$
\end_inset

 correspondientes al punto (1) del Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta"

\end_inset

).
 A continuación las subestructuras de 
\begin_inset Formula $\mathbf{A}$
\end_inset

 son procesadas de la misma manera.
\end_layout

\begin_layout Standard
La subrutina 
\family typewriter
chequearIsos
\family default
 es la encargada de encontrar y revisar la preservación de los isomorfismos
 entre cada 
\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

 y su representante en 
\begin_inset Formula $\mathcal{S}$
\end_inset

.
 Esta función toma la estructura 
\begin_inset Formula $\mathbf{A}$
\end_inset

 y el conjunto de representantes 
\begin_inset Formula $\mathcal{S}$
\end_inset

.
 Busca un isomorfismo entre 
\begin_inset Formula $\mathbf{A}$
\end_inset

 y algún 
\begin_inset Formula $\mathbf{S}\in\mathcal{K}$
\end_inset

, y revisa su preservación.
 En el caso de que no encuentre un isomorfismo devuelve 
\family typewriter
(False, Null)
\family default
, mientras que si encuentra uno devuelve 
\family typewriter
True
\family default
 en la primer coordenada y en la segunda devuelve el mismo isomorfismo solo
 en el caso de que este no preserve, a la manera de un contraejemplo.
\end_layout

\begin_layout Standard
Notar que en la línea 
\begin_inset CommandInset ref
LatexCommand ref
reference "lin:abierta-auto2"

\end_inset

 basta con revisar solamente si los automorfismos preservan 
\begin_inset Formula $R$
\end_inset

.
 Esto se fundamenta en que al recorrer todos, su inversa también es revisada
 por preservación.
 
\end_layout

\begin_layout Standard
Además, una vez que una subestructura resulta ser 
\begin_inset Formula $\mathcal{L}\cup\left\{ R\right\} $
\end_inset

-isomorfa a un representante en 
\begin_inset Formula $\mathcal{S}$
\end_inset

, sabemos que todas sus subestructuras ya tienen representante en 
\begin_inset Formula $\mathcal{S}$
\end_inset

.
 Esto permite disminuir la cantidad de subestructuras a revisar, como se
 ve en la línea 
\begin_inset CommandInset ref
LatexCommand ref
reference "lin:abierta-saco-subestructuras"

\end_inset

.
\end_layout

\begin_layout Standard
Para esquematizar la ganancia obtenida en cuanto al chequeo de una menor
 cantidad de morfismos podemos observar en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:categoria abierta"

\end_inset

 el conjunto 
\begin_inset Formula $\mathcal{K}$
\end_inset

 junto con todas los morfismos que deberían ser revisados según el Teorema
 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad abierta"

\end_inset

.
 Mientras que en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:constelacion abierta"

\end_inset

, se puede ver los morfismos que bastan para comprobar definibilidad abierta
 según el Corolario 
\begin_inset CommandInset ref
LatexCommand ref
reference "cor:preservar en la constelacion abierta es ser abierta definible"

\end_inset

 a la manera del algoritmo anterior.
\end_layout

\begin_layout Standard
Notar que en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:constelacion abierta"

\end_inset

, la aplicación del Algoritmo 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:preprocesamiento"

\end_inset

 (Preprocesamiento) genera que uno de los octágonos aparezca como 
\emph on
sombra
\emph default
 del otro y baste solo revisar el isomorfismo entre ellos por el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:quito sombras"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/categoria abierta.svg
	scale 40

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:categoria abierta"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Morfismos a revisar según el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad abierta"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/constelacion abierta.svg
	scale 40

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:constelacion abierta"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Morfismos que bastan según el Corolario 
\begin_inset CommandInset ref
LatexCommand ref
reference "cor:preservar en la constelacion abierta es ser abierta definible"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Definibilidad abierta-positiva
\end_layout

\begin_layout Standard
Según el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad abierta positiva"

\end_inset

 habría que chequear todo homomorfismo entre subestructuras de estructuras
 de 
\begin_inset Formula $\mathcal{K}$
\end_inset

, como en el siguiente lema.
\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "lem:categoria abierta postiva completa alcanza"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden tales que 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 es un símbolo de relación n-ario y 
\begin_inset Formula $\mathcal{K}$
\end_inset

 un conjunto normal de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras.
 Entonces si cada 
\begin_inset Formula $\gamma\in\subhom{\mathcal{K}_{\mathcal{L}}}$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

, 
\begin_inset Formula $R$
\end_inset

 es definible por una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmula abierta positiva en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Proof
Directo del Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad abierta positiva"

\end_inset

.
\end_layout

\begin_layout Standard
En el siguiente teorema describimos un conjunto suficiente de morfismos
 para generar 
\begin_inset Formula $\subhom{\mathcal{K}_{\mathcal{L}}}$
\end_inset

.
 Notar que, nuevamente, al tomar 
\begin_inset Formula $\mathcal{K}$
\end_inset

 como un conjunto normal de 
\begin_inset Formula $\mathcal{L}$
\end_inset

-estructuras sin estructuras isomorfas estamos pensando en la aplicación
 previa del Algoritmo 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:preprocesamiento"

\end_inset

.
\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:construccion de constelacion abierta positiva"

\end_inset

Sea 
\begin_inset Formula $\mathcal{K}$
\end_inset

 un conjunto normal de 
\begin_inset Formula $\mathcal{L}$
\end_inset

-estructuras donde no hay estructuras isomorfas.
 Sea 
\begin_inset Formula $\mathcal{S}\subseteq\subestr{\mathcal{K}}$
\end_inset

 tal que contiene exactamente un representante por cada tipo de isomorfismo
 en 
\begin_inset Formula $\subestr{\mathcal{K}}$
\end_inset

.
 Sea 
\begin_inset Formula $\mathcal{H}\subseteq\subhom{\mathcal{K}}$
\end_inset

 tal que:
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $\mathcal{F}\subseteq\mathcal{H}$
\end_inset

 con 
\begin_inset Formula $\mathcal{F}$
\end_inset

 como en el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta"

\end_inset

,
\end_layout

\begin_layout Itemize
para cada 
\begin_inset Formula $\mathbf{A},\mathbf{B}\in\mathcal{S}$
\end_inset

 
\shape italic
todo 
\begin_inset Formula $\funcion[h]{\mathbf{A}}{\mathbf{B}}$
\end_inset

 homomorfismo sobreyectivo está en 
\begin_inset Formula $\mathcal{H}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Theorem
Entonces 
\begin_inset Formula $\mathcal{H}$
\end_inset

 genera 
\begin_inset Formula $\subhom{\mathcal{K}}$
\end_inset

.
\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $h\in\subhom{\mathcal{K}}$
\end_inset

, entonces 
\begin_inset Formula $\funcion[h]{\mathbf{A}_{0}\leq\mathbf{A}}{\mathbf{B}_{0}\leq\mathbf{B}}$
\end_inset

 homomorfismo, con 
\begin_inset Formula $\mathbf{A},\mathbf{B}\in\mathcal{K}$
\end_inset

.
 Esto da lugar a tres casos.
 Primero, si 
\begin_inset Formula $\mathbf{A}_{0},h\left(\mathbf{A}_{0}\right)\in\mathcal{S}$
\end_inset

, entonces 
\begin_inset Formula $h$
\end_inset

 es homomorfismo sobreyectivo entre estructuras de 
\begin_inset Formula $\mathcal{S}$
\end_inset

, por lo que 
\begin_inset Formula $h\in\mathcal{H}$
\end_inset

.
 El siguiente caso se da si 
\begin_inset Formula $\mathbf{A}_{0}\in\mathcal{S}$
\end_inset

 pero 
\begin_inset Formula $h\left(\mathbf{A}_{0}\right)\notin\mathcal{S}$
\end_inset

, entonces hay 
\begin_inset Formula $\mathbf{S}$
\end_inset

 representante de 
\begin_inset Formula $h\left(\mathbf{A}_{0}\right)$
\end_inset

 en 
\begin_inset Formula $\mathcal{S}$
\end_inset

 y un isomorfismo 
\begin_inset Formula $\funcion[\delta]{h\left(\mathbf{A}_{0}\right)}{\mathbf{S}}$
\end_inset

 tal que 
\begin_inset Formula $\delta,\delta^{-1}\in\mathcal{F}\subseteq\mathcal{H}$
\end_inset

.
 Luego 
\begin_inset Formula $\delta^{-1}h=f$
\end_inset

 donde 
\begin_inset Formula $f$
\end_inset

 es un homomorfismo claramente sobreyectivo de 
\begin_inset Formula $\mathbf{A}_{0}$
\end_inset

 en 
\begin_inset Formula $\mathbf{S}$
\end_inset

, por lo que 
\begin_inset Formula $f\in\mathcal{H}$
\end_inset

 y entonces 
\begin_inset Formula $h=\delta f$
\end_inset

.
 El ultimo caso se da cuando 
\begin_inset Formula $\mathbf{A}_{0},h\left(\mathbf{A}_{0}\right)\notin\mathcal{S}$
\end_inset

, entonces hay respectivos 
\begin_inset Formula $\mathbf{S},\mathbf{S}'\in\mathcal{S}$
\end_inset

 representantes de 
\begin_inset Formula $\mathbf{A}_{0}$
\end_inset

 y 
\begin_inset Formula $h\left(\mathbf{A}_{0}\right)$
\end_inset

.
 Luego hay 
\begin_inset Formula $\funcion[\delta]{\mathbf{A}_{0}}{\mathbf{S}}$
\end_inset

 y 
\begin_inset Formula $\funcion[\delta']{h\left(\mathbf{A}_{0}\right)}{\mathbf{S}'}$
\end_inset

 tales que 
\begin_inset Formula $\delta,\delta^{-1},\delta',\delta'^{-1}\in\mathcal{F}\subseteq\mathcal{H}$
\end_inset

.
 Luego 
\begin_inset Formula $\delta'h\delta^{-1}=f$
\end_inset

 donde 
\begin_inset Formula $f$
\end_inset

 es un homomorfismo claramente sobreyectivo de 
\begin_inset Formula $\mathbf{S}$
\end_inset

 en 
\begin_inset Formula $\mathbf{S}'$
\end_inset

, por lo que 
\begin_inset Formula $f\in\mathcal{H}$
\end_inset

, luego 
\begin_inset Formula $h=\delta'^{-1}f\delta$
\end_inset

.
\end_layout

\begin_layout Corollary
\begin_inset CommandInset label
LatexCommand label
name "cor:preservar en la constelacion abierta positiva es ser abierta positiva definible"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden tales que 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 es un símbolo de relación n-ario y 
\begin_inset Formula $\mathcal{K}$
\end_inset

 un conjunto normal de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras.
 Supongamos 
\begin_inset Formula $\mathcal{H}$
\end_inset

 es como en el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta positiva"

\end_inset

 para la familia 
\begin_inset Formula $\mathcal{K}_{\mathcal{L}}$
\end_inset

.
 Entonces si cada 
\begin_inset Formula $h\in\mathcal{H}$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

, se tiene que 
\begin_inset Formula $R$
\end_inset

 es definible por una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmula abierta positiva en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Proof
Directa ya que la composición de funciones que preservan 
\begin_inset Formula $R$
\end_inset

, trivialmente también preserva 
\begin_inset Formula $R$
\end_inset

.
 Luego aplicando el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta positiva"

\end_inset

 y el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:categoria abierta postiva completa alcanza"

\end_inset

 queda probado.
\end_layout

\begin_layout Standard
El Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta positiva"

\end_inset

 sugiere un subconjunto de homomorfismos que bastan para revisar definibilidad
 abierta positiva a través del Corolario 
\begin_inset CommandInset ref
LatexCommand ref
reference "cor:preservar en la constelacion abierta positiva es ser abierta positiva definible"

\end_inset

.
 A su vez, a la hora de buscar homomorfismos entre estructuras aprovechamos
 el siguiente resultado, que nos permite organizar la búsqueda de homomorfismos
 biyectivos entre dos subestructuras en un único sentido.
\end_layout

\begin_layout Theorem
\begin_inset Argument 1
status open

\begin_layout Plain Layout
Las estructuras finitas cumplen la propiedad de Cantor-Bernstein
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "thm:cantor-bernstein"

\end_inset

Dadas 
\begin_inset Formula $\mathbf{A}$
\end_inset

 y 
\begin_inset Formula $\mathbf{B}$
\end_inset

 estructuras finitas, si hay 
\begin_inset Formula $f:A\rightarrow B$
\end_inset

 y 
\begin_inset Formula $g:B\rightarrow A$
\end_inset

 homomorfismos inyectivos entonces hay un 
\begin_inset Formula $\funcion[\gamma]{\mathbf{A}}{\mathbf{B}}$
\end_inset

 isomorfismo.
\end_layout

\begin_layout Proof
Sean 
\begin_inset Formula $\mathbf{A},\mathbf{B}$
\end_inset

 estructuras finitas y 
\begin_inset Formula $f:\mathbf{A}\rightarrow\mathbf{B}$
\end_inset

 y 
\begin_inset Formula $g:\mathbf{B}\rightarrow\mathbf{A}$
\end_inset

 homomorfismos inyectivos.
 Notar que 
\begin_inset Formula $gf$
\end_inset

 es una permutación de 
\begin_inset Formula $\mathbf{A}$
\end_inset

, y como 
\begin_inset Formula $\mathbf{A}$
\end_inset

 es finito hay 
\begin_inset Formula $k\geq1$
\end_inset

 tal que 
\begin_inset Formula $(gf)^{k}=\mathrm{Id}_{\mathbf{A}}$
\end_inset

.
 Luego como 
\begin_inset Formula $g^{-1}=f(gf)^{k-1}$
\end_inset

 vemos que 
\begin_inset Formula $g^{-1}$
\end_inset

 es homomorfismo.
\end_layout

\begin_layout Standard
En el Algoritmo 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:constelacion abierta positiva"

\end_inset

 se construye 
\begin_inset Formula $\mathcal{S}$
\end_inset

 a la vez que se van revisando los homomorfismos en 
\begin_inset Formula $\mathcal{H}$
\end_inset

.
 Estos homomorfismos son chequeados en dos etapas, primero los biyectivos
 y luego los sobreyectivos no inyectivos.
 La primera etapa es muy similar al Algoritmo 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:constelacion abierta"

\end_inset

, solo que en este caso en lugar de chequear isomorfismos se chequean homomorfis
mos biyectivos.
 Al concluir con esta tarea, 
\begin_inset Formula $\mathcal{S}$
\end_inset

 ya ha sido construido y todos los homomorfismos biyectivos entre miembros
 de 
\begin_inset Formula $\mathcal{S}$
\end_inset

 han sido revisados.
 Así es que en la segunda etapa solo resta revisar los homomorfismos sobreyectiv
os y no inyectivos entre miembros de 
\begin_inset Formula $\mathcal{S}$
\end_inset

.
 
\end_layout

\begin_layout Standard
La función 
\family typewriter
chequearBihomos
\family default
 toma como entradas 
\begin_inset Formula $\mathbf{A}$
\end_inset

 y 
\begin_inset Formula $\mathcal{S}$
\end_inset

, y devuelve un par 
\begin_inset Formula $(hayIso,\, Contraejemplo)$
\end_inset

.
 La variable 
\begin_inset Formula $hayIso$
\end_inset

 será 
\family typewriter
True
\family default
 cuando haya un 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfismo de 
\begin_inset Formula $\mathbf{A}$
\end_inset

 en un miembro de 
\begin_inset Formula $\mathcal{S}$
\end_inset

.
 Hay cuatro resultados posibles.
\end_layout

\begin_layout Itemize
(
\family typewriter
True
\family default
,
\family typewriter
Null
\family default
) cuando hay un 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfismo que preserva.
\end_layout

\begin_layout Itemize
(
\family typewriter
True
\family default
,
\begin_inset Formula $\gamma$
\end_inset

) cuando hay un 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfismo 
\begin_inset Formula $\gamma$
\end_inset

 que no preserva.
\end_layout

\begin_layout Itemize
(
\family typewriter
False
\family default
,
\family typewriter
Null
\family default
) cuando no hay 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfismos y todo homomorfismo biyectivo preserva.
\end_layout

\begin_layout Itemize
(
\family typewriter
False
\family default
,
\begin_inset Formula $h$
\end_inset

) cuando no hay 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfismos pero hay un homomorfismo biyectivo 
\begin_inset Formula $h$
\end_inset

 que no preserva.
\end_layout

\begin_layout Standard
Notar que si hay homomorfismos biyectivos de 
\begin_inset Formula $\mathbf{A}$
\end_inset

 en un 
\begin_inset Formula $\mathbf{S}\in\mathcal{S}$
\end_inset

, y ninguno de éstos es un isomorfismo, el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:cantor-bernstein"

\end_inset

 garantiza que no puede haber homomorfismos biyectivos de 
\begin_inset Formula $\mathbf{S}$
\end_inset

 en 
\begin_inset Formula $\mathbf{A}$
\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset Float algorithm
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Chequeo de definibilidad abierta-positiva
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "alg:constelacion abierta positiva"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{algorithmic}[1]
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{S}=\emptyset$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

, desde la mayor a la menor cardinalidad
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $Sub=\left[\mathbf{C}:\mathbf{C}\in\subestr{\mathbf{A}_{\mathcal{L}}},\textnormal{ de la mayor a menor cardinalidad}\right]$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B}\in Sub$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\left(iso,ce\right)=$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Call{
\end_layout

\end_inset

chequearBihomos
\begin_inset ERT
status open

\begin_layout Plain Layout

}{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B},\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset

 hay un 
\begin_inset Formula $\mathcal{L}$
\end_inset

-iso de 
\begin_inset Formula $\mathbf{B}$
\end_inset

 en 
\begin_inset Formula $\mathbf{S}\in\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $ce\neq\textnormal{\texttt{Null}}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $ce$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset

 
\begin_inset Formula $ce$
\end_inset

 es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
ElsIf{
\end_layout

\end_inset


\begin_inset Formula $iso$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $Sub=\left[\mathbf{C}:\mathbf{C}\in Sub\textnormal{ tal que }C\nsubseteq B\right]$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "lin:abierta-saco-subestructuras-1"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
Else
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{S}=\mathcal{S}\cup\left\{ \mathbf{B}\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\alpha\in\textrm{Aut}(\mathbf{B}_{\mathcal{L}})$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\alpha$
\end_inset

 no preserva 
\begin_inset Formula $R$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "lin:abierta-auto2-1-1"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

					
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\alpha$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\alpha$
\end_inset

 es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}\in\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B}\in\mathcal{S}$
\end_inset

, con 
\begin_inset Formula $\left|\mathbf{B}\right|<\left|\mathbf{A}\right|$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset

para que 
\begin_inset Formula $\gamma$
\end_inset

 no sea inyectiva
\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\funcion[\gamma]{\mathbf{A}}{\mathbf{B}}$
\end_inset

 con 
\begin_inset Formula $\gamma$
\end_inset

 
\begin_inset Formula $\mathcal{L}$
\end_inset

-homomorfismo sobreyectivo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 no preserva 
\begin_inset Formula $R$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $R$
\end_inset

 es definible por una abierta positiva
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Statex
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Function{
\end_layout

\end_inset

chequearBihomos
\begin_inset ERT
status open

\begin_layout Plain Layout

}{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B},\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{S}\in\mathcal{S}$
\end_inset

, con 
\begin_inset Formula $\left|\mathbf{B}\right|=\left|\mathbf{S}\right|$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $bihomos=[\gamma:\textnormal{ con }\gamma\textnormal{ }\mathcal{L}\textnormal{-homomorfismo biyectivo de }\mathcal{\mathbf{B}}\textnormal{ en }\mathbf{S}]$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $h\in bihomos$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $h$
\end_inset

 es un 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfismo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $h$
\end_inset

 no es un 
\begin_inset Formula $\mathcal{L}\cup\left\{ R\right\} $
\end_inset

-isomorfismo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $(\textnormal{\texttt{True}},h)$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset

hay iso 
\begin_inset Formula $h$
\end_inset

 y es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
Else
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $(\textnormal{\texttt{True}},\textnormal{\texttt{Null}})$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $h$
\end_inset

 es iso con 
\begin_inset Formula $\mathbf{S}\in\mathcal{S}$
\end_inset

 y preserva
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
ElsIf{
\end_layout

\end_inset


\begin_inset Formula $h$
\end_inset

 no preserva 
\begin_inset Formula $R$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\left(\textnormal{\texttt{False}},h\right)$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $h$
\end_inset

 es un bihomo contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $bihomos=\left[\right]$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\funcion[h]{\mathbf{S}}{\mathbf{B}}$
\end_inset

 con 
\begin_inset Formula $h$
\end_inset

 
\begin_inset Formula $\mathcal{L}$
\end_inset

-homomorfismo biyectivo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $h$
\end_inset

 no preserva 
\begin_inset Formula $R$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\left(\textnormal{\texttt{False}},h\right)$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $h$
\end_inset

 es un bihomo contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\left(\textnormal{\texttt{False}},\textnormal{\texttt{Null}}\right)$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset

No tiene representante
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFunction
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{algorithmic}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Para esquematizar la ganancia obtenida en cuanto al chequeo de una menor
 cantidad de morfismos podemos observar en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:categoria abierta positiva"

\end_inset

 el conjunto 
\begin_inset Formula $\mathcal{K}$
\end_inset

 junto con todas los morfismos que deberían ser revisados según el Teorema
 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad abierta positiva"

\end_inset

, donde las flechas punteadas son los homomorfismos.
 Mientras que en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:constelacion abierta positiva"

\end_inset

, se puede ver los morfismos que bastan para comprobar definibilidad abierta
 positiva.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/categoria abierta positiva.svg
	scale 40

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:categoria abierta positiva"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Morfismos a revisar según el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad abierta positiva"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename img/constelacion abierta positiva.svg
	scale 40

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:constelacion abierta positiva"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Morfismos que bastan según el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta positiva"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Section
Definibilidad existencial
\end_layout

\begin_layout Standard
Por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibiliad existencial"

\end_inset

, luego de aplicar el Algoritmo 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:preprocesamiento"

\end_inset

 de preprocesamiento, solo basta con revisar los embeddings entre 
\begin_inset Formula $\mathbf{A},\mathbf{B}\in\mathcal{K}$
\end_inset

, como hacemos en el Algoritmo 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:constelacion existencial"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Chequeo de definibilidad existencial
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "alg:constelacion existencial"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{algorithmic}[1]
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B}\in\mathcal{K}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\gamma\in\left[\gamma:\textnormal{ con }\funcion[\gamma]{\mathbf{A}_{\mathcal{L}}}{\mathbf{B}_{\mathcal{L}}}\textnormal{ }\mathcal{L}\textnormal{-embedding}\right]$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 no es un 
\begin_inset Formula $\mathcal{L}\cup\left\{ R\right\} $
\end_inset

-embedding
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset

 
\begin_inset Formula $\gamma$
\end_inset

 es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $R$
\end_inset

 es existencial definible
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{algorithmic}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Definibilidad existencial-positiva
\end_layout

\begin_layout Standard
Por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad existencial positiva"

\end_inset

, luego de aplicar el Algoritmo 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:preprocesamiento"

\end_inset

 de preprocesamiento, solo basta con revisar los homomorfismos cada par
 
\begin_inset Formula $\mathbf{A},\mathbf{B}\in\mathcal{K}$
\end_inset

, como hacemos en el Algoritmo 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:constelacion existencial positiva"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float algorithm
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Chequeo de definibilidad existencial-positiva
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "alg:constelacion existencial positiva"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{algorithmic}[1]
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B}\in\mathcal{K}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\alpha\in\textrm{Hom}(\mathbf{A}_{\mathcal{L}},\mathbf{B}_{\mathcal{L}})$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $h$
\end_inset

 no preserva 
\begin_inset Formula $R$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $h$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset

 
\begin_inset Formula $h$
\end_inset

 es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $R$
\end_inset

 es existencial positiva definible
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{algorithmic}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Definibilidad de primer orden
\end_layout

\begin_layout Standard
Por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibiliad de primer orden"

\end_inset

, luego de haber aplicado el Algoritmo 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:preprocesamiento"

\end_inset

 para preprocesamiento, solo basta con revisar los automorfismos para 
\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

, como hacemos en el Algoritmo 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:constelacion primer orden"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Chequeo de definibilidad de primer orden
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "alg:constelacion primer orden"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{algorithmic}[1]
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\alpha\in\textrm{Aut}(\mathbf{A}_{\mathcal{L}})$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\alpha$
\end_inset

 no es un 
\begin_inset Formula $\mathcal{L}\cup\left\{ R\right\} $
\end_inset

-automorfismo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\alpha$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\alpha$
\end_inset

 es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $R$
\end_inset

 es definible en primer orden
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{algorithmic}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Detección de homomorfismos
\end_layout

\begin_layout Standard
Para la detección de homomorfismos modelizamos el problema como un CSP,
 y utilizamos Minion 
\begin_inset CommandInset citation
LatexCommand cite
key "minion"

\end_inset

 como solucionador.
\end_layout

\begin_layout Subsection
CSP
\end_layout

\begin_layout Standard
Un CSP 
\lang english
(Constraint Satisfaction Problem)
\lang spanish
 (ver, e.g., 
\begin_inset CommandInset citation
LatexCommand citep
after "Capítulo 6"
key "russell2010artificial"

\end_inset

) es definido como una terna 
\begin_inset Formula $\left\langle X,D,C\right\rangle $
\end_inset

, donde 
\begin_inset Formula 
\[
X=\{X_{1},\ldots,X_{n}\}\textnormal{ es un conjunto de variables}
\]

\end_inset


\begin_inset Formula 
\[
D=\{D_{1},\ldots,D_{n}\}\textnormal{ es un conjunto con los respectivos dominios de los valores}
\]

\end_inset


\begin_inset Formula 
\[
C=\{C_{1},\ldots,C_{m}\}\textnormal{ es un conjunto de restricciones}
\]

\end_inset


\end_layout

\begin_layout Standard
Cada variable 
\begin_inset Formula $X_{i}$
\end_inset

 se mueve en los valores del respectivo dominio no vacío 
\begin_inset Formula $D_{i}$
\end_inset

.
 Cada restricción 
\begin_inset Formula $C_{j}\in C$
\end_inset

 es un par 
\begin_inset Formula $\left\langle t_{j},R_{j}\right\rangle $
\end_inset

, donde 
\begin_inset Formula $t_{j}$
\end_inset

 es una 
\begin_inset Formula $k$
\end_inset

-upla de variables y 
\begin_inset Formula $R_{j}$
\end_inset

 es una relación 
\begin_inset Formula $k$
\end_inset

-aria en el correspondiente dominio de cada variable.
 Una valuación sobre las variables es una función desde un subconjunto de
 las variables a un particular conjunto de valores en los correspondientes
 dominios de valores.
 Una valuación 
\begin_inset Formula $v$
\end_inset

 satisface la restricción 
\begin_inset Formula $\langle t_{j},R_{j}\rangle$
\end_inset

 si los valores asignados a las variables 
\begin_inset Formula $t_{j}$
\end_inset

 satisfacen la relación 
\begin_inset Formula $R_{j}$
\end_inset

.
\end_layout

\begin_layout Standard
Una valuación es consistente si no viola ninguna de las restricciones.
 Una valuación es completa si incluye todas las variables.
 Una valuación es solución si es consistente y completa.
 En ese caso diremos que la valuación resuelve el CSP.
\end_layout

\begin_layout Standard

\end_layout

\begin_layout Subsection
CSP para calcular homomorfismos
\end_layout

\begin_layout Standard
Sean 
\begin_inset Formula $\mathbf{A}$
\end_inset

,
\begin_inset Formula $\mathbf{B}$
\end_inset

 
\begin_inset Formula $\mathcal{L}$
\end_inset

-estructuras, queremos encontrar homomorfismos de 
\begin_inset Formula $\mathbf{A}$
\end_inset

 en 
\begin_inset Formula $\mathbf{B}$
\end_inset

 resolviendo una instancia de CSP.
 Tomamos 
\begin_inset Formula 
\[
X=\left\{ X_{i}:i\in A\right\} 
\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
D_{i}=B
\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
C=C^{R}\cup C^{f}
\]

\end_inset

donde 
\begin_inset Formula $C^{R}$
\end_inset

 es tal que para cada 
\begin_inset Formula $R\in\mathcal{L}$
\end_inset

 n-aria, para cada 
\begin_inset Formula $\left(\enumeracion[][a]\right)\in R^{\mathbf{A}}$
\end_inset

, se da que 
\begin_inset Formula $\left(\left(\enumeracion[a_{n}][X][a_{1}]\right),R^{\mathbf{B}}\right)\in C^{R}$
\end_inset

 y 
\begin_inset Formula $C^{f}$
\end_inset

 es tal que para cada 
\begin_inset Formula $f\in\mathcal{L}$
\end_inset

 n-aria, para cada 
\begin_inset Formula $\left(\enumeracion[][a],a'\right)\in\grafico{f^{\mathbf{A}}}$
\end_inset

, se da que 
\begin_inset Formula $\left(\left(\enumeracion[a_{n}][X][a_{1}],X_{a'}\right),\grafico{f^{\mathbf{B}}}\right)\in C^{f}$
\end_inset

.
\end_layout

\begin_layout Standard
Supongamos que 
\begin_inset Formula $\funcion[V]XB$
\end_inset

 es una valuación solución de 
\begin_inset Formula $\left(X,D,C\right)$
\end_inset

, entonces el homomorfismo 
\begin_inset Formula $\gamma$
\end_inset

 determinado por 
\begin_inset Formula $V$
\end_inset

 será 
\begin_inset Formula $\gamma(a)=V(X_{a})$
\end_inset

.
\end_layout

\begin_layout Standard
Si además quisiéramos que el homomorfismo fuera inyectivo, bastaría con
 agregar una restricción: 
\begin_inset Formula 
\[
\left(\left(\enumeracion[m][X]\right),\textnormal{para todo }\left(i,j\right)\textnormal{ con }i\neq j\textnormal{ y }i,j\in\left\{ 1,\dots,m\right\} \textnormal{ se da }X_{i}\neq X_{j}\right)
\]

\end_inset

donde 
\begin_inset Formula $\enumeracion[m][X]$
\end_inset

 son todas las variables en 
\begin_inset Formula $X$
\end_inset

.
\end_layout

\begin_layout Standard
Para que fuera sobreyectivo bastaría agregar la siguiente restricción: 
\begin_inset Formula 
\[
\left(\left(\enumeracion[m][X]\right),\bigcup_{i=1}^{m}\left\{ X_{i}\right\} =B\right)
\]

\end_inset


\end_layout

\begin_layout Standard
En el caso particular de la búsqueda de automorfismos, el lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:endo inyectivo es automorfismo"

\end_inset

 nos permite simplificar la búsqueda, encontrando endomorfismos inyectivos.
\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "lem:endo inyectivo es automorfismo"

\end_inset

Sea 
\begin_inset Formula $\mathbf{A}$
\end_inset

 una estructura finita, entonces todo endomorfismo inyectivo de 
\begin_inset Formula $\mathbf{A}$
\end_inset

 es un automorfismo de 
\begin_inset Formula $\mathbf{A}$
\end_inset

.
\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $\gamma$
\end_inset

 un endomorfismo inyectivo de 
\begin_inset Formula $\mathbf{A}$
\end_inset

.
 Como 
\begin_inset Formula $A$
\end_inset

 es finito tenemos que 
\begin_inset Formula $\gamma$
\end_inset

 es sobre y además 
\begin_inset Formula $\gamma^{-1}=\gamma^{k}$
\end_inset

 para algún 
\begin_inset Formula $k\geq1$
\end_inset

.
\end_layout

\begin_layout Section
Generación de subestructuras
\end_layout

\begin_layout Standard
Dada una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-estructura 
\begin_inset Formula $\mathbf{A}$
\end_inset

, generamos sus subestructuras recorriendo 
\begin_inset Formula $\partes A$
\end_inset

, desde la mayor a la menor cardinalidad filtrando aquellos 
\begin_inset Formula $A_{0}\in\partes A$
\end_inset

 que no son cerrados bajo 
\begin_inset Formula $\mathcal{L}$
\end_inset

.
\end_layout

\begin_layout Standard
Además cuando detectamos que una subestructura 
\begin_inset Formula $\mathbf{A}_{0}$
\end_inset

 ya tiene representante en 
\begin_inset Formula $\mathcal{S}$
\end_inset

 durante nuestros algoritmos, disminuimos los subconjuntos a chequear, revisando
 solo 
\begin_inset Formula $\partes A-\partes{A_{0}}$
\end_inset

, ya que si 
\begin_inset Formula $\mathbf{A}_{0}$
\end_inset

 tiene representante en 
\begin_inset Formula $\mathcal{S}$
\end_inset

, entonces cada subestructura de 
\begin_inset Formula $\mathbf{A}_{0}$
\end_inset

 tiene representante en 
\begin_inset Formula $\mathcal{S}$
\end_inset

.
\end_layout

\begin_layout Standard

\end_layout

\begin_layout Chapter
Álgebras de Lindenbaum
\begin_inset CommandInset label
LatexCommand label
name "chap:Álgebras-de-Lindenbaum"

\end_inset


\end_layout

\begin_layout Standard
En este capítulo desarrollamos algoritmos para generar el álgebra de relaciones
 definibles para una estructura dada.
 Esto nos permite calcular todas las relaciones definibles sobre una estructura,
 para una cierta aridad y en un cierto fragmento de primer orden.
\end_layout

\begin_layout Section
Definiciones e ideas básicas
\end_layout

\begin_layout Standard
Primero introducimos la notación que utilizaremos para referirnos a cada
 fragmento de primer orden.
\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
\primerorden{\mathcal{L}}=\{\varphi:\varphi\textnormal{ es una \textnormal{\ensuremath{\mathcal{L}}-fórmula}}\},
\]

\end_inset


\begin_inset Formula 
\[
\abiertas{\mathcal{L}}=\{\varphi:\varphi\textnormal{ es una \textnormal{\ensuremath{\mathcal{L}}-fórmula abierta}}\},
\]

\end_inset


\begin_inset Formula 
\[
\abiertaspositivas{\mathcal{L}}=\{\varphi:\varphi\textnormal{ es una \textnormal{\ensuremath{\mathcal{L}}-fórmula abierta positiva}}\},
\]

\end_inset


\begin_inset Formula 
\[
\existenciales{\mathcal{L}}=\{\varphi:\varphi\textnormal{ es una \textnormal{\ensuremath{\mathcal{L}}-fórmula existencial}}\},
\]

\end_inset


\begin_inset Formula 
\[
\existencialespositivas{\mathcal{L}}=\{\varphi:\varphi\textnormal{ es una \textnormal{\ensuremath{\mathcal{L}}-fórmula existencial positiva}}\}.
\]

\end_inset


\end_layout

\begin_layout Standard
Sea 
\begin_inset Formula $\mathbf{A}$
\end_inset

 una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-estructura, y sea
\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
\Sigma\in\left\{ \primerorden{\mathcal{L}},\existenciales{\mathcal{L}},\existencialespositivas{\mathcal{L}},\abiertas{\mathcal{L}},\abiertaspositivas{\mathcal{L}}\right\} .
\]

\end_inset

Notar que la colección de relaciones 
\begin_inset Formula $n$
\end_inset

-arias definibles en 
\begin_inset Formula $\mathbf{A}$
\end_inset

 por fórmulas en 
\begin_inset Formula $\Sigma$
\end_inset

 es cerrada bajo uniones e intersecciones (y también bajo complementación
 cuando 
\begin_inset Formula $\Sigma\in\left\{ \primerorden{\mathcal{L}},\abiertas{\mathcal{L}}\right\} $
\end_inset

).
 Llamaremos 
\emph on
Álgebra de Lindenbaum
\emph default
 (de relaciones 
\begin_inset Formula $n$
\end_inset

-arias definibles por 
\begin_inset Formula $\Sigma$
\end_inset

 en 
\begin_inset Formula $\mathbf{A}$
\end_inset

) al reticulado distributivo (o álgebra de Boole) resultante.
 Utilizaremos la siguiente notación:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\mathbf{Fo}_{n}(\mathbf{A})=$
\end_inset

 Álgebra de Boole de relaciones n-arias definibles en 
\begin_inset Formula $\mathbf{A}$
\end_inset

,
\end_layout

\begin_layout Itemize
\begin_inset Formula $\mathbf{E}_{n}(\mathbf{A})=$
\end_inset

 Reticulado de relaciones n-arias definibles por existenciales en 
\begin_inset Formula $\mathbf{A}$
\end_inset

,
\end_layout

\begin_layout Itemize
\begin_inset Formula $\mathbf{E}_{n}^{+}(\mathbf{A})=$
\end_inset

 Reticulado de relaciones n-arias definibles por existenciales positivas
 en 
\begin_inset Formula $\mathbf{A}$
\end_inset

,
\end_layout

\begin_layout Itemize
\begin_inset Formula $\mathbf{Op}_{n}(\mathbf{A})=$
\end_inset

 Álgebra de Boole de relaciones n-arias definibles por abiertas en 
\begin_inset Formula $\mathbf{A}$
\end_inset

,
\end_layout

\begin_layout Itemize
\begin_inset Formula $\mathbf{Op}_{n}^{+}(\mathbf{A})=$
\end_inset

 Reticulado de relaciones n-arias definibles por abiertas positivas en 
\begin_inset Formula $\mathbf{A}$
\end_inset


\end_layout

\begin_layout Standard
Definimos:
\begin_inset Formula 
\[
\subhom{\mathbf{A}}=\left\{ \gamma:\gamma\textnormal{ homomorfismo de }\mathbf{A}_{0}\textnormal{ en }\mathbf{B}_{0}\textnormal{ con }\mathbf{A}_{0},\mathbf{B}_{0}\in\subestr{\mathbf{A}}\right\} 
\]

\end_inset


\begin_inset Formula 
\[
\subiso{\mathbf{A}}=\left\{ \gamma:\gamma\textnormal{ isomorfismo de }\mathbf{A}_{0}\textnormal{ en }\mathbf{B}_{0}\textnormal{ con }\mathbf{A}_{0},\mathbf{B}_{0}\in\subestr{\mathbf{A}}\right\} 
\]

\end_inset


\end_layout

\begin_layout Standard
Dado que estas álgebras podrían ser muy grandes utilizamos los siguientes
 resultados para representarlas mediante un subconjunto de sus elementos.
\end_layout

\begin_layout Theorem
\begin_inset Argument 1
status open

\begin_layout Plain Layout
Teorema de representación de Stone
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "thm:representacion de stone, algebras de boole"

\end_inset

 Toda álgebra de Boole finita 
\begin_inset Formula $\mathbf{A}$
\end_inset

 es isomorfa al álgebra definida por 
\begin_inset Formula $\partes{At}$
\end_inset

 donde 
\begin_inset Formula $At\subseteq A$
\end_inset

 es el conjunto de átomos en 
\begin_inset Formula $\mathbf{A}$
\end_inset

.
\end_layout

\begin_layout --Separator--

\end_layout

\begin_layout Theorem
\begin_inset Argument 1
status open

\begin_layout Plain Layout
Teorema de representación de Birkhoff
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "thm:representacion de birkhoff, reticulados"

\end_inset

 Todo reticulado distributivo finito 
\begin_inset Formula $\mathbf{L}$
\end_inset

 es isomorfo al reticulado de conjuntos descendientes del poset de elementos
 join-irreducibles en 
\begin_inset Formula $\mathbf{L}$
\end_inset

.
\end_layout

\begin_layout --Separator--

\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
Cambie 
\begin_inset Quotes fld
\end_inset

si hay 
\begin_inset Formula $\bar{a}\in r$
\end_inset


\begin_inset Quotes frd
\end_inset

 por 
\begin_inset Quotes fld
\end_inset

si hay 
\begin_inset Formula $\bar{a}\in A^{n}$
\end_inset


\begin_inset Quotes frd
\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "lem:atomo sii ji"

\end_inset

Dada un álgebra de Boole finita 
\begin_inset Formula $\mathbf{A}$
\end_inset

, un elemento es un átomo sii es join-irreducible.
\end_layout

\begin_layout --Separator--

\end_layout

\begin_layout Standard
Los resultados anteriores nos permiten centrarnos únicamente en los elementos
 join-irreducibles de estas álgebras.
 Mientras que los Lemas 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:ji sii uno generado abiertas"

\end_inset

 y 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:ji sii uno generado abiertas positivas"

\end_inset

, presentados a continuación, sugieren una manera clara de calcularlos.
\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "lem:ji sii uno generado abiertas"

\end_inset

Una relación 
\begin_inset Formula $r\subseteq A^{n}$
\end_inset

 es join-irreducible en 
\begin_inset Formula $\mathbf{Op}(\mathbf{A})$
\end_inset

 sii hay 
\begin_inset Formula $\bar{a}\in A^{n}$
\end_inset

 tal que 
\begin_inset Formula $r=\{h(\bar{a}):h\in\subiso{\mathbf{A}}\}$
\end_inset

.
\end_layout

\begin_layout Proof
Supongamos que 
\begin_inset Formula $r\subseteq A^{n}$
\end_inset

 es join-irreducible en 
\begin_inset Formula $\mathbf{Op}(\mathbf{A})$
\end_inset

.
 Como 
\begin_inset Formula $r$
\end_inset

 es cerrado bajo 
\begin_inset Formula $\subiso{\mathbf{A}}$
\end_inset

 por pertenecer a 
\begin_inset Formula $\mathbf{Op}(\mathbf{A})$
\end_inset

, es claro que 
\begin_inset Formula 
\[
r=\bigcup_{\bar{x}\in r}\left\{ h\left(\bar{x}\right):h\in\subiso{\mathbf{A}}\right\} ,
\]

\end_inset

pero como 
\begin_inset Formula $r$
\end_inset

 es join-irreducible hay una 
\begin_inset Formula $\bar{a}\in r$
\end_inset

 tal que 
\begin_inset Formula $r=\left\{ h\left(\bar{a}\right):h\in\subiso{\mathbf{A}}\right\} $
\end_inset

.
\end_layout

\begin_layout Proof
Supongamos que 
\begin_inset Formula $r=\left\{ h\left(\bar{a}\right):h\in\subiso{\mathbf{A}}\right\} $
\end_inset

 para algún 
\begin_inset Formula $\bar{a}\in A^{n}$
\end_inset

.
 Sean 
\begin_inset Formula $\enumeracion[m][r]\in\mathbf{Op}(\mathbf{A})$
\end_inset

 tales que 
\begin_inset Formula 
\[
r=r_{1}\cup\dots\cup r_{m},
\]

\end_inset

es claro que hay un 
\begin_inset Formula $r_{j}$
\end_inset

 tal que 
\begin_inset Formula $\bar{a}\in r_{j}$
\end_inset

.
 Además como 
\begin_inset Formula $r_{j}$
\end_inset

 es cerrado bajo 
\begin_inset Formula $\subiso{\mathbf{A}}$
\end_inset

 por pertenecer a 
\begin_inset Formula $\mathbf{Op}(\mathbf{A})$
\end_inset

, luego 
\begin_inset Formula $r=r_{j}$
\end_inset

.
\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "lem:ji sii uno generado abiertas positivas"

\end_inset

Una relación 
\begin_inset Formula $r\subseteq A^{n}$
\end_inset

 es join-irreducible en 
\begin_inset Formula $\mathbf{Op}^{+}(\mathbf{A})$
\end_inset

 sii hay 
\begin_inset Formula $\bar{a}\in A^{n}$
\end_inset

 tal que 
\begin_inset Formula $r=\{h(\bar{a}):h\in\subhom{\mathbf{A}}\}$
\end_inset

.
\end_layout

\begin_layout Proof
Igual a la del Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:ji sii uno generado abiertas"

\end_inset


\end_layout

\begin_layout Section
Algoritmos
\end_layout

\begin_layout Standard
Con la intención de simplificar la exposición, supondremos que 
\begin_inset Formula $\mathcal{K}$
\end_inset

 tiene una única estructura 
\begin_inset Formula $\mathbf{A}$
\end_inset

.
 La generalización es fácilmente deducible ya que los algoritmos son casi
 iguales a los presentados en el Capítulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:algoritmos de chequeo"

\end_inset

.
\end_layout

\begin_layout Standard
Como un álgebra de Lindenbaum de relaciones definibles puede llegar a ser
 un objeto muy grande y difícil de manipular, nos basta generar los elementos
 join-irreducibles del álgebra según los Teoremas 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:representacion de stone, algebras de boole"

\end_inset

 y 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:representacion de birkhoff, reticulados"

\end_inset

 ya que por el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:atomo sii ji"

\end_inset

, los átomos de un álgebra de Boole son exactamente los elementos join-irreducib
les.
\end_layout

\begin_layout Standard
Para generar los elementos join-irreducibles del álgebra de Lindenbaum de
 relaciones de ancho 
\begin_inset Formula $n$
\end_inset

 definibles por abiertas en 
\begin_inset Formula $\mathbf{A}$
\end_inset

, basta con obtener el conjunto 
\begin_inset Formula $\mathcal{F}$
\end_inset

 de morfismos que se chequean por preservación en los algoritmos del Capítulo
 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:algoritmos de chequeo"

\end_inset

.
 Como 
\begin_inset Formula $\mathcal{F}$
\end_inset

 genera 
\begin_inset Formula $\subiso{\mathbf{A}}$
\end_inset

 por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta"

\end_inset

, basta calcular 
\begin_inset Formula $\{h(\bar{a}):h\in\mathcal{F}\}$
\end_inset

 para cada 
\begin_inset Formula $\bar{a}\in A^{n}$
\end_inset

, ya que por el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:ji sii uno generado abiertas"

\end_inset

, todos los elementos join-irreducibles son de esta forma.
 De la misma manera podemos construir el álgebra de Lindenbaum de relaciones
 de ancho 
\begin_inset Formula $n$
\end_inset

 definibles por abiertas positivas en 
\begin_inset Formula $\mathbf{A}$
\end_inset

, basándonos en el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta positiva"

\end_inset

 y en el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:ji sii uno generado abiertas positivas"

\end_inset

.
\end_layout

\begin_layout Standard
Los algoritmos 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:construccion algebra abierta"

\end_inset

 y 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:construccion algebra abierta positiva"

\end_inset

, generan los conjuntos 
\begin_inset Formula $\mathcal{F}$
\end_inset

 y 
\begin_inset Formula $\mathcal{H}$
\end_inset

 definidos por los Teoremas 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta"

\end_inset

 y 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta positiva"

\end_inset

.
 Notar que los algoritmos son modificaciones de los algoritmos para chequeo
 vistos en el Capítulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:algoritmos de chequeo"

\end_inset

, solo que ahora devuelven el conjunto de morfismos que antes chequeaban.
 Las subrutinas 
\family typewriter
buscarIsos
\family default
 y 
\family typewriter
buscarBihomos
\family default
 son análogas a las funciones 
\family typewriter
chequearIsos
\family default
 y 
\family typewriter
chequearBihomos
\family default
 de los Algoritmos 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:constelacion abierta"

\end_inset

 y 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:constelacion existencial positiva"

\end_inset

.
 La función 
\family typewriter
buscarIsos
\family default
 devuelve el isomorfismo que hubiera chequeado la función chequearIsos y
 si no hay isomorfismo devuelve 
\family typewriter
Null
\family default
.
 La función 
\family typewriter
buscarBihomos
\family default
 devuelve el isomorfismo y una lista de homomorfismos biyectivos que son
 los que hubiera chequeado por preservación la función 
\family typewriter
chequearBihomos
\family default
.
\end_layout

\begin_layout Standard
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Saturación por un conjunto de morfismos 
\begin_inset Formula $\mathcal{E}$
\end_inset


\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "alg:construccion algebra saturacion"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{algorithmic}[1]
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{A}=\emptyset$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\bar{a}\in A^{n}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{A}=\mathcal{A}\cup\{$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Call{
\end_layout

\end_inset

clausura
\begin_inset ERT
status open

\begin_layout Plain Layout

}{
\end_layout

\end_inset


\begin_inset Formula $\bar{a},\mathcal{E}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset Formula $\}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\mathcal{A}$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset

 devuelve el álgebra
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Statex
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Function{
\end_layout

\end_inset

clausura
\begin_inset ERT
status open

\begin_layout Plain Layout

}{
\end_layout

\end_inset


\begin_inset Formula $\bar{a},\mathcal{E}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $e=\left\{ \bar{a}\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
While{
\end_layout

\end_inset


\begin_inset Formula $e$
\end_inset

 crezca
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\bar{a}\in e$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\gamma\in\mathcal{E}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $e=e\cup\left\{ \gamma\left(\bar{b}\right)\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndWhile
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $e$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFunction
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{algorithmic}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Construcción de 
\begin_inset Formula $\mathcal{F}$
\end_inset

 como en el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta"

\end_inset


\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "alg:construccion algebra abierta"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{algorithmic}[1]
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{S}=\emptyset$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{F}=\emptyset$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $Sub=\left[\mathbf{C}:\mathbf{C}\in\subestr{\mathbf{A}_{\mathcal{L}}},\textnormal{ de la mayor a menor cardinalidad}\right]$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B}\in Sub$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $iso=$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Call{
\end_layout

\end_inset

buscarIsos
\begin_inset ERT
status open

\begin_layout Plain Layout

}{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B},\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $iso\neq$
\end_inset

 
\family typewriter
Null
\family default

\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{F}=\mathcal{F}\cup\left\{ iso\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $Sub=\left[\mathbf{C}:\mathbf{C}\in Sub\textnormal{ tal que }C\nsubseteq B\right]$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "lin:abierta-saco-subestructuras-2"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
Else
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{S}=\mathcal{S}\cup\left\{ \mathbf{B}\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\alpha\in\textrm{Aut}(\mathbf{B}_{\mathcal{L}})$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{F}=\mathcal{F}\cup\left\{ \alpha\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\mathcal{F}$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Statex
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Function{
\end_layout

\end_inset

buscarIsos
\begin_inset ERT
status open

\begin_layout Plain Layout

}{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B},\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{S}\in\mathcal{S}$
\end_inset

, con 
\begin_inset Formula $\left|\mathbf{B}\right|=\left|\mathbf{S}\right|$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
If{
\end_layout

\end_inset

hay 
\begin_inset Formula $\funcion[\gamma]{\mathbf{B}}{\mathbf{S}}$
\end_inset

 isomorfismo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 es isomorfismo con el representante
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\textnormal{\texttt{Null}}$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset

No tiene representante
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFunction
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{algorithmic}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float algorithm
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Construcción de 
\begin_inset Formula $\mathcal{H}$
\end_inset

 como en el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta positiva"

\end_inset


\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "alg:construccion algebra abierta positiva"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{algorithmic}[1]
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{S}=\emptyset$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{H}=\emptyset$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $Sub=\left[\mathbf{C}:\mathbf{C}\in\subestr{\mathbf{A}_{\mathcal{L}}},\textnormal{ de la mayor a menor cardinalidad}\right]$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B}\in Sub$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\left(iso,\mathcal{H}_{0}\right)=$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Call{
\end_layout

\end_inset

buscarBihomos
\begin_inset ERT
status open

\begin_layout Plain Layout

}{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B},\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{H}=\mathcal{H}\cup\mathcal{H}_{0}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $iso\neq\textnormal{\texttt{Null}}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{H}=\mathcal{H}\cup\left\{ iso\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $Sub=\left[\mathbf{C}:\mathbf{C}\in Sub\textnormal{ tal que }C\nsubseteq B\right]$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "lin:abierta-saco-subestructuras-1-1"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
Else
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{S}=\mathcal{S}\cup\left\{ \mathbf{B}\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\alpha\in\textrm{Aut}(\mathbf{B}_{\mathcal{L}})$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{H}=\mathcal{H}\cup\left\{ \alpha\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}\in\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B}\in\mathcal{S}$
\end_inset

, con 
\begin_inset Formula $\left|\mathbf{B}\right|<\left|\mathbf{A}\right|$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\funcion[\gamma]{\mathbf{A}}{\mathbf{B}}$
\end_inset

 con 
\begin_inset Formula $\gamma$
\end_inset

 homomorfismo sobreyectivo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{H}=\mathcal{H}\cup\left\{ \gamma\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset

 
\begin_inset Formula $\mathcal{H}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Statex
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Function{
\end_layout

\end_inset

buscarBihomos
\begin_inset ERT
status open

\begin_layout Plain Layout

}{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B},\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{H}_{0}=\emptyset$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{S}\in\mathcal{S}$
\end_inset

, con 
\begin_inset Formula $\left|\mathbf{B}\right|=\left|\mathbf{S}\right|$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $bihomo=\texttt{False}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\funcion[\gamma]{\mathbf{B}}{\mathbf{S}}$
\end_inset

 con 
\begin_inset Formula $\gamma$
\end_inset

 homomorfismo biyectivo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $bihomo=\texttt{True}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 es un 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfismo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\left(\gamma,\emptyset\right)$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 es isomorfismo con el representante
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
Else
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{H}_{0}=\mathcal{H}_{0}\cup\left\{ \gamma\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\lnot bihomo$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\funcion[\gamma]{\mathbf{S}}{\mathbf{B}}$
\end_inset

 con 
\begin_inset Formula $\gamma$
\end_inset

 homomorfismo biyectivo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{H}_{0}=\mathcal{H}_{0}\cup\left\{ \gamma\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\left(\textnormal{\texttt{Null}},\mathcal{H}_{0}\right)$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset

No tiene representante
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFunction
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{algorithmic}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Una vez calculado el conjunto de morfismos 
\begin_inset Formula $\mathcal{E}$
\end_inset

 basta con calcular 
\begin_inset Formula $\{h(\bar{a}):h\in\mathcal{E}\}$
\end_inset

 para cada 
\begin_inset Formula $\bar{a}\in A^{n}$
\end_inset

, ya que 
\begin_inset Formula $\mathcal{E}$
\end_inset

 genera al conjunto correspondiente al tipo de definibilidad.
 Esto lo hacemos con el Algoritmo 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:construccion algebra saturacion"

\end_inset

, lo cual ya nos da los elementos join-irreducibles o los átomos, según
 el tipo de definibilidad en cuestión.
\end_layout

\begin_layout Standard
Para los demás tipos de definibilidad, el procedimiento seria análogo.
 Generar el conjunto de morfismos 
\begin_inset Formula $\mathcal{E}$
\end_inset

 basados en los algoritmos del capítulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:algoritmos de chequeo"

\end_inset

 y saturar según el Algoritmo 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:construccion algebra saturacion"

\end_inset

.
\end_layout

\begin_layout Section
Ejemplos y aplicación
\end_layout

\begin_layout Standard
En esta sección mostramos cómo la utilización del paquete permitió conjeturar
 una caracterización de las relaciones binarias definibles por existenciales
 positivas en reticulados distributivos.
\end_layout

\begin_layout Subsection
Utilizando el paquete 
\emph on
Definability
\emph default
 para SageMath
\end_layout

\begin_layout Standard
A manera de prueba de las herramientas utilizamos 
\emph on
Definability
\emph default
 para recorrer todas las relaciones binarias definibles en el reticulado
 
\begin_inset Formula $\mathbf{2}\times\mathbf{2}$
\end_inset

, representado en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig: reticulado 2x2"

\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center

\lang english
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=1.0cm,y=1.0cm]
 
\backslash
clip(-3.14,-0.61) rectangle (3.01,2.56); 
\backslash
draw (-1,1)-- (0,2); 
\backslash
draw (0,2)-- (1,1); 
\backslash
draw (1,1)-- (0,0); 
\backslash
draw (0,0)-- (-1,1); 
\backslash
begin{scriptsize} 
\backslash
fill [color=black] (0,0) circle (1.5pt); 
\backslash
draw[color=black] (0.01,-0.17) node {0}; 
\backslash
fill [color=black] (1,1) circle (1.5pt); 
\backslash
draw[color=black] (1.15,1.02) node {3}; 
\backslash
fill [color=black] (-1,1) circle (1.5pt); 
\backslash
draw[color=black] (-1.15,1.01) node {2}; 
\backslash
fill [color=black] (0,2) circle (1.5pt); 
\backslash
draw[color=black] (0.01,2.14) node {1}; 
\backslash
end{scriptsize} 
\backslash
end{tikzpicture}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Reticulado 
\begin_inset Formula $\mathbf{2}\times\mathbf{2}$
\end_inset


\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig: reticulado 2x2"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Al correr el algoritmo de generación de los elementos join-irreducibles
 de 
\begin_inset Formula $\mathbf{E}_{2}\left(\mathbf{2}\times\mathbf{2}\right)$
\end_inset

, 
\emph on
Definability
\emph default
 nos devolvió las siguientes relaciones:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(0,0\right)\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(0,1\right)\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(0,2\right),\left(0,3\right)\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(1,0\right)\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(1,1\right)\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(1,2\right),\left(1,3\right)\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(2,0\right),\left(3,0\right)\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(2,1\right),\left(3,1\right)\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(2,2\right),\left(3,3\right)\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(2,3\right),\left(3,2\right)\right\} $
\end_inset


\end_layout

\begin_layout Standard
Aquí se puede notar las ventajas de utilizar el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:representacion de birkhoff, reticulados"

\end_inset

, ya que el reticulado descripto por estos 10 elementos (representado en
 la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:ret 1024"

\end_inset

) tiene cardinalidad 
\begin_inset Formula $2^{10}=1024$
\end_inset

, ya que son todas las uniones entre elementos join-irreducibles.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=1.0cm,y=1.0cm]
 
\backslash
clip(-0.96,-4.53) rectangle (10.93,1.61); 
\backslash
draw (0.5,-2)-- (4.98,-4); 
\backslash
draw (1.5,-2)-- (4.98,-4); 
\backslash
draw (2.5,-2)-- (4.98,-4); 
\backslash
draw (3.5,-2)-- (4.98,-4); 
\backslash
draw (4.5,-2)-- (4.98,-4); 
\backslash
draw (5.5,-2)-- (4.98,-4); 
\backslash
draw (6.5,-2)-- (4.98,-4); 
\backslash
draw (7.5,-2)-- (4.98,-4); 
\backslash
draw (8.5,-2)-- (4.98,-4); 
\backslash
draw (9.5,-2)-- (4.98,-4); 
\backslash
draw (1.76,-0.53) node[anchor=north west] {$
\backslash
iddots$}; 
\backslash
draw (8.09,-0.58) node[anchor=north west] {$
\backslash
ddots$}; 
\backslash
draw (4.9,-0.32) node[anchor=north west] {$
\backslash
vdots$}; 
\backslash
draw (5,1)-- (4.4,0.6); 
\backslash
draw (4.5,0.6)-- (5,1); 
\backslash
draw (4.6,0.6)-- (5,1); 
\backslash
draw (4.7,0.6)-- (5,1); 
\backslash
draw (4.8,0.6)-- (5,1); 
\backslash
draw (4.9,0.6)-- (5,1); 
\backslash
draw (5,0.6)-- (5,1); 
\backslash
draw (5.1,0.6)-- (5,1); 
\backslash
draw (5.2,0.6)-- (5,1); 
\backslash
draw (5.3,0.6)-- (5,1); 
\backslash
draw (5.4,0.6)-- (5,1); 
\backslash
draw (5.5,0.6)-- (5,1); 
\backslash
draw (5.6,0.6)-- (5,1); 
\backslash
begin{scriptsize} 
\backslash
fill [color=black] (0.5,-2) circle (1.5pt); 
\backslash
fill [color=black] (1.5,-2) circle (1.5pt); 
\backslash
fill [color=black] (2.5,-2) circle (1.5pt); 
\backslash
fill [color=black] (3.5,-2) circle (1.5pt); 
\backslash
fill [color=black] (4.5,-2) circle (1.5pt); 
\backslash
fill [color=black] (5.5,-2) circle (1.5pt); 
\backslash
fill [color=black] (6.5,-2) circle (1.5pt); 
\backslash
fill [color=black] (7.5,-2) circle (1.5pt); 
\backslash
fill [color=black] (8.5,-2) circle (1.5pt); 
\backslash
fill [color=black] (9.5,-2) circle (1.5pt); 
\backslash
fill [color=black] (4.98,-4) circle (1.5pt); 
\backslash
draw[color=black] (5.04,-4.3) node {$
\backslash
emptyset$}; 
\backslash
fill [color=black] (5,1) circle (1.5pt); 
\backslash
draw[color=black] (5.02,1.14) node {$L
\backslash
times L$}; 
\backslash
end{scriptsize} 
\backslash
end{tikzpicture}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Reticulado 
\begin_inset Formula $\mathbf{E}_{2}\left(\mathbf{2}\times\mathbf{2}\right)$
\end_inset


\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:ret 1024"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
En cuanto a los elementos join-irreducibles de 
\begin_inset Formula $\mathbf{E}_{2}^{+}\left(\mathbf{2}\times\mathbf{2}\right)$
\end_inset

 nos devolvió:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(0,0\right),\left(1,1\right),\left(2,2\right),\left(3,3\right)\right\} $
\end_inset

 
\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(0,0\right),\left(0,1\right),\left(0,2\right),\left(0,3\right),\left(1,1\right),\left(2,1\right),\left(2,2\right),\left(3,1\right),\left(3,3\right)\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(0,0\right),\left(1,0\right),\left(1,1\right),\left(1,2\right),\left(1,3\right),\left(2,0\right),\left(2,2\right),\left(3,0\right),\left(3,3\right)\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(0,0\right),\left(0,1\right),\left(0,2\right),\left(0,3\right),\dots,\left(3,0\right),\left(3,1\right),\left(3,2\right),\left(3,3\right)\right\} $
\end_inset


\end_layout

\begin_layout Standard
Las cuales pueden ser interpretadas respectivamente como:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\Delta$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(x,y\right):x\leq y\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(x,y\right):x\geq y\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $A^{2}$
\end_inset


\end_layout

\begin_layout Standard
Lo que mediante el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:representacion de birkhoff, reticulados"

\end_inset

, define un subreticulado de 
\begin_inset Formula $\mathbf{E}_{2}\left(\mathbf{2}\times\mathbf{2}\right)$
\end_inset

 anterior, mucho más pequeño, como se puede ver en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:reticulado de relaciones existenciales positivas en 2x2"

\end_inset

, donde los nodos sin rellenar son los elementos join-irreducibles devueltos
 por el paquete.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=1.0cm,y=1.0cm]
 
\backslash
clip(7.99,-5.73) rectangle (16.7,-1.24); 
\backslash
draw (12,-2)-- (12,-3); 
\backslash
draw (12,-3)-- (11,-4); 
\backslash
draw (11,-4)-- (12,-5); 
\backslash
draw (12,-5)-- (13,-4); 
\backslash
draw (13,-4)-- (12,-3); 
\backslash
begin{scriptsize} 
\backslash
draw [color=black] (12,-5) circle (2.5pt); 
\backslash
draw[color=black] (12,-5.26) node {$
\backslash
Delta$}; 
\backslash
draw [color=black] (11,-4) circle (2.5pt); 
\backslash
draw[color=black] (10.72,-4.03) node {$
\backslash
leq$}; 
\backslash
fill [color=black] (12,-3) circle (1.5pt); 
\backslash
draw[color=black] (12.64,-3.01) node {$
\backslash
leq
\backslash
cup
\backslash
geq$}; 
\backslash
draw [color=black] (13,-4) circle (2.5pt); 
\backslash
draw[color=black] (13.27,-4.03) node {$
\backslash
geq$}; 
\backslash
draw [color=black] (12,-2) circle (2.5pt); 
\backslash
draw[color=black] (12.05,-1.69) node {$A^2$}; 
\backslash
end{scriptsize} 
\backslash
end{tikzpicture}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Reticulado de relaciones binarias definibles por existenciales positivas
 en 
\begin_inset Formula $\mathbf{2}\times\mathbf{2}$
\end_inset


\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:reticulado de relaciones existenciales positivas en 2x2"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Luego probamos en el reticulado 
\begin_inset Formula $\mathbf{3}\times\mathbf{3}$
\end_inset

 representado en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig: ret 3x3"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=1.0cm,y=1.0cm]
 
\backslash
clip(-4.7,-2.49) rectangle (5.16,2.6); 
\backslash
draw (-2,0)-- (-1,1); 
\backslash
draw (-1,1)-- (0,2); 
\backslash
draw (0,2)-- (1,1); 
\backslash
draw (1,1)-- (2,0); 
\backslash
draw (2,0)-- (1,-1); 
\backslash
draw (1,-1)-- (0,-2); 
\backslash
draw (0,-2)-- (-1,-1); 
\backslash
draw (-1,-1)-- (-2,0); 
\backslash
draw (-1,1)-- (0,0); 
\backslash
draw (0,0)-- (1,-1); 
\backslash
draw (1,1)-- (0,0); 
\backslash
draw (0,0)-- (-1,-1); 
\backslash
begin{scriptsize} 
\backslash
fill [color=black] (0,0) circle (1.5pt); 
\backslash
draw[color=black] (0.01,0.28) node {5}; 
\backslash
fill [color=black] (1,1) circle (1.5pt); 
\backslash
draw[color=black] (1.17,1.2) node {8}; 
\backslash
fill [color=black] (-1,1) circle (1.5pt); 
\backslash
draw[color=black] (-1.2,1.22) node {7}; 
\backslash
fill [color=black] (0,2) circle (1.5pt); 
\backslash
draw[color=black] (0.01,2.26) node {1}; 
\backslash
fill [color=black] (0,-2) circle (1.5pt); 
\backslash
draw[color=black] (0,-2.27) node {0}; 
\backslash
fill [color=black] (-1,-1) circle (1.5pt); 
\backslash
draw[color=black] (-1.18,-1.18) node {2}; 
\backslash
fill [color=black] (1,-1) circle (1.5pt); 
\backslash
draw[color=black] (1.21,-1.2) node {3}; 
\backslash
fill [color=black] (2,0) circle (1.5pt); 
\backslash
draw[color=black] (2.28,0.03) node {6}; 
\backslash
fill [color=black] (-2,0) circle (1.5pt); 
\backslash
draw[color=black] (-2.27,0.03) node {4}; 
\backslash
end{scriptsize} 
\backslash
end{tikzpicture}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Reticulado 
\begin_inset Formula $\mathbf{3}\times\mathbf{3}$
\end_inset


\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig: ret 3x3"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Al interpretar los elementos join-irreducibles de 
\begin_inset Formula $\mathbf{E}_{2}^{+}\left(\mathbf{3}\times\mathbf{3}\right)$
\end_inset

 calculados por el paquete, nos dio nuevamente:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\Delta$
\end_inset

 
\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(x,y\right):x\leq y\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(x,y\right):x\geq y\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $A^{2}$
\end_inset


\end_layout

\begin_layout Standard
Lo que representa un reticulado isomorfo al presentado en 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:reticulado de relaciones existenciales positivas en 2x2"

\end_inset

.
 Esto nos llevo a conjeturar el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:Caracterizacion de las relaciones binarias definibles por existenciales positivas en reticulados distributivos"

\end_inset

, que probamos a continuación.
\end_layout

\begin_layout Subsection
Caracterización de las relaciones binarias definibles por existenciales
 positivas en reticulados distributivos
\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "lem:relacion existencial definible es idempotente"

\end_inset

Sea 
\begin_inset Formula $\mathbf{L}$
\end_inset

 un reticulado y 
\begin_inset Formula $R$
\end_inset

 una relación binaria no vacía sobre 
\begin_inset Formula $L$
\end_inset

 preservada por endomorfismos en 
\begin_inset Formula $\mathbf{L}$
\end_inset

.
 Entonces vale que 
\begin_inset Formula $\Delta^{L}\subseteq R$
\end_inset

.
\end_layout

\begin_layout Proof
Esto es una consecuencia directa de que para cada 
\begin_inset Formula $a\in L$
\end_inset

 la función de 
\begin_inset Formula $L$
\end_inset

 en 
\begin_inset Formula $L$
\end_inset

 que vale constantemente 
\begin_inset Formula $a$
\end_inset

 es un endomorfismo.
\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:filtro primo"

\end_inset


\begin_inset Argument 1
status open

\begin_layout Plain Layout
Teorema del filtro primo
\end_layout

\end_inset

 Sea 
\begin_inset Formula $\left\langle L,\vee,\wedge\right\rangle $
\end_inset

 un reticulado distributivo y 
\begin_inset Formula $F$
\end_inset

 un filtro.
 Supongamos 
\begin_inset Formula $x\in L-F$
\end_inset

.
 Entonces hay un filtro primo 
\begin_inset Formula $P$
\end_inset

 tal que 
\begin_inset Formula $x\notin P$
\end_inset

 y 
\begin_inset Formula $F\subseteq P$
\end_inset

.
\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "lem:relacion existencial definible incluye al mayor o igual o es la diagonal sino incluye al menor igual"

\end_inset

Sea 
\begin_inset Formula $\mathbf{L}$
\end_inset

 un reticulado distributivo y 
\begin_inset Formula $R\neq\emptyset$
\end_inset

 una relación binaria sobre 
\begin_inset Formula $L$
\end_inset

 preservada por endomorfismos en 
\begin_inset Formula $\mathbf{L}$
\end_inset

.
 Si hay 
\begin_inset Formula $(a,b)\in R$
\end_inset

 tal que 
\begin_inset Formula $a\nleq b$
\end_inset

 (respectivamente 
\begin_inset Formula $b\nleq a$
\end_inset

), entonces 
\begin_inset Formula $\{(x,y):x\geq y\}\subseteq R$
\end_inset

 (respectivamente 
\begin_inset Formula $\{(x,y):x\leq y\}\subseteq R$
\end_inset

).
\end_layout

\begin_layout Proof
Fijamos 
\begin_inset Formula $\left(a,b\right)\in R$
\end_inset

 tal que 
\begin_inset Formula $a\nleq b$
\end_inset

, y sean 
\begin_inset Formula $c,d\in L$
\end_inset

 tales que 
\begin_inset Formula $c\geq d$
\end_inset

.
 Veremos que 
\begin_inset Formula $\left(c,d\right)\in R$
\end_inset

.
 Por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:filtro primo"

\end_inset

 hay un filtro primo 
\begin_inset Formula $P$
\end_inset

 que contiene al filtro generado por 
\begin_inset Formula $a$
\end_inset

 y además 
\begin_inset Formula $b\notin P$
\end_inset

.
 Definimos 
\begin_inset Formula $h:L\rightarrow L$
\end_inset

 por 
\begin_inset Formula 
\[
h\left(x\right)=\begin{cases}
c & \textnormal{si }x\in P,\\
d & \textnormal{si }x\notin P.
\end{cases}
\]

\end_inset

 Es fácil ver que 
\begin_inset Formula $h$
\end_inset

 es un endomorfismo.
 Finalmente como 
\begin_inset Formula $\left(a,b\right)\in R$
\end_inset

 y 
\begin_inset Formula $h$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

, 
\begin_inset Formula $\left(h\left(a\right),h\left(b\right)\right)=\left(c,d\right)\in R$
\end_inset

.
\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:Caracterizacion de las relaciones binarias definibles por existenciales positivas en reticulados distributivos"

\end_inset

Sea 
\begin_inset Formula $\mathbf{L}$
\end_inset

 un reticulado distributivo y 
\begin_inset Formula $R$
\end_inset

 una relación binaria sobre 
\begin_inset Formula $L$
\end_inset

 definible por un fórmula existencial positiva en 
\begin_inset Formula $\mathbf{L}$
\end_inset

.
 Se da una de las siguientes:
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $R=\Delta$
\end_inset

,
\end_layout

\begin_layout Itemize
\begin_inset Formula $R=\{(x,y):x\leq y\}$
\end_inset

,
\end_layout

\begin_layout Itemize
\begin_inset Formula $R=\{(x,y):x\geq y\}$
\end_inset

,
\end_layout

\begin_layout Itemize
\begin_inset Formula $R=\{(x,y):x\leq y\}\cup\{(x,y):x\geq y\}$
\end_inset

,
\end_layout

\begin_layout Itemize
\begin_inset Formula $R=L\times L$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
Si 
\begin_inset Formula $R\subseteq\Delta$
\end_inset

, por el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:relacion existencial definible es idempotente"

\end_inset

 
\begin_inset Formula $R=\Delta$
\end_inset

.
 
\end_layout

\begin_layout Proof
Si 
\begin_inset Formula $R\subseteq\{(x,y):x\leq y\}$
\end_inset

, pero 
\begin_inset Formula $R\nsubseteq\Delta$
\end_inset

, hay 
\begin_inset Formula $\left(a,b\right)\in R$
\end_inset

 tales que 
\begin_inset Formula $a<b$
\end_inset

, luego 
\begin_inset Formula $a\ngeq b$
\end_inset

 y por el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:relacion existencial definible incluye al mayor o igual o es la diagonal sino incluye al menor igual"

\end_inset

 
\begin_inset Formula $R=\{(x,y):x\leq y\}$
\end_inset

.
 Análogo para 
\begin_inset Formula $R\subseteq\{(x,y):x\geq y\}$
\end_inset

.
\end_layout

\begin_layout Proof
Si 
\begin_inset Formula $R\nsubseteq\{(x,y):x\leq y\}$
\end_inset

 y 
\begin_inset Formula $R\nsubseteq\{(x,y):x\geq y\}$
\end_inset

, aplicando dos veces el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:relacion existencial definible incluye al mayor o igual o es la diagonal sino incluye al menor igual"

\end_inset

 
\begin_inset Formula $\left\{ \left(x,y\right):x\leq y\right\} \cup\left\{ \left(x,y\right):x\geq y\right\} \subseteq R$
\end_inset

.
 Si además 
\begin_inset Formula $\left(a,b\right)\in R$
\end_inset

 pero 
\begin_inset Formula $a\nleq b$
\end_inset

 y 
\begin_inset Formula $a\ngeq b$
\end_inset

, tomamos 
\begin_inset Formula $\left(c,d\right)\in R$
\end_inset

, si son comparables ya están en 
\begin_inset Formula $R$
\end_inset

 por lo anterior.
 Si son incomparables aplico dos veces el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:filtro primo"

\end_inset

 y tomamos dos filtros primos 
\begin_inset Formula $P$
\end_inset

 y 
\begin_inset Formula $Q$
\end_inset

 tales que 
\begin_inset Formula $a\in P$
\end_inset

 pero 
\begin_inset Formula $b\notin P$
\end_inset

 y 
\begin_inset Formula $b\in Q$
\end_inset

 pero 
\begin_inset Formula $a\notin Q$
\end_inset

.
 Ahora definimos la siguiente función
\begin_inset Formula 
\[
h\left(x\right)=\begin{cases}
c\vee d & \textnormal{si }x\in P\cup Q\\
c & \textnormal{si }x\in P-Q\\
d & \textnormal{si }x\in Q-P\\
c\wedge d & \textnormal{si }x\notin P\textnormal{ y }x\notin Q
\end{cases}
\]

\end_inset

 que fácilmente puede verse que es un endomorfismo.
 Por lo tanto como 
\begin_inset Formula $\left(a,b\right)\in R$
\end_inset

 y 
\begin_inset Formula $h$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

, 
\begin_inset Formula $\left(h\left(a\right),h\left(b\right)\right)=\left(c,d\right)\in R$
\end_inset

.
 Por lo tanto 
\begin_inset Formula $R=L\times L$
\end_inset

.
\end_layout

\begin_layout Chapter
Documentación de 
\emph on
Definability
\emph default

\begin_inset CommandInset label
LatexCommand label
name "chap:Documentación-de-Definability"

\end_inset

 
\end_layout

\begin_layout Standard
En este capítulo, exponemos la herramienta que desarrollamos que implementa
 los algoritmos de los Capítulos 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:algoritmos de chequeo"

\end_inset

 y 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Álgebras-de-Lindenbaum"

\end_inset

.
\end_layout

\begin_layout Section
Introducción
\end_layout

\begin_layout Standard

\emph on
Definability
\emph default
 es un paquete que desarrollamos para SageMath, un software matemático licenciad
o bajo la GPL.
 Nuestro paquete implementa los algoritmos vistos en las secciones anteriores,
 permitiendo, dada una clase de estructuras, decidir definibilidad o generar
 las álgebras de Lindenbaum de relaciones definibles.
\end_layout

\begin_layout Section
Arquitectura del paquete
\end_layout

\begin_layout Standard
Nuestro paquete se basa en parte en las librerías desarrolladas por Peter
 Jipsen para utilizar Minion, 
\lang english
Universal Algebra Calculator
\lang spanish
, Mace4 y Prover9 desde SageMath disponibles en 
\begin_inset CommandInset href
LatexCommand href
target "http://math.chapman.edu/~jipsen/sagepkg/"

\end_inset

.
\end_layout

\begin_layout Standard
El paquete se desarrolla en 
\begin_inset CommandInset href
LatexCommand href
name "https://github.com/pablogventura/definability"
target "GitHub"

\end_inset

.
\end_layout

\begin_layout Subsection
Programas externos necesarios
\end_layout

\begin_layout Standard

\emph on
Definability
\emph default
, así como SageMath han sido desarrollados en Python 2.7, por lo que necesitan
 del interprete instalado.
 El paquete se desarrolla en un repositorio Git, por lo que se necesita
 una instalación de éste para poder descargar el paquete.
 Como 
\emph on
Definability
\emph default
 es un paquete desarrollado para SageMath, se necesita de una versión funcional
 de éste sobre la cual instalar el paquete.
 Además, utiliza interfaces con otros programas.
 Particularmente utiliza Minion, y LADR (interfaz de línea de comandos de
 Prover9, Mace4, y otros programas).
 
\emph on
Definability
\emph default
 ha sido probado en versiones particulares de estos programas y no se sabe
 si funcionara en otras.
 Las versiones utilizadas son las siguientes:
\end_layout

\begin_layout Itemize
Git 2.1.4
\end_layout

\begin_layout Itemize
Python 2.7.9,
\end_layout

\begin_layout Itemize
SageMath 6.7,
\end_layout

\begin_layout Itemize
Minion 1.8,
\end_layout

\begin_layout Itemize
LADR versión de noviembre de 2009.
\end_layout

\begin_layout Standard
En la siguiente sección explicaremos nuestra motivación detrás de desarrollar
 un paquete para SageMath y en las siguientes dos secciones explicaremos
 brevemente qué hacen los programas Minion y LADR.
\end_layout

\begin_layout Subsubsection
SageMath
\end_layout

\begin_layout Standard
SageMath 
\begin_inset CommandInset citation
LatexCommand cite
key "sage"

\end_inset

 es un software matemático libre licenciado bajo la GPL, con el objetivo
 de ser una alternativa libre a Magma, Maple, Mathematica y Matlab.
 
\end_layout

\begin_layout Standard
Se trata de un software en pleno desarrollo que incluye herramientas para
 trabajar con reticulados y muchas otras estructuras algebraicas por lo
 que nos pareció interesante utilizarlo como base para nuestra herramienta.
\end_layout

\begin_layout Subsubsection
Minion
\end_layout

\begin_layout Standard
Minion 
\begin_inset CommandInset citation
LatexCommand cite
key "minion"

\end_inset

 es un solucionador de CSP, rápido y escalable respecto del incremento del
 tamaño del problema.
 Es un solucionador de propósito general con un lenguaje de entrada muy
 expresivo.
 Minion es software libre, licenciado bajo la GPL 2.
\end_layout

\begin_layout Standard
En nuestro caso utilizamos la interfaz con Minion a la hora de resolver
 nuestros CSP para buscar morfismos.
\end_layout

\begin_layout Subsubsection
LADR
\end_layout

\begin_layout Standard
LADR es la interfaz de línea de comandos para Prober9 y Mace4
\begin_inset CommandInset citation
LatexCommand cite
key "prover9-mace4"

\end_inset

.
 Prover9 es un probador automático de teoremas para primer orden y lógica
 ecuacional y Mace4 es un software capaz de encontrar modelos finitos y
 contraejemplos, licenciados bajo la GPL 2.
\end_layout

\begin_layout Standard
En nuestra herramienta solo se utiliza la interfaz con Mace4.
 Esto es para generar automáticamente modelos de teorías de primer orden.
\end_layout

\begin_layout Subsection
Módulos y organización del código fuente
\end_layout

\begin_layout Standard
Cada archivo 
\family typewriter
.py
\family default
 en la carpeta src implementa los siguientes módulos:
\end_layout

\begin_layout Description

\family typewriter
config
\family default
 Maneja las rutas para acceder a Minion y a LADR.
\end_layout

\begin_layout Description

\family typewriter
minion
\family default
 Implementa la interfaz con Minion.
\end_layout

\begin_layout Description

\family typewriter
mace4
\family default
 Implementa la interfaz con LADR, para utilizar Mace4.
\end_layout

\begin_layout Description

\family typewriter
fotype
\family default
 Implementa los tipos de primer orden
\end_layout

\begin_layout Description

\family typewriter
model
\family default
 Implementa la clase 
\family typewriter
FO_Model
\family default
 que representa las estructuras de primer orden.
\end_layout

\begin_layout Description

\family typewriter
fotheory
\family default
 Implementa las teorías de primer orden.
\end_layout

\begin_layout Description

\family typewriter
functions
\family default
 Implementa la clase general de las funciones, de las que heredan los morfismos
 y las funciones y relaciones de primer orden.
\end_layout

\begin_layout Description

\family typewriter
fofunctions
\family default
 Implementa las funciones y relaciones de primer orden.
\end_layout

\begin_layout Description

\family typewriter
morphisms
\family default
 Implementa los morfismos.
\end_layout

\begin_layout Description

\family typewriter
constellation
\family default
 Implementa la clase 
\family typewriter
Constellation
\family default
 que representa a la clase de estructuras 
\begin_inset Formula $\mathcal{K}$
\end_inset

, y contiene las implementaciones de los algoritmos vistos en el Capítulo
 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:algoritmos de chequeo"

\end_inset

.
\end_layout

\begin_layout Description

\family typewriter
lindenbaum
\family default
 Implementa los algoritmos de generación de álgebras de Lindenbaum presentados
 en el Capítulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Álgebras-de-Lindenbaum"

\end_inset

.
\end_layout

\begin_layout Description

\family typewriter
examples
\family default
 Incluye algunos ejemplos de estructuras, y de tipos de primer orden utilizados
 fundamentalmente para testing.
\end_layout

\begin_layout Description

\family typewriter
fotheories
\family default
 Incluye varias teorías de primer orden, para generar estructuras automáticament
e mediante Mace4.
\end_layout

\begin_layout Description

\family typewriter
sage_to
\family default
 Implementa entre conversión de estructuras algebraicas de Sage a nuestra
 clase 
\family typewriter
FO_Model
\family default
.
\end_layout

\begin_layout Section
Instalación
\end_layout

\begin_layout Subsection
Instalación del paquete en SageMath
\end_layout

\begin_layout Standard
Ahora mostraremos los pasos para la instalación de nuestro paquete a través
 de comandos por consola en Linux, ya que SageMath no ha sido portado a
 otros sistemas operativos.
\end_layout

\begin_layout Standard
Suponiendo que tenemos instalado SageMath en la ruta absoluta SAGEDIR, nos
 movemos al directorio donde se quiere descargar el paquete 
\emph on
Definability
\emph default
, seguimos los siguientes comandos para instalar el paquete en nuestra instalaci
ón de SageMath:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=Python,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

$ git clone --branch v0.5.0-alpha https://github.com/pablogventura/definability.git
 
\end_layout

\begin_layout Plain Layout

$ cd definability/package
\end_layout

\begin_layout Plain Layout

$ ./make_spkg.sh
\end_layout

\begin_layout Plain Layout

$ mv definability-hash.spkg SAGEDIR
\end_layout

\begin_layout Plain Layout

$ cd SAGEDIR
\end_layout

\begin_layout Plain Layout

$ ./sage -i definability-hash.spkg 
\end_layout

\end_inset


\end_layout

\begin_layout Section
Uso del paquete
\end_layout

\begin_layout Standard
Una vez instalado el paquete basta con arrancar Sage con el comando:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=Python,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

$ ./sage 
\end_layout

\end_inset


\end_layout

\begin_layout Standard
y una vez en la consola de Sage, importamos el paquete con el comando:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=Python,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

import definability 
\end_layout

\end_inset


\end_layout

\begin_layout Section
Generación y entrada de estructuras
\end_layout

\begin_layout Standard
Al momento de ingresar estructuras para su chequeo puede optar por la generación
 automática de estructuras a partir de una teoría de primer orden mediante
 la interfaz a Mace4, o la entrada de una estructura en particular manualmente.
\end_layout

\begin_layout Subsection
Generación de estructuras a partir de una teoría de primer orden
\end_layout

\begin_layout Standard
Para definir un objeto del tipo 
\family typewriter
FO_Theory
\family default
 que implementa a una teoría de primer orden basta con un nombre, una descripció
n, y una lista de axiomas en la sintaxis propia de Mace4.
 Por ejemplo para definir la teoría de reticulados bastaría con la siguiente
 línea:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=Python,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

Lat = definability.FO_Theory("Lat",
\end_layout

\begin_layout Plain Layout

                             "Lattices",
\end_layout

\begin_layout Plain Layout

                             ['(x v y) v z = x v (y v z)',
\end_layout

\begin_layout Plain Layout

                              'x v y = y v x',
\end_layout

\begin_layout Plain Layout

                              '(x^y)^z = x^(y^z)',
\end_layout

\begin_layout Plain Layout

                              'x^y = y^x',
\end_layout

\begin_layout Plain Layout

                              '(x v y)^x = x',
\end_layout

\begin_layout Plain Layout

                              '(x^y) v x = x'])
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Ahora para recorrer los reticulados (filtrando isomorfismos) basta con llamar
 al método 
\family typewriter
find_models
\family default
 con la cardinalidad buscada, el cual devuelve un generador.
 Por ejemplo para recorrer los reticulados de 5 elementos basta con 
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=Python,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

list(Lat.find_models(5))
\end_layout

\end_inset

que devolverá una lista con todos los reticulados de 5 elementos filtrando
 isomorfismos.
\end_layout

\begin_layout Standard
Nuestro paquete incluye una gran variedad de teorías de primer orden ya
 cargadas en el modulo 
\family typewriter
fotheories
\family default
.
 Por ejemplo: 
\family typewriter
Lat
\family default
 para reticulados, 
\family typewriter
Graph
\family default
 para grafos, 
\family typewriter
Grp
\family default
 para grupos, etc.
 La lista completa se puede revisar mediante listar el modulo fotheories
 de nuestro paquete con el siguiente comando:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=Python,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

dir(definability.fotheories)
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Entrada manual de una estructura
\end_layout

\begin_layout Standard
Supongamos que queremos ingresar manualmente el reticulado 
\begin_inset Formula $\mathbf{2}\times\mathbf{2}$
\end_inset

.
 Lo primero es definir el tipo de primer orden al que pertenece.
 Para crear un objeto de la clase 
\family typewriter
FO_Type
\family default
 basta con pasar dos diccionarios, el primero para las funciones y el segundo
 para las relaciones.
 Los diccionarios contienen las aridades y se indexan por los símbolos correspon
dientes.
 Por ejemplo, para definir el tipo de los reticulados, junto con una relación
 unaria 
\begin_inset Formula $P$
\end_inset

 para chequear:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=Python,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

tlat = definability.FO_Type({'v': 2, '^': 2},{"P":1})
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Luego se debe definir un universo para la estructura, como por ejemplo
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=Python,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

universe = [0,1,2,3]
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Luego se necesitan definir las funciones supremo e ínfimo, y una relación
 unaria 
\begin_inset Formula $P$
\end_inset

 para su chequeo.
\end_layout

\begin_layout Standard
Una función, implementada por la clase 
\family typewriter
FO_Operation
\family default
 se puede definir mediante un diccionario con claves de tuplas que apuntan
 al valor de la función, o en el caso de funciones binarias, una matriz
 
\begin_inset Formula $A$
\end_inset

 donde el valor 
\begin_inset Formula $A_{i,j}$
\end_inset

 se corresponde a la función evaluada en 
\begin_inset Formula $\left(i,j\right)$
\end_inset

.
 Para definir una relación utilizando la clase 
\family typewriter
FO_Relation
\family default
 basta con una lista de las tuplas que pertenecen a la relación y el universo
 sobre el que la relación está definida.
\end_layout

\begin_layout Standard
Como ejemplo, definimos el ínfimo y el supremo utilizando cada una de las
 maneras para definir funciones, y definimos la relación 
\begin_inset Formula $P$
\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=Python,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

meet = definability.FO_Operation({(0, 0): 0,
\end_layout

\begin_layout Plain Layout

                                  (0, 1): 0,
\end_layout

\begin_layout Plain Layout

                                  (0, 2): 0,
\end_layout

\begin_layout Plain Layout

                                  (0, 3): 0,
\end_layout

\begin_layout Plain Layout

                                  (1, 0): 0,
\end_layout

\begin_layout Plain Layout

                                  (1, 1): 1,
\end_layout

\begin_layout Plain Layout

                                  (1, 2): 2,
\end_layout

\begin_layout Plain Layout

                                  (1, 3): 3,
\end_layout

\begin_layout Plain Layout

                                  (2, 0): 0,
\end_layout

\begin_layout Plain Layout

                                  (2, 1): 2,
\end_layout

\begin_layout Plain Layout

                                  (2, 2): 2,
\end_layout

\begin_layout Plain Layout

                                  (2, 3): 0,
\end_layout

\begin_layout Plain Layout

                                  (3, 0): 0,
\end_layout

\begin_layout Plain Layout

                                  (3, 1): 3,
\end_layout

\begin_layout Plain Layout

                                  (3, 2): 0,
\end_layout

\begin_layout Plain Layout

                                  (3, 3): 3})
\end_layout

\begin_layout Plain Layout

join = definability.FO_Operation([[0,1,2,3],
\end_layout

\begin_layout Plain Layout

                                  [1,1,1,1],
\end_layout

\begin_layout Plain Layout

                                  [2,1,2,1],
\end_layout

\begin_layout Plain Layout

                                  [3,1,1,3]])
\end_layout

\begin_layout Plain Layout

rP = definability.FO_Relation([(2,), (3,)], universe)
\end_layout

\end_inset

Notar que al definir 
\family typewriter
rP
\family default
 estamos pasando una lista de 1-tuplas que definen a la relación y además
 el universo sobre el que está definida.
\end_layout

\begin_layout Standard
Finalmente, para definir el reticulado basta con hacer:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=Python,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

lat2x2 = definability.FO_Model(tlat,
\end_layout

\begin_layout Plain Layout

                               universe,
\end_layout

\begin_layout Plain Layout

                               {'^': meet,
\end_layout

\begin_layout Plain Layout

                                'v': join},
\end_layout

\begin_layout Plain Layout

                               {'P': rP})
\end_layout

\end_inset


\end_layout

\begin_layout Section
Chequeo de definibilidad
\end_layout

\begin_layout Standard
Una vez definidas las estructuras, para chequear definibilidad se utiliza
 un objeto de la clase 
\family typewriter
Constellation
\family default
, pasando una lista de las estructuras en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
 Esta clase implementa los algoritmos vistos en el Capítulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:algoritmos de chequeo"

\end_inset

.
 Por ejemplo siguiendo con el ejemplo anterior:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=Python,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

c = definability.Constellation([lat2x2])
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Para chequear definibilidad están los siguientes métodos:
\end_layout

\begin_layout Itemize

\family typewriter
is_existential_definable
\end_layout

\begin_layout Itemize

\family typewriter
is_existential_positive_definable
\end_layout

\begin_layout Itemize

\family typewriter
is_open_definable
\end_layout

\begin_layout Itemize

\family typewriter
is_positive_open_definable
\end_layout

\begin_layout Standard
los cuales toman dos tipos 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 para decidir definibilidad de las relaciones del tipo 
\begin_inset Formula $\mathcal{L}'-\mathcal{L}$
\end_inset

 en 
\begin_inset Formula $\mathcal{L}$
\end_inset

, y devuelven una tupla con un booleano y un contraejemplo, si es que lo
 hay.
\end_layout

\begin_layout Standard
Los tipos de primer orden implementados por 
\family typewriter
FO_Type
\family default
, tienen implementada la operación 
\begin_inset Quotes fld
\end_inset

+
\begin_inset Quotes frd
\end_inset

 como la unión de tipos.
 Esto permite definir más cómodamente el tipo 
\begin_inset Formula $\mathcal{L}'$
\end_inset

.
\end_layout

\begin_layout Standard
Por ejemplo para chequear definibilidad abierta de la relación 
\begin_inset Formula $P$
\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=Python,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

c.is_open_definable(tlat,tlat + definability.FO_Type({},{"P":1}))
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Lo cual en particular es falso, por lo que el paquete devuelve la tupla:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=Python,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

(False, Embedding([0] -> 2,
\end_layout

\begin_layout Plain Layout

                  FO_Type({'v': 2, '^': 2},{}),
\end_layout

\begin_layout Plain Layout

                  antitype= ['P'],
\end_layout

\begin_layout Plain Layout

                  Injective, ))
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Donde devuelve un contraejemplo, ya que el embedding del subreticulado formado
 por el elemento 
\begin_inset Formula $0$
\end_inset

 en el subreticulado formado por el elemento 
\begin_inset Formula $2$
\end_inset

 (un isomorfismo entre subestructuras de 
\begin_inset Formula $\mathbf{2}\times\mathbf{2}$
\end_inset

) no preserva 
\begin_inset Formula $P$
\end_inset

, negando el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad abierta"

\end_inset

.
\end_layout

\begin_layout Section
Generación de álgebras de Lindenbaum
\end_layout

\begin_layout Standard
Para la generación de las álgebras de Lindenbaum desarrolladas en el capítulo
 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Álgebras-de-Lindenbaum"

\end_inset

 el paquete dispone del modulo 
\family typewriter
lindenbaum
\family default
.
\end_layout

\begin_layout Standard
Este modulo contiene las siguientes funciones:
\end_layout

\begin_layout Description

\family typewriter
ji_of_existencial_definable_algebra
\family default
 genera los elementos join-irreducibles de 
\begin_inset Formula $\mathbf{E}_{n}\left(\mathcal{K}\right)$
\end_inset

 .
\end_layout

\begin_layout Description

\family typewriter
ji_of_existencial_positive_definable_algebra
\family default
 genera los elementos join-irreducibles de 
\begin_inset Formula $\mathbf{E}_{n}^{+}\left(\mathcal{K}\right)$
\end_inset

.
\end_layout

\begin_layout Description

\family typewriter
atoms_of_open_definable_algebra
\family default
 genera los átomos de 
\begin_inset Formula $\mathbf{Op}_{n}\left(\mathcal{K}\right)$
\end_inset

.
\end_layout

\begin_layout Description

\family typewriter
ji_of_open_positive_definable_algebra
\family default
 genera los elementos de 
\begin_inset Formula $\mathbf{Op}_{n}^{+}\left(\mathcal{K}\right)$
\end_inset

 que son join-irreducibles.
\end_layout

\begin_layout Standard
Estas funciones toman un objeto del tipo 
\family typewriter
Constellation
\family default
 que determina 
\begin_inset Formula $\mathcal{K}$
\end_inset

, un tipo para los morfismos en cuestión y una aridad.
\end_layout

\begin_layout Standard
Por ejemplo para obtener los elementos join-irreducibles del reticulado
 de relaciones ternarias definibles en 
\begin_inset Formula $\mathbf{2}\times\mathbf{2}$
\end_inset

 bastaría con la siguiente línea:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=Python,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

definability.lindenbaum.ji_of_existencial_positive_definable_algebra(c,definabilit
y.examples.tiporet,3)
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Lo cual devuelve una lista de 22 relaciones join-irreducibles, que acortamos
 como ejemplo:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily},breaklines=true,language=Python,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

[Relation([0, 0, 0],
\end_layout

\begin_layout Plain Layout

          [1, 1, 1],
\end_layout

\begin_layout Plain Layout

          [2, 2, 2],
\end_layout

\begin_layout Plain Layout

          [3, 3, 3]),
\end_layout

\begin_layout Plain Layout

.
\end_layout

\begin_layout Plain Layout

.
\end_layout

\begin_layout Plain Layout

.
\end_layout

\begin_layout Plain Layout

Relation([0, 0, 0],
\end_layout

\begin_layout Plain Layout

        [0, 1, 1],
\end_layout

\begin_layout Plain Layout

        [0, 2, 2],
\end_layout

\begin_layout Plain Layout

        [0, 3, 3],
\end_layout

\begin_layout Plain Layout

        [1, 0, 0],
\end_layout

\begin_layout Plain Layout

        [1, 1, 1],
\end_layout

\begin_layout Plain Layout

        [1, 2, 2],
\end_layout

\begin_layout Plain Layout

        [1, 3, 3],
\end_layout

\begin_layout Plain Layout

        [2, 0, 0],
\end_layout

\begin_layout Plain Layout

        [2, 1, 1],
\end_layout

\begin_layout Plain Layout

        [2, 2, 2],
\end_layout

\begin_layout Plain Layout

        [2, 3, 3],
\end_layout

\begin_layout Plain Layout

        [3, 0, 0],
\end_layout

\begin_layout Plain Layout

        [3, 1, 1],
\end_layout

\begin_layout Plain Layout

        [3, 2, 2],
\end_layout

\begin_layout Plain Layout

        [3, 3, 3])] 
\end_layout

\end_inset


\end_layout

\begin_layout Chapter
Conclusiones y trabajo futuro
\begin_inset CommandInset label
LatexCommand label
name "chap:Conclusiones-y-trabajo"

\end_inset


\end_layout

\begin_layout Section
Conclusiones
\end_layout

\begin_layout Standard
En este trabajo se hicieron los siguientes aportes:
\end_layout

\begin_layout Itemize
Se probaron resultados para la construcción de un conjunto generador del
 conjunto de morfismos a revisar para definibilidad abierta y definibilidad
 abierta positiva.
\end_layout

\begin_layout Itemize
Se desarrollaron algoritmos para decidir definibilidad de relaciones en
 primer orden, en fórmulas abiertas, abiertas positivas, existenciales y
 existenciales positivas.
\end_layout

\begin_layout Itemize
Se desarrollaron los respectivos algoritmos para obtener el álgebra de relacione
s definibles en cada fragmento de primer orden mencionado anteriormente.
\end_layout

\begin_layout Itemize
Se desarrolló una herramienta que implementa dichos algoritmos.
\end_layout

\begin_layout Itemize
Al probar la herramienta, se conjeturó y luego se probó una caracterización
 de las relaciones binarias definibles por existenciales positivas en reticulado
s distributivos (Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:Caracterizacion de las relaciones binarias definibles por existenciales positivas en reticulados distributivos"

\end_inset

).
\end_layout

\begin_layout Standard
Dado lo inicial de la investigación, las conclusiones tienen que ver con
 la dirección futura de la investigación y las preguntas interesantes que
 han surgido durante este trabajo, que se encuentran en la siguiente sección.
 
\end_layout

\begin_layout Standard
Por otra parte, resulta muy alentador que el primer ejemplo visto seriamente
 haya permitido conjeturar el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:Caracterizacion de las relaciones binarias definibles por existenciales positivas en reticulados distributivos"

\end_inset

.
 Esperamos que sea una herramienta muy útil como asistente de investigación
 para problemas de definibilidad.
\end_layout

\begin_layout Section
Trabajo futuro
\begin_inset CommandInset label
LatexCommand label
name "sec:Trabajo-futuro"

\end_inset


\end_layout

\begin_layout Standard
La experiencia durante el desarrollo nos ha hecho notar que la gran parte
 de los cálculos provienen del cálculo de morfismos.
 En relación a la incidencia que puedan tener propiedades de 
\begin_inset Formula $\mathcal{K}$
\end_inset

 en la complejidad de decidir definibilidad es interesante destacar el extenso
 trabajo existente acerca de la complejidad computacional del CSP (ver,
 e.g., 
\begin_inset CommandInset citation
LatexCommand citep
key "creignou2008complexity"

\end_inset

).
 Es de esperar que si el problema de calcular morfismos para la clase 
\begin_inset Formula $\mathcal{K}$
\end_inset

 (y estructuras derivadas) está bien condicionado, esto tendrá un efecto
 positivo sobre el costo computacional de nuestro problema.
 Un artículo que merece mención especial es 
\begin_inset CommandInset citation
LatexCommand citep
key "MacCSP"

\end_inset

, en donde se demuestra que el cálculo de morfismos se puede resolver en
 tiempo polinomial si se cuenta con la existencia de términos con ciertas
 propiedades ecuacionales (
\emph on
cube terms
\emph default
).
 Una situación particular donde se cuenta con cube terms es bajo la presencia
 de un 
\emph on
Near-Unanimy term
\emph default
, como por ejemplo en el caso de estructuras que tienen un reducto de reticulado.
 Debido a esto resulta interesante el desarrollo de algoritmos que decidan
 definibilidad para este tipo de estructuras.
 Recientemente se ha demostrado que la presencia de cube terms es decidible
 
\begin_inset CommandInset citation
LatexCommand citep
key "cube_terms"

\end_inset

, aunque, dada la naturaleza teórica de este resultado, no está claro si
 el algoritmo descubierto tiene la eficiencia suficiente para que resulte
 relevante a nuestros propósitos.
\end_layout

\begin_layout Standard
Esperamos desarrollar los algoritmos para decidir definibilidad por conjunción
 de atómicas y por primitivas positivas, que nos quedaron pendientes.
\end_layout

\begin_layout Standard
También, queda pendiente explorar y aprovechar en la implementación, la
 interacción entre los diferentes tipos de definibilidad.
 Queda muy claro que hay una jerarquía entre ellas que podría ser aprovechada,
 al calcular diferentes tipos de definibilidad sobre la misma clase 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Standard
También esperamos explorar mejores implementaciones para la generación de
 subestructuras, por ejemplo estudiando los algoritmos utilizados por el
 
\lang english
Universal Algebra Calculator
\lang spanish
 
\begin_inset CommandInset citation
LatexCommand cite
key "UACalc"

\end_inset

.
\end_layout

\begin_layout Standard
Esperamos también continuar el estudio de la definibilidad existencial positiva
 en reticulados distributivos, investigando los casos de mayor aridad.
\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Itemize
Falto el producto de estructuras, para definibilidad por conjuncion de atomicas
 y primitiva positiva
\end_layout

\begin_layout Itemize
Que un conjunto de morfismos alcance para revisar preservación implica que
 genera el conjunto de morfismos completo?
\end_layout

\begin_layout Itemize
Para chequear si alguien es subestructura de otro, quizá conviene recorrer
 mapeos que son embeddings sabiendo que la imagen va a ser una subestructura
 isomorfa.
\end_layout

\begin_layout Itemize
Que hace Minion cuando se le prohíben soluciones (negativetable).
 Quizás primero experimentar con ejemplos.
\end_layout

\begin_layout Itemize
Explorar la relación entre generadores de una subestructura y homomorfismos.
\end_layout

\begin_layout Itemize
De menor a mayor o de menor a mayor las subestructuras?
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
\begin_inset CommandInset bibtex
LatexCommand bibtex
bibfiles "tesis"
options "babplain"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
printbibliography
\end_layout

\end_inset


\end_layout

\end_body
\end_document
